<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><!-- hexo injector head_begin start --><link href="https://cdn.jsdelivr.net/npm/hexo-widget-tree@0.2.2/css/index.css" rel="stylesheet"/><!-- hexo injector head_begin end --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>C++ä»é›¶å¼€å§‹ï¼ˆä¸ƒï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨ | royhuang's blog</title><meta name="author" content="Wanghui Huang"><meta name="copyright" content="Wanghui Huang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="ğŸŒŸã€ŠC++ä»é›¶å¼€å§‹ã€‹ ç³»åˆ—ï¼Œå¼€å§‹æ›´æ–°ä¸­â€¦  C++ä»é›¶å¼€å§‹https:&#x2F;&#x2F;hwh.zone&#x2F;p&#x2F;62712 äº”ã€é¢å¯¹å¯¹è±¡å…¥é—¨ C++å’ŒCä¸€å¤§ä¸»è¦åŒºåˆ«ï¼Œä¾¿æ˜¯å¼•å…¥äº†å…¥é¢å¯¹å¯¹è±¡ã€‚ ä¸ºä»€ä¹ˆéœ€è¦å¼•å…¥é¢å¯¹å¯¹è±¡ï¼Ÿå®ƒæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ 5.1 ä¸ºä»€ä¹ˆéœ€è¦é¢å¯¹å¯¹è±¡ï¼Ÿ 5.1.1 ä»é¢å‘è¿‡ç¨‹è¯´èµ· åœ¨ä¼ ç»Ÿç¼–ç¨‹ä¸­ï¼Œæ•°æ®å’Œå¤„ç†è¯¥æ•°æ®çš„å‡½æ•°æ˜¯å•ç‹¬çš„å®ä½“ï¼Œå®ƒä»¬ç»„åˆåœ¨ä¸€èµ·ä»¥äº§ç”Ÿæ‰€éœ€çš„ç»“æœã€‚ ä¹Ÿå°±æ˜¯é¢å‘è¿‡ç¨‹é€šå¸¸åšæ³•ã€‚ ä½†æ˜¯ç”±äºé¢å‘è¿‡">
<meta property="og:type" content="article">
<meta property="og:title" content="C++ä»é›¶å¼€å§‹ï¼ˆä¸ƒï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨">
<meta property="og:url" content="https://hwh.zone/p/17506/index.html">
<meta property="og:site_name" content="royhuang&#39;s blog">
<meta property="og:description" content="ğŸŒŸã€ŠC++ä»é›¶å¼€å§‹ã€‹ ç³»åˆ—ï¼Œå¼€å§‹æ›´æ–°ä¸­â€¦  C++ä»é›¶å¼€å§‹https:&#x2F;&#x2F;hwh.zone&#x2F;p&#x2F;62712 äº”ã€é¢å¯¹å¯¹è±¡å…¥é—¨ C++å’ŒCä¸€å¤§ä¸»è¦åŒºåˆ«ï¼Œä¾¿æ˜¯å¼•å…¥äº†å…¥é¢å¯¹å¯¹è±¡ã€‚ ä¸ºä»€ä¹ˆéœ€è¦å¼•å…¥é¢å¯¹å¯¹è±¡ï¼Ÿå®ƒæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ 5.1 ä¸ºä»€ä¹ˆéœ€è¦é¢å¯¹å¯¹è±¡ï¼Ÿ 5.1.1 ä»é¢å‘è¿‡ç¨‹è¯´èµ· åœ¨ä¼ ç»Ÿç¼–ç¨‹ä¸­ï¼Œæ•°æ®å’Œå¤„ç†è¯¥æ•°æ®çš„å‡½æ•°æ˜¯å•ç‹¬çš„å®ä½“ï¼Œå®ƒä»¬ç»„åˆåœ¨ä¸€èµ·ä»¥äº§ç”Ÿæ‰€éœ€çš„ç»“æœã€‚ ä¹Ÿå°±æ˜¯é¢å‘è¿‡ç¨‹é€šå¸¸åšæ³•ã€‚ ä½†æ˜¯ç”±äºé¢å‘è¿‡">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg">
<meta property="article:published_time" content="2022-01-24T07:37:07.955Z">
<meta property="article:modified_time" content="2022-03-01T11:48:26.198Z">
<meta property="article:author" content="Wanghui Huang">
<meta property="article:tag" content="C++">
<meta property="article:tag" content="æ•™ç¨‹">
<meta property="article:tag" content="å¿«é€Ÿå…¥é—¨">
<meta property="article:tag" content="é¢å¯¹å¯¹è±¡">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg"><link rel="shortcut icon" href="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/cat-modified.png"><link rel="canonical" href="https://hwh.zone/p/17506/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":"true# copy button","highlightLang":false,"highlightHeightLimit":400},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: {"limitCount":80,"languages":{"author":"ä½œè€…: Wanghui Huang","link":"é“¾æ¥: ","source":"æ¥æº: royhuang's blog","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'C++ä»é›¶å¼€å§‹ï¼ˆä¸ƒï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-03-01 19:48:26'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><meta name="google-site-verification" content="uO6C17u7YuZfMWvThEQ9nOGQS4GIN2zAM6hC4tH-RiM" /><meta name="baidu-site-verification" content="code-nRnoDyQJPT" /><script> var _hmt = _hmt || []; (function() { var hm = document.createElement("script"); hm.src = "https://hm.baidu.com/hm.js?13a4aefcbad9616a1f5859538d0d882e"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s); })(); </script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.min.css" media="defer" onload="this.media='all'"><script async src="https://cdn.jsdelivr.net/npm/hexo-butterfly-tag-plugins-plus@latest/lib/carousel-touch.min.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/cat.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">30</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">42</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">12</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/artitalk/"><i class="fa-fw fa-fw fa-fw fas fa-comment-dots"></i><span> è¯´è¯´</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> ç›®å½•</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> aboutME</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">royhuang's blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/artitalk/"><i class="fa-fw fa-fw fa-fw fas fa-comment-dots"></i><span> è¯´è¯´</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> ç›®å½•</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> aboutME</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">C++ä»é›¶å¼€å§‹ï¼ˆä¸ƒï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-01-24T07:37:07.955Z" title="å‘è¡¨äº 2022-01-24 15:37:07">2022-01-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-03-01T11:48:26.198Z" title="æ›´æ–°äº 2022-03-01 19:48:26">2022-03-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C/">C++</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/">ä»é›¶å¼€å§‹</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/C-%E9%9D%A2%E5%AF%B9%E5%AF%B9%E8%B1%A1/">C++é¢å¯¹å¯¹è±¡</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">12.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>45åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="C++ä»é›¶å¼€å§‹ï¼ˆä¸ƒï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="twikoo_visitors"></span></span></div></div></div><article class="post-content" id="article-container"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><blockquote>
<p>ğŸŒŸ<a href="https://hwh.zone/p/62712/">ã€ŠC++ä»é›¶å¼€å§‹ã€‹</a> ç³»åˆ—ï¼Œå¼€å§‹æ›´æ–°ä¸­â€¦</p>
</blockquote>
<div class="tag link"><a class="link-card" title="C++ä»é›¶å¼€å§‹" href="https://hwh.zone/p/62712"><div class="left"><img src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/cat-modified.png"/></div><div class="right"><p class="text">C++ä»é›¶å¼€å§‹</p><p class="url">https://hwh.zone/p/62712</p></div></a></div>
<h2 id="äº”ã€é¢å¯¹å¯¹è±¡å…¥é—¨">äº”ã€é¢å¯¹å¯¹è±¡å…¥é—¨</h2>
<p>C++å’ŒCä¸€å¤§ä¸»è¦åŒºåˆ«ï¼Œä¾¿æ˜¯å¼•å…¥äº†å…¥é¢å¯¹å¯¹è±¡ã€‚</p>
<p>ä¸ºä»€ä¹ˆéœ€è¦å¼•å…¥é¢å¯¹å¯¹è±¡ï¼Ÿå®ƒæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</p>
<h3 id="5-1-ä¸ºä»€ä¹ˆéœ€è¦é¢å¯¹å¯¹è±¡ï¼Ÿ">5.1 ä¸ºä»€ä¹ˆéœ€è¦é¢å¯¹å¯¹è±¡ï¼Ÿ</h3>
<h4 id="5-1-1-ä»é¢å‘è¿‡ç¨‹è¯´èµ·">5.1.1 ä»é¢å‘è¿‡ç¨‹è¯´èµ·</h4>
<p>åœ¨ä¼ ç»Ÿç¼–ç¨‹ä¸­ï¼Œ<u>æ•°æ®å’Œå¤„ç†è¯¥æ•°æ®çš„å‡½æ•°æ˜¯å•ç‹¬çš„å®ä½“</u>ï¼Œå®ƒä»¬ç»„åˆåœ¨ä¸€èµ·ä»¥äº§ç”Ÿæ‰€éœ€çš„ç»“æœã€‚</p>
<p>ä¹Ÿå°±æ˜¯é¢å‘è¿‡ç¨‹é€šå¸¸åšæ³•ã€‚</p>
<p>ä½†æ˜¯ç”±äºé¢å‘è¿‡ç¨‹çš„è¿™ç§åˆ†ç¦»ï¼Œä¼ ç»Ÿç¼–ç¨‹é€šå¸¸ä¸èƒ½æä¾›éå¸¸ç›´è§‚çš„ç°å®è¡¨ç¤ºï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">goToHome</span>(you);</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¡Œä¸ºä¸»ä½“<code>you</code> å’Œè¡Œä¸º<code>goToHome</code> è¢«åˆ†éš”äº†ï¼š<code>you</code>  è¢«å½“åšå•ç‹¬çš„æ•°æ®å®ä½“ï¼Œè¡Œä¸º<code>goToHome</code> è¢«å½“åšå•ç‹¬çš„å‡½æ•°å®ä½“ã€‚</p>
<p>é¢å¯¹å¯¹è±¡åˆ™æä¾›äº†æ›´ç›´è§‚çš„è¡¨ç¤ºèƒ½åŠ›ã€‚</p>
<p>å› ä¸ºé¢å¯¹å¯¹è±¡<u>å°†å¯¹è±¡ï¼ˆè¡Œä¸ºä¸»ä½“ï¼‰ã€å±æ€§å’Œè¡Œä¸ºå°è£…åˆ°ç‹¬ç«‹ã€å¯é‡ç½®çš„ç±»ä¸­ã€‚</u> è€Œè¿™äº›å±æ€§å’Œè¡Œä¸ºå¾€å¾€ä¹Ÿè¢«è®¤ä¸ºæ˜¯å¯†ä¸å¯åˆ†çš„ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">you.<span class="built_in">goToHome</span>();</span><br></pre></td></tr></table></figure>
<p>æ˜¾ç„¶ï¼Œè¿™è®©å¯¹è±¡ï¼ˆ<code>you</code>ï¼‰æ˜¯è°ï¼Œä»¥åŠæ­£åœ¨è°ƒç”¨ä»€ä¹ˆè¡Œä¸ºï¼ˆ<code>goToHome</code>ï¼‰æ›´æ¸…æ¥šäº†ã€‚æˆ‘ä»¬ä¸å†ä¸“æ³¨äºç¼–å†™å‡½æ•°ï¼Œè€Œæ˜¯ä¸“æ³¨äºå®šä¹‰<u>è¡Œä¸ºé›†çš„å¯¹è±¡</u>ã€‚</p>
<p>è¿™ï¼Œä¹Ÿå°±æ˜¯é¢å¯¹å¯¹è±¡ã€‚</p>
<p>å¾—ç›Šäºè¿™ç§ä¸“æ³¨äºå¯¹è±¡çš„è¡Œä¸ºï¼Œé¢å¯¹å¯¹è±¡å¸¦æ¥ä»¥ä¸‹å‡ ä¸ªå¥½å¤„ï¼š</p>
<ul>
<li>ä»£ç æ¨¡å—åŒ–</li>
<li>æ›´å®¹æ˜“ç†è§£ã€ç›´è§‚</li>
<li>å¯é‡ç”¨æ€§é«˜</li>
</ul>
<p>ç°åœ¨æˆ‘ä»¬æ¥ä¸¾ä¸€ä¸ªæ›´å…·ä½“çš„ä¾‹å­è¿›è¡Œå¯¹æ¯”ï¼šåˆ†åˆ«ä½¿ç”¨é¢å‘è¿‡ç¨‹å’Œé¢å‘å¯¹è±¡çš„æ–¹å¼ï¼Œæ‰“å°å¹´/æœˆ/æ—¥åˆ°å±å¹•ä¸Šã€‚</p>
<ul>
<li>
<p>é¢å¯¹è¿‡ç¨‹</p>
<p>æŒ‰ç…§é¢å¯¹è¿‡ç¨‹çš„æ€æƒ³ï¼Œ<code>Date</code>å½“åšç‹¬ç«‹å˜é‡ç»„ç»‡äº†â€œå¹´/æœˆ/æ—¥â€ï¼Œâ€œæ‰“å°â€åˆ™å½“åšç‹¬ç«‹è¡Œä¸ºï¼ˆå‡½æ•°ï¼‰ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Date</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> year &#123;&#125;;</span><br><span class="line">    <span class="keyword">int</span> month &#123;&#125;;</span><br><span class="line">    <span class="keyword">int</span> day &#123;&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> DateStruct&amp; date)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; date.year &lt;&lt; <span class="string">&#x27;/&#x27;</span> &lt;&lt; date.month &lt;&lt; <span class="string">&#x27;/&#x27;</span> &lt;&lt; date.day;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Date today &#123; <span class="number">2022</span>, <span class="number">1</span>, <span class="number">24</span> &#125;;</span><br><span class="line">    today.day = <span class="number">25</span>; </span><br><span class="line">    <span class="built_in">print</span>(today);  <span class="comment">// 2022/1/25</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>é¢å‘å¯¹è±¡</p>
<p>é¢å‘å¯¹è±¡åˆ™å°†<code>Date</code>è§†ä½œè¡Œä¸ºä¸»ä½“ï¼ˆå¯¹è±¡ï¼‰ï¼Œâ€œå¹´/æœˆ/æ—¥â€è¢«å½“åšå…¶æˆå‘˜å˜é‡ï¼Œâ€œæ‰“å°â€åˆ™æ˜¯å…¶æˆå‘˜å‡½æ•°ã€‚æ­¤æ—¶æ˜ç¡®äº†è¡Œä¸ºä¸»ä½“å¯¹è±¡<code>Date</code>ï¼Œå»ºç«‹äº†â€œå¹´/æœˆ/æ—¥â€å’Œè¡Œä¸ºâ€œæ‰“å°â€çš„å…³è”ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Date</span>  // <span class="keyword">class</span>å…³é”®å­—</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> _year &#123;&#125;;  <span class="comment">// æˆå‘˜å˜é‡</span></span><br><span class="line">    <span class="keyword">int</span> _month &#123;&#125;;</span><br><span class="line">    <span class="keyword">int</span> _day &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span>  <span class="comment">// æˆå‘˜å‡½æ•°</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; m_year &lt;&lt; <span class="string">&#x27;/&#x27;</span> &lt;&lt; m_month &lt;&lt; <span class="string">&#x27;/&#x27;</span> &lt;&lt; m_day;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Date today &#123; <span class="number">2022</span>, <span class="number">1</span>, <span class="number">24</span> &#125;;</span><br><span class="line">    today._day = <span class="number">25</span>; </span><br><span class="line">    <span class="comment">// ä¸»ä½“å¯¹è±¡.è¡Œä¸º() </span></span><br><span class="line">    today.<span class="built_in">print</span>();  <span class="comment">// 2022/1/25</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ç›¸ä¿¡ä½ å¯¹é¢å¯¹å¯¹è±¡æœ‰äº†æ›´æ·±åˆ»çš„ç†è§£ï¼Œç°åœ¨æ¥æ›´ç³»ç»Ÿåœ°äº†è§£é¢å¯¹å¯¹è±¡åŸºæœ¬ç»„æˆå§ã€‚</p>
<h4 id="5-1-2-é¢å¯¹å¯¹è±¡ç»„æˆ">5.1.2 é¢å¯¹å¯¹è±¡ç»„æˆ</h4>
<h5 id="æˆå‘˜ç»„æˆ">æˆå‘˜ç»„æˆ</h5>
<p>å…¶å®ï¼Œå‰é¢æˆ‘ä»¬å·²ç»å±•ç¤ºäº†é¢å¯¹å¯¹è±¡æœ€åŸºæœ¬çš„ç»„æˆï¼š<u>æˆå‘˜å˜é‡</u>å’Œ<u>æˆå‘˜å‡½æ•°</u>ã€‚</p>
<p>é¢å¯¹å¯¹è±¡è¿˜å¯ä»¥æœ‰<u>æˆå‘˜ç±»å‹</u> ã€<u>åµŒå¥—ç±»å‹</u>ã€‚</p>
<ul>
<li>
<p><strong>æˆå‘˜ç±»å‹</strong></p>
<p>æˆå‘˜ç±»å‹è§„å®šè¿™ä¸ªç±»åŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¿™æ ·æˆ‘ä»¬åªéœ€æ›´æ–°ç±»å‹åˆ«åï¼Œè€Œä¸å¿…æ›¿æ¢åŸºæœ¬ç±»å‹ã€‚</p>
<p>è¿™æ ·è¯´æœ‰ç‚¹éš¾ä»¥ç†è§£ï¼Œä¸¾ä¸ªä¾‹å­ï¼š<code>vector</code>ç±»è§„å®šçš„ç±»å‹<code>size_type</code> ã€‚</p>
<p><img src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/image-20220125171853448.png" alt="image-20220125171853448"></p>
<p><code>size_t</code> å½’æ ¹ç©¶åº•å°±æ˜¯ç±»å‹<code>long unsigned int</code> åˆ«å</p>
<p><img src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/image-20220125172016902.png" alt="image-20220125172016902"></p>
<p>ä¹Ÿå°±æ˜¯è¯´ä¸‹é¢ä¸¤ç§å†™æ³•æ˜¯ç­‰ä»·çš„ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">std::vector&lt;<span class="keyword">int</span>&gt;::size_type x;  <span class="comment">// ç­‰ä»·ï¼šunsigned long int x </span></span><br><span class="line">std::cout&lt;&lt;<span class="built_in"><span class="keyword">typeid</span></span>(x).<span class="built_in">name</span>()&lt;&lt; <span class="string">&quot; &quot;</span>;  <span class="comment">// mï¼Œè¡¨ç¤ºunsigned long (int)</span></span><br></pre></td></tr></table></figure>
<p><code>stl_vector.h</code> å˜é‡åŸºæœ¬éƒ½æ˜¯ä½¿ç”¨çš„è¿™ç§ç±»å‹åˆ«åå£°æ˜ï¼Œæ¯”å¦‚æˆ‘ä»¬ç†Ÿæ‚‰çš„<code>size()</code> æ–¹æ³•å£°æ˜ï¼š</p>
<p><img src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/image-20220125172456097.png" alt="image-20220125172456097"></p>
<p><strong>å›åˆ°å‰é¢ï¼šè¿™æ ·åšæœ‰ä»€ä¹ˆå¥½å¤„</strong>ï¼Ÿ</p>
<p>å½“æˆ‘ä»¬æƒ³ä¿®æ”¹vectorä½¿ç”¨çš„åŸºæœ¬ç±»å‹ï¼Œåªéœ€è¦å°†ä¿®æ”¹ç±»å‹åˆ«åå°±è¡Œï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// #define __SIZE_TYPE__ long unsigned int</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __SIZE_TYPE__ int  <span class="comment">// ç°åœ¨vectoråŸºæœ¬ç±»å‹è¢«ä½ å£°æ˜ä¸ºint</span></span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>åµŒå¥—ç±»å‹</strong></p>
<p>è¿™ä¸ªå¾ˆå¥½ç†è§£ï¼Œåªè¦ï¼šç±»ç±»å‹ã€ç»“æ„ä½“ç±»å‹ã€æšä¸¾ç±»å‹åœ¨ç±»ä¸­å£°æ˜ï¼Œå°±å¯ä»¥ç§°å…¶ä¸ºåµŒå¥—ç±»å‹ã€‚</p>
<p>ä»¥æšä¸¾ç±»å‹åµŒå¥—ä¸ºä¾‹ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fruit</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="comment">// æ­¤æ—¶æšä¸¾ç±»å‹å£°æ˜åœ¨ç±»Fruitä¸­</span></span><br><span class="line">    <span class="comment">// æ‰€ä»¥æšä¸¾ç±»å‹æ­¤æ—¶æ˜¯ä¸ªåµŒå¥—ç±»å‹</span></span><br><span class="line">	<span class="class"><span class="keyword">enum</span> <span class="title">FruitType</span></span></span><br><span class="line"><span class="class">	&#123;</span></span><br><span class="line">		apple,</span><br><span class="line">		banana,</span><br><span class="line">		cherry</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	FruitType m_type &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Fruit</span>(FruitType type) :m_type &#123; type &#125;</span><br><span class="line">	&#123;&#125;</span><br><span class="line">	<span class="function">FruitType <span class="title">getType</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> m_type;  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// æ³¨æ„æšä¸¾ç±»å‹ä¸é™åˆ¶ä½œç”¨èŒƒå›´</span></span><br><span class="line">	Fruit apple &#123; Fruit::apple &#125;; <span class="comment">// è°ƒç”¨æ„é€ å‡½æ•°Fruit(FruitType type)</span></span><br><span class="line">    apple.<span class="built_in">getType</span>() ; <span class="comment">// FruitType::apple</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="è®¿é—®æ§åˆ¶ç¬¦">è®¿é—®æ§åˆ¶ç¬¦</h5>
<p><u>ç±»æˆå‘˜è®¿é—®æ§åˆ¶ç¬¦å®ç°äº†ç±»çš„å°è£…</u>ï¼ŒC++è®¿é—®ç¬¦åŒ…æ‹¬ï¼š</p>
<ul>
<li>pprivateï¼šç§æœ‰æˆå‘˜ï¼Œè¯¥æˆå‘˜ä»…åœ¨ç±»å†…å¯ä»¥è¢«è®¿é—®ï¼Œåœ¨ç±»ä½“å¤–ï¼ˆåŒ…æ‹¬æ´¾ç”Ÿç±»ï¼‰æ˜¯éšè—çŠ¶æ€ï¼›</li>
<li>publicï¼šå…¬æœ‰æˆå‘˜ï¼Œè¯¥æˆå‘˜åœ¨ç±»å†…ã€ç±»å¤–ä¹Ÿéƒ½å¯ä»¥è¢«è®¿é—®ï¼Œæ˜¯ç±»å¯¹å¤–æä¾›çš„å¯è®¿é—®æ¥å£ã€‚</li>
</ul>
<p>åœ¨ç»§æ‰¿ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥äº†ç¬¬ä¸‰ç§ä¿®é¥°ç¬¦ï¼š</p>
<ul>
<li>
<p>protectedï¼šä¿æŠ¤æˆå‘˜ï¼Œå’Œç§æœ‰æˆå‘˜ç±»ä¼¼ï¼Œä¸è¿‡åœ¨<u>æ´¾ç”Ÿç±»</u>å¯ä»¥è¢«è®¿é—®ã€‚</p>
<blockquote>
<p>æœ€ä½³å®è·µï¼šä»é™ä½ç±»çš„è€¦åˆæ€§æ¥è¯´ï¼Œä¼˜å…ˆè€ƒè™‘privateè€Œä¸æ˜¯protectã€‚</p>
</blockquote>
</li>
</ul>
<p><code>Base</code> ç±»ä¸­ä¸‰ç§æˆå‘˜è®¿é—®æƒé™ä¹Ÿå¯ä»¥ç”¨ä¸‹å›¾å½¢è±¡è¡¨ç¤ºï¼š</p>
<p><img src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/image-20220208003805697.png" alt="image-20220208003805697"></p>
<p>å…·ä½“å®ä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> m_public &#123;&#125;; </span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="keyword">int</span> m_protected &#123;&#125;; </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_private &#123;&#125;; </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Derived</span>:</span> <span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Derived</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        m_public = <span class="number">1</span>;    <span class="comment">// ok</span></span><br><span class="line">        m_protected = <span class="number">2</span>; <span class="comment">// ok</span></span><br><span class="line">        m_private = <span class="number">3</span>;   <span class="comment">// errorï¼Œæ´¾ç”Ÿç±»è®¿é—®ç§æœ‰æˆå‘˜</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Base base;</span><br><span class="line">    base.m_public = <span class="number">1</span>;    <span class="comment">// ok</span></span><br><span class="line">    base.m_protected = <span class="number">2</span>; <span class="comment">// errorï¼Œç±»å¤–è®¿é—®ä¿æŠ¤æˆå‘˜</span></span><br><span class="line">    base.m_private = <span class="number">3</span>;   <span class="comment">// errorï¼Œç±»å¤–è®¿é—®ç§æœ‰æˆå‘˜</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œè¿›ä¸€æ­¥è¯´æ˜protectedè®¿é—®è¯´æ˜ç¬¦ä½œç”¨ã€‚</p>
<blockquote>
<p>æ¶‰åŠåˆ°<u>7.1</u> ç»§æ‰¿ä¸€äº›çŸ¥è¯†ï¼š</p>
<ul>
<li>æ´¾ç”Ÿç±»ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼šç»§æ‰¿çš„åŸºç±»å‰¯æœ¬éƒ¨åˆ†ï¼Œæ´¾ç”Ÿç±»è‡ªèº«æ‰©å±•çš„éƒ¨åˆ†ã€‚</li>
<li>æ´¾ç”Ÿç±»å®ä¾‹åŒ–æ—¶ï¼Œå¿…é¡»å…ˆè°ƒç”¨åŸºç±»æ„é€ å‡½æ•°åˆå§‹åŒ–åŸºç±»å‰¯æœ¬éƒ¨åˆ†ï¼Œå†è°ƒç”¨æ´¾ç”Ÿç±»æ„é€ å‡½æ•°åˆå§‹åŒ–æ´¾ç”Ÿç±»éƒ¨åˆ†ã€‚</li>
</ul>
</blockquote>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŸºç±»Aï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒï¼š</p>
<ol>
<li>
<p>Aä¸èƒ½è¢«å®ä¾‹åŒ–ï¼›</p>
</li>
<li>
<p>ä½†èƒ½è¢«ç»§æ‰¿ï¼Œæ´¾ç”Ÿç±»ç±»å¯ä»¥å®ä¾‹åŒ–ã€‚</p>
</li>
</ol>
<p>ä¸ºäº†æ»¡è¶³ç¬¬ä¸€ç‚¹ï¼Œæˆ‘ä»¬æƒ³åˆ°å¯ä»¥å°†Açš„æ„é€ å‡½æ•°å£°æ˜ä¸ºprivateã€‚</p>
<p>ä½†è¿™æ ·å°±æ— æ³•æ»¡è¶³ç¬¬äºŒç‚¹ï¼šæ´¾ç”Ÿç±»æ— æ³•å®ä¾‹åŒ–ï¼Œå› ä¸ºæ´¾ç”Ÿç±»æ— æ³•è°ƒç”¨åŸºç±»å‰¯æœ¬çš„ç§æœ‰æ„é€ å‡½æ•°ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="built_in">A</span>()&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>:</span> <span class="keyword">public</span> A</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">B</span>()&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	B b ; <span class="comment">// error: â€˜A::A()â€™ is private</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ—¶å€™éœ€è¦å°†Açš„æ„é€ å‡½æ•°å£°æ˜ä¸ºprotectedï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">		<span class="built_in">A</span>()&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·æ´¾ç”Ÿç±»å°±å¯ä»¥è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°è¿›è¡Œåˆå§‹åŒ–åŸºç±»å‰¯æœ¬äº†ã€‚</p>
<p><strong>æœ€ä½³å®è·µï¼šç±»æˆå‘˜å˜é‡æ˜¯ç§æœ‰çš„ï¼Œç±»æˆå‘˜å‡½æ•°æ˜¯å…¬å¼€çš„</strong>ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¿™ä¹ˆå»ºè®®ï¼Ÿ</p>
<ul>
<li>
<p>å¯¹äºæ™®é€šäººè€Œè¨€ï¼Œé¥æ§å™¨å°±æ˜¯ä¸€ä¸ªç®€å•çš„åŒ…æ‹¬è‹¥å¹²çš„æŒ‰é’®ç•Œé¢ï¼Œç”¨æˆ·åªå…³å¿ƒæŒ‰é’®æŒ‰ä¸‹çš„æ•ˆæœï¼Œä½†ä¸å…³å¿ƒå…·ä½“æ˜¯å¦‚ä½•å’Œç”µè§†é€šä¿¡ã€‚ç±»ä¼¼çš„ï¼Œè¸©ä¸‹æ²¹é—¨è¸æ¿ä¹Ÿä¸éœ€è¦å…³å¿ƒå†…ç‡ƒæœºå¦‚ä½•ä½¿å¾—è½¦è½®è½¬åŠ¨ã€‚</p>
</li>
<li>
<p>è¿™å…¶å®å°±æ˜¯<u>æ¥å£åˆ†ç¦»</u>çš„æ€æƒ³ï¼šé™ä½å¯¹è±¡å¤æ‚æ€§ï¼Œä½¿å¾—æˆ‘ä»¬åœ¨ä¸äº†è§£å¯¹è±¡å¦‚ä½•å·¥ä½œçš„å‰æä¸‹ï¼Œå¯ä»¥å»ä½¿ç”¨å¯¹è±¡ã€‚</p>
</li>
</ul>
<h5 id="ä¸‰å¤§ç‰¹æ€§ä¹‹å°è£…">ä¸‰å¤§ç‰¹æ€§ä¹‹å°è£…</h5>
<p><strong>ç»“æ„åˆ†ç¦»æ€æƒ³ä¹Ÿå°±æ˜¯é¢å¯¹å¯¹è±¡ä¸‰å¤§ç‰¹æ€§ï¼šå°è£…ï¼Œçš„é‡è¦ç»„æˆéƒ¨åˆ†</strong>ã€‚</p>
<p><strong>æ€ä¹ˆå®ç°å°è£…</strong>ï¼Ÿ</p>
<p>åœ¨ C++ ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡<u>è®¿é—®è¯´æ˜ç¬¦å®ç°å°è£…</u>ã€‚ç±»çš„æ‰€æœ‰æˆå‘˜å˜é‡éƒ½æ˜¯ç§æœ‰çš„ï¼ˆéšè—å®ç°ç»†èŠ‚ï¼‰ï¼Œå¤§å¤šæ•°æˆå‘˜å‡½æ•°éƒ½æ˜¯å…¬å¼€çš„ï¼ˆå‘ç”¨æˆ·å…¬å¼€æ¥å£ï¼‰ã€‚</p>
<p>å°è£…å…·ä½“æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</p>
<ul>
<li>é™ä½å¯¹è±¡å¤æ‚æ€§ï¼ŒåŒå‰ï¼›</li>
<li>ä¿æŠ¤æ•°æ®ï¼Œç±»ä¸­å®šä¹‰çš„æˆå‘˜å˜é‡éƒ½æ˜¯å…¨å±€å˜é‡ï¼Œæ„å‘³ç€å®ƒå¯ä»¥è¢«ç±»ä»»ä½•å¯¹è±¡ä¿®æ”¹ï¼Œè¿™å¾ˆå±é™©ã€‚ä½¿ç”¨privateä¿®é¥°é¿å…äº†è¿™ä¸€ç‚¹ï¼Œè®¿é—®æ•°æ®åªèƒ½å…¬å…±æ¥å£å‡½æ•°ï¼›</li>
<li>æ›´å®¹æ˜“è°ƒè¯•ï¼Œå› ä¸ºæ¯ä¸ªäººéƒ½åªèƒ½é€šè¿‡åŒä¸€ä¸ªå…¬å…±å‡½æ•°ä¿®æ”¹æŸä¸ªå€¼ï¼Œè¿™æ ·å€¼ä¸æ­£ç¡®æ—¶å¾ˆå®¹æ˜“è¿›è¡Œdebugï¼›</li>
<li>æ›´å®¹æ˜“ä¿®æ”¹ï¼Œâ€¦</li>
</ul>
<p>å¦å¤–ä¸¤å¤§ç‰¹æ€§å°†ä¼šåœ¨åé¢ç« èŠ‚ä»‹ç»ï¼š</p>
<ul>
<li>ç»§æ‰¿ï¼šè®©æŸç§ç±»å‹ï¼ˆæ´¾ç”Ÿç±»ï¼‰å¯¹è±¡è·å¾—å¦ä¸€ä¸ªç±»å‹å¯¹è±¡ï¼ˆåŸºç±»ï¼‰çš„å±æ€§å’Œæ–¹æ³•ã€‚</li>
<li>å¤šæ€ï¼šC++ å¤šæ€æŒ‡ç›¸åŒå¯¹è±¡æ”¶åˆ°ä¸åŒæ¶ˆæ¯ï¼Œæˆ–ä¸åŒå¯¹è±¡æ”¶åˆ°ç›¸åŒæ¶ˆæ¯æ—¶ï¼Œäº§ç”Ÿä¸åŒçš„å®ç°åŠ¨ä½œã€‚</li>
</ul>
<h5 id="ç±»å’Œç»“æ„ä½“è¿™ä¹ˆåƒï¼Ÿ">ç±»å’Œç»“æ„ä½“è¿™ä¹ˆåƒï¼Ÿ</h5>
<p>çœ‹åˆ°è¿™ä½ ä¸ç¦æƒ³åæ§½ï¼Œä½ è¯´ç±»è¿™äº›åŠŸèƒ½ï¼š</p>
<ul>
<li>åµŒå¥—ã€å˜é‡ã€å‡½æ•°</li>
</ul>
<p>ç»“æ„ä½“éƒ½æ”¯æŒå•Šï¼Ÿç”šè‡³ä½ è¿˜çŸ¥é“æ›´å¤šï¼š</p>
<ul>
<li>ç»“æ„ä½“æ”¯æŒç»§æ‰¿ã€å¤šæ€â€¦</li>
</ul>
<p>æ˜¯çš„ï¼Œåœ¨C++ä¸­ç±»å’Œç»“æ„ä½“é™¤äº†<u>é»˜è®¤è®¿é—®ç¬¦</u>å¤–å¤ªåƒäº†ï¼Œä»¥è‡³äºå¾ˆå¤šå¼€å‘äººå‘˜è®¤ä¸ºè¿™æ˜¯ä¸ªé”™è¯¯çš„è®¾è®¡ã€‚</p>
<p>ç¡®å®ï¼Œè¿™çš„ç¡®æœ‰ç‚¹ä¸åˆç†ã€‚æ ¹æ®å‰äººç»éªŒâ€”â€”</p>
<p><strong>æœ€ä½³å®è·µï¼šå°† struct ç”¨äºçº¯æ•°æ®ç»“æ„ï¼Œå¯¹åŒæ—¶å…·æœ‰æ•°æ®å’Œå‡½æ•°çš„å¯¹è±¡ä½¿ç”¨ class</strong>ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå»ºè®®structå£°æ˜ä¸ºPOD(Plain Old Data)ç±»å‹è¿›è¡Œä½¿ç”¨ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/45545035">ä»€ä¹ˆæ˜¯PODç±»å‹ï¼Ÿ</a></p>
<p>å¦‚æœstruct/class/enumç­‰ï¼Œåªå®šä¹‰äº†å¸¸è§„æ•°æ®ç±»å‹(ä¸å«æœ‰è‡ªå®šä¹‰æ•°æ®ç±»å‹)ï¼Œä¸ä½¿ç”¨å°åŒ…æˆ–è€…å…¶å®ƒé¢å¯¹å¯¹è±¡ç‰¹å¾ï¼Œé‚£ä¹ˆå°±æ˜¯PODç±»å‹ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">myDate</span>   // <span class="title">POD</span>ç±»å‹</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">float</span> f;</span><br><span class="line">    <span class="keyword">char</span> c;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="5-2-æ„é€ å‡½æ•°åŠåˆå§‹åŒ–">5.2 æ„é€ å‡½æ•°åŠåˆå§‹åŒ–</h3>
<p>å½“ä¸€ä¸ªç±»/ç»“æ„ä½“çš„æ‰€æœ‰æˆå‘˜éƒ½æ˜¯å…¬å…±æˆå‘˜æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥<u>åˆ—è¡¨åˆå§‹åŒ–</u>ç±»/ç»“æ„ä½“ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> m_x ;</span><br><span class="line">    <span class="keyword">int</span> m_y ;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Foo foo1 &#123; <span class="number">1</span>, <span class="number">2</span> &#125;; </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯å‰é¢æˆ‘ä»¬ä¹Ÿå¼ºè°ƒè¿‡ï¼Œæˆå‘˜å˜é‡ä¸€èˆ¬å£°æ˜ä¸ºprivateã€‚</p>
<p><strong>æ­¤æ—¶å¦‚ä½•åˆå§‹åŒ–privateä¿®é¥°çš„æˆå‘˜å˜é‡</strong>ï¼Ÿ</p>
<ul>
<li>
<p>å¦‚æœç§æœ‰æˆå‘˜å˜é‡ä»…ä»…æ˜¯éœ€è¦é›¶å€¼åˆå§‹åŒ–ï¼Œåœ¨ç±»æˆå‘˜å˜é‡ä½¿ç”¨åˆ—è¡¨åˆå§‹åŒ–<code>&#123;&#125;</code>å³å¯</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> m_x&#123;&#125; ;  <span class="comment">// å£°æ˜æ—¶åˆ—è¡¨åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">int</span> m_y&#123;&#125; ;  <span class="comment">// å£°æ˜æ—¶åˆ—è¡¨åˆå§‹åŒ–</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å¦‚æœç§æœ‰æˆå‘˜å˜é‡éœ€è¦æŒ‡å®šå€¼ï¼Œ<strong>ä½¿ç”¨æ„é€ å‡½æ•°å¯ä»¥æŒ‡å®šåˆå§‹åŒ–ç±»çš„æˆå‘˜å˜é‡</strong>ã€‚</p>
</li>
</ul>
<p>æ„é€ å‡½æ•°æœ‰ç‰¹å®šå‘½åè§„åˆ™ï¼š</p>
<ul>
<li>å’Œç±»åŒå</li>
<li>æ²¡æœ‰è¿”å›ç±»å‹</li>
</ul>
<p>ä»é»˜è®¤æ„é€ å‡½æ•°å¼€å§‹å§ã€‚</p>
<h4 id="5-2-1-é»˜è®¤æ„é€ å‡½æ•°ã€åˆå§‹åŒ–åŠç±»åˆ†é…">5.2.1 é»˜è®¤æ„é€ å‡½æ•°ã€åˆå§‹åŒ–åŠç±»åˆ†é…</h4>
<h5 id="é»˜è®¤æ„é€ å‡½æ•°">é»˜è®¤æ„é€ å‡½æ•°</h5>
<p>ä¸å¸¦å‚æ•°ï¼ˆæˆ–æ‰€æœ‰å‚æ•°éƒ½å…·æœ‰é»˜è®¤å€¼ï¼‰çš„æ„é€ å‡½æ•°ç§°ä¸º<strong>é»˜è®¤æ„é€ å‡½æ•°</strong>ã€‚</p>
<blockquote>
<p>ã€æ³¨ã€‘æ²¡æœ‰ä¸€ä¸ªæ„é€ å‡½æ•°è¢«æ˜¾å¼å£°æ˜æ—¶ï¼Œç¼–è¯‘å™¨ä¼šéšå¼å£°æ˜ä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ã€‚</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fraction</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_numerator &#123;&#125;;</span><br><span class="line">    <span class="keyword">int</span> m_denominator &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Fraction</span>() <span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    &#123;</span><br><span class="line">        m_numerator = <span class="number">0</span>;</span><br><span class="line">        m_denominator = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Fraction frac&#123;&#125;; <span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œ<code>Fraction frac&#123;&#125;</code>æ—¶ï¼Œä¼šåˆ›å»ºç±»<code>Fraction</code>çš„å®ä¾‹ <code>frac</code>ï¼Œç„¶åè°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°åˆå§‹åŒ–å¯¹è±¡<code>frac</code>ã€‚</p>
<p>æœ‰æ—¶å€™ä½ ä¹Ÿä¼šçœ‹åˆ°ä¸‹é¢åˆå§‹åŒ–æ–¹å¼ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Fraction frac;</span><br><span class="line"><span class="function">Fraction <span class="title">frac</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
<p>è¿™äºŒè€…æœ‰ä»€ä¹ˆä¸åŒå—ï¼Ÿ</p>
<h5 id="åˆ—è¡¨åˆå§‹åŒ–å’Œç›´æ¥åˆå§‹åŒ–">åˆ—è¡¨åˆå§‹åŒ–å’Œç›´æ¥åˆå§‹åŒ–</h5>
<p><code>Fraction frac&#123;&#125;</code> é€šå¸¸ç§°ä¸ºåˆ—è¡¨åˆå§‹åŒ–ï¼Œè€Œ <code>Fraction frac / Fraction frac()</code> è¢«ç§°ä¸ºç›´æ¥åˆå§‹åŒ–ã€‚</p>
<p>å®ƒä»¬éƒ½ä¼šåœ¨æ‰§è¡Œæ—¶è°ƒç”¨ç›¸å…³æ„é€ å‡½æ•°ï¼Œä½†æ˜¯<code>&#123;&#125;</code> æ–¹å¼è¿˜<u>å¯èƒ½</u>ä¼šä½¿å¾—ç¼–è¯‘å™¨è°ƒç”¨æ„é€ å‡½æ•°ä¹‹å‰ï¼Œ<u>å¯¹æˆå‘˜å˜é‡è¿›è¡Œé›¶å€¼åˆå§‹åŒ–</u>ã€‚</p>
<p>éªŒè¯ä¸€ä¸‹ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fraction</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_numerator ;  <span class="comment">// å»é™¤&#123;&#125;</span></span><br><span class="line">    <span class="keyword">int</span> m_denominator ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Fraction</span>()  <span class="comment">// ä¸åšä»»ä½•äº‹</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// m_numerator = 0;  </span></span><br><span class="line">        <span class="comment">// m_denominator = 1;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Fraction frac1&#123;&#125;; <span class="comment">// åˆ—è¡¨åˆå§‹åŒ–</span></span><br><span class="line">    Fraction frac2;   <span class="comment">// ç›´æ¥åˆå§‹åŒ–</span></span><br><span class="line">    std::cout&lt;&lt;frac1.m_numerator&lt;&lt;std::endl;</span><br><span class="line">    std::cout&lt;&lt;frac2.m_numerator&lt;&lt;std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">2082139952</span><br></pre></td></tr></table></figure>
<p>å¯è§åˆ—è¡¨åˆå§‹åŒ–æ–¹å¼ç¡®å®å¯¹æˆå‘˜å˜é‡è¿›è¡Œäº†<u>é›¶å€¼åˆå§‹åŒ–</u>ï¼Œè€Œè¿›è¡Œç›´æ¥åˆå§‹åŒ–å­˜çš„æ˜¯åƒåœ¾å€¼ï¼ˆè¿™ä¸€ç‚¹æˆ‘ä»¬åœ¨<u>1.2.4</u>èŠ‚ä¹Ÿæ€»ç»“å¯¹æ¯”è¿‡ï¼Œæ­¤æ—¶æˆå‘˜å˜é‡å€¼éƒ½æ˜¯<u>é»˜è®¤åˆå§‹åŒ–</u>çš„åƒåœ¾å€¼ï¼‰ã€‚</p>
<h5 id="ç±»é™æ€åˆ†é…å’ŒåŠ¨æ€åˆ†é…">ç±»é™æ€åˆ†é…å’ŒåŠ¨æ€åˆ†é…</h5>
<p>åœ¨è¿™ä¹‹å‰æˆ‘ä»¬è§åˆ°ç±»çš„å¯¹è±¡éƒ½æ˜¯é™æ€åˆ†é…çš„ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Fraction frac2;</span><br><span class="line">Fraction frac1&#123;&#125;; </span><br></pre></td></tr></table></figure>
<p>ç¼–è¯‘å™¨é™æ€å»ºç«‹ä¸€ä¸ªç±»å¯¹è±¡ï¼Œåœ¨<u>æ ˆç©ºé—´</u>ä¸­åˆ†é…å†…å­˜ï¼Œ<u>æ‰€ä»¥è¯¥å¯¹è±¡å†…å­˜ä¸éœ€è¦æˆ‘ä»¬ç®¡ç†</u>ï¼Œç¼–è¯‘å™¨è´Ÿè´£é‡Šæ”¾ã€‚</p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥è¿›è¡ŒåŠ¨æ€åˆ†é…ï¼ˆnewæ–¹å¼ï¼‰ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Fraction* pfrac = <span class="keyword">new</span> Fraction&#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶ç¼–è¯‘å™¨åŠ¨æ€å»ºç«‹ä¸€ä¸ªç±»å¯¹è±¡ï¼Œåœ¨<u>å †ç©ºé—´</u>ä¸Šåˆ†é…å†…å­˜ï¼Œéœ€è¦æˆ‘ä»¬ä½¿ç”¨deleteæ˜¾å¼åˆ é™¤ç®¡ç†å†…å­˜ã€‚</p>
<p><strong>ç±»å¦‚ä½•å®ç°åªèƒ½é™æ€åˆ†é…æˆ–åªèƒ½åŠ¨æ€åˆ†é…å¯¹è±¡</strong> ï¼Ÿ</p>
<ul>
<li>åªèƒ½é™æ€åˆ†é…ï¼šæŠŠnewã€deleteè¿ç®—ç¬¦é‡è½½ä¸ºprivateï¼›</li>
<li>åªèƒ½åŠ¨æ€åˆ†é…ï¼šæŠŠæ„é€ è®¾ä¸ºprivate/protectedå±æ€§ï¼Œç±»é™æ€å‡½æ•°åˆ†é…å¯¹è±¡ã€‚</li>
</ul>
<p>ä¸‹é¢æ˜¯å®ä¾‹ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åªèƒ½é™æ€åˆ†é…ï¼Œç¦ç”¨newï¼ˆå£°æ˜ä¸ºprivateï¼‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span>* <span class="keyword">operator</span> <span class="title">new</span><span class="params">(<span class="keyword">size_t</span> t)</span></span>&#123;&#125;     <span class="comment">// æ³¨æ„å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°å’Œè¿”å›å€¼éƒ½æ˜¯å›ºå®šçš„</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="keyword">operator</span> <span class="title">delete</span><span class="params">(<span class="keyword">void</span>* ptr)</span></span>&#123;&#125;  <span class="comment">// é‡è½½äº†newå°±éœ€è¦é‡è½½delete</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">A</span>()&#123;&#125;</span><br><span class="line">    ~<span class="built_in">A</span>()&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åªèƒ½åŠ¨æ€åˆ†é…ï¼ˆå¤–éƒ¨æ— æ³•ä½¿ç”¨æ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ— æ³•å®ä¾‹åŒ–ï¼Œåªèƒ½é€šè¿‡å†…éƒ¨å‡½æ•°åŠ¨æ€åˆ†é…å†…å­˜è¿”å›ï¼‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">B</span>()&#123;&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> B* <span class="title">create</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">B</span>();&#125; <span class="comment">// é™æ€å‡½æ•°ï¼Œå› ä¸ºä¸èƒ½åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">    ~<span class="built_in">B</span>()&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    A a; <span class="comment">// é™æ€åˆ†é…</span></span><br><span class="line">    B* b = B::<span class="built_in">create</span>(); <span class="comment">// åŠ¨æ€åˆ†é…</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="5-2-2-è½¬æ¢æ„é€ å‡½æ•°">5.2.2 è½¬æ¢æ„é€ å‡½æ•°</h4>
<p>C++ ä¼šå°†ä»»ä½•æ„é€ å‡½æ•°è§†ä¸ºéšå¼è½¬æ¢è¿ç®—ç¬¦ï¼Œåœ¨<u>4.X.1 ç”¨æˆ·è‡ªå®šä¹‰éšå¼è½¬æ¢</u>æœ‰è¿‡è¯¦ç»†ä»‹ç»ã€‚</p>
<p>ç®€å•å›å¿†ä¸€ä¸‹ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">dog</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="comment">// 1.è½¬æ¢æ„é€ å‡½æ•°</span></span><br><span class="line">        <span class="built_in">dog</span>(string name) &#123;m_name = name;&#125; </span><br><span class="line">        <span class="comment">// 2.ç±»å‹è½¬æ¢é‡è½½</span></span><br><span class="line">        <span class="function"><span class="keyword">operator</span> <span class="title">string</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> m_name;&#125; </span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        string m_name;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">      string dogname = <span class="string">&quot;dog&quot;</span>;</span><br><span class="line">      <span class="comment">// 1.è½¬æ¢æ„é€ å‡½æ•°</span></span><br><span class="line">      dog d = dogname; <span class="comment">// ok</span></span><br><span class="line">      <span class="comment">// 2.ç±»å‹è½¬æ¢é‡è½½</span></span><br><span class="line">      std::cout &lt;&lt; <span class="string">&quot;my name is &quot;</span> &lt;&lt; <span class="built_in">string</span>(d) &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…·ä½“è¿‡ç¨‹æ¶‰åŠåˆ°å¤åˆ¶åˆå§‹åŒ–ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dog d = dogname; <span class="comment">// ok</span></span><br></pre></td></tr></table></figure>
<ol>
<li>è¡¨è¾¾å¼ä»å³åˆ°å·¦ï¼Œæ„é€ å‡½æ•°<code>dog(string)</code>ä½œä¸ºè½¬æ¢æ„é€ å‡½æ•° ï¼Œç¼–è¯‘å™¨å…ˆåˆ›å»º<code>dog</code>ä¸´æ—¶åŒ¿åå¯¹è±¡ï¼Œä½¿å¾—<code>=</code>ä¸¤è¾¹æ“ä½œç±»å‹ä¸€è‡´ï¼›</li>
<li>ç„¶å<code>dog(string)</code> åˆå§‹åŒ–åŒ¿åå¯¹è±¡ï¼›</li>
</ol>
<p>è‡³æ­¤ï¼Œå®Œæˆäº†<code>string</code>ç±»å‹éšå¼è½¬æ¢ä¸º<code>dog</code> ã€‚æ¥ä¸‹æ¥æ˜¯å¤åˆ¶åˆå§‹åŒ–ç›¸å…³è¿‡ç¨‹ï¼š</p>
<ol>
<li>ç¼–è¯‘å™¨åˆ›å»ºå¯¹è±¡<code>d</code> ï¼›</li>
<li>è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°ï¼Œç”¨åŒ¿åå¯¹è±¡æˆå‘˜å€¼å¤åˆ¶åˆå§‹åŒ–å¯¹è±¡<code>d</code> ã€‚</li>
</ol>
<p>åˆå§‹åŒ–ç›¸å…³å·¥ä½œç»†èŠ‚&amp;åŸç†è¯·çœ‹ä¸‹æ–‡ã€‚</p>
<h4 id="5-2-3-å†è°ˆåˆå§‹åŒ–ğŸŒŸ">5.2.3 å†è°ˆåˆå§‹åŒ–ğŸŒŸ</h4>
<p>å›é¡¾ä¸€ä¸‹ä¸‰ç§åˆå§‹åŒ–æ–¹å¼ã€‚</p>
<p>ä¸‹é¢æ˜¯åˆ—è¡¨åˆå§‹åŒ–<code>&#123;&#125;</code> åˆå§‹åŒ–ï¼ˆå¯èƒ½ä¼šå¯¹éé™æ€æˆå‘˜è¿›è¡Œé›¶å€¼åˆå§‹åŒ–ï¼‰ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Date</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_year&#123;&#125;;</span><br><span class="line">    <span class="keyword">int</span> m_month&#123;&#125;;</span><br><span class="line">    <span class="keyword">int</span> m_day&#123;&#125;;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Date</span>() = <span class="keyword">default</span>;</span><br><span class="line">    <span class="built_in">Date</span>(<span class="keyword">int</span> day,<span class="keyword">int</span> month=<span class="number">1</span>,,<span class="keyword">int</span> month=<span class="number">1</span><span class="keyword">int</span> year=<span class="number">2022</span>) <span class="comment">// å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œå­˜åœ¨é»˜è®¤å€¼</span></span><br><span class="line">    &#123;</span><br><span class="line">        m_year=year;m_month=month;m_day=day;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Date date&#123;<span class="number">25</span>&#125;; <span class="comment">// åˆ—è¡¨åˆå§‹åŒ–ï¼Œè°ƒç”¨å¸¦å‚æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ç›´æ¥åˆå§‹åŒ–æ–¹å¼ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Date <span class="title">date</span><span class="params">(<span class="number">25</span>)</span></span>; <span class="comment">// ç›´æ¥åˆå§‹åŒ–</span></span><br></pre></td></tr></table></figure>
<p>ç”šè‡³ä½ è¿˜å¯ä»¥ä½¿ç”¨<u>å¤åˆ¶åˆå§‹åŒ–</u>ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Date date1 = <span class="number">25</span>;   <span class="comment">// 1ï¼Œè¿˜è¿›è¡Œäº†éšå¼è½¬æ¢ï¼Œç­‰ä»·äºDate date1 =Date(25)</span></span><br><span class="line">Date date2 = <span class="built_in">Date</span>(<span class="number">25</span>); <span class="comment">// 2</span></span><br><span class="line">Date date3 = Date&#123;<span class="number">25</span>&#125;; <span class="comment">// 3</span></span><br><span class="line">Date date4 = date3;    <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>
<p><strong><code>=</code> å·¦ä¾§æ˜¯è¢«åˆå§‹åŒ–çš„å¯¹è±¡ï¼Œå› ä¸º<code>=</code>å·¦å³ä¸¤ä¾§æ“ä½œç±»å‹è¦ç›¸ç­‰ï¼Œæ‰€ä»¥<code>=</code> å³ä¾§ä¼šå…ˆç”Ÿæˆä¸€ä¸ªï¼ˆåŒ¿åï¼‰å¯¹è±¡ï¼Œå¯¹å·¦ä¾§å¯¹è±¡æˆå‘˜è¿›è¡Œï¼ˆå¤åˆ¶ï¼‰åˆå§‹åŒ–</strong>ã€‚</p>
<p>ä½†æ˜¯ï¼Œæˆ‘ä»¬å»ºè®®é¿å…ä½¿ç”¨ç±»è¿›è¡Œå¤åˆ¶åˆå§‹åŒ–ï¼Œå› ä¸ºä¸€èˆ¬æ•ˆç‡è¾ƒä½ä¸”ä¸å®‰å…¨ã€‚</p>
<p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿå¤åˆ¶åˆå§‹åŒ–æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ</p>
<h5 id="å¤åˆ¶åˆå§‹åŒ–">å¤åˆ¶åˆå§‹åŒ–</h5>
<blockquote>
<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://sqrt-1.me/?p=241">C++çš„ç›´æ¥åˆå§‹åŒ–ä¸å¤åˆ¶åˆå§‹åŒ–</a></p>
</blockquote>
<p>å…ˆè¯´è¯´ç›´æ¥åˆå§‹åŒ–æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼š</p>
<p><strong>æ³¨æ„ï¼Œæ„é€ å‡½æ•°æ²¡æœ‰åˆ›å»ºå¯¹è±¡ï¼Œåªè¿›è¡Œåˆå§‹åŒ–ã€‚</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Date <span class="title">date</span><span class="params">(<span class="number">25</span>)</span></span>; <span class="comment">// ç›´æ¥åˆå§‹åŒ–</span></span><br></pre></td></tr></table></figure>
<ol>
<li>ç¼–è¯‘å™¨åˆ›å»ºä¸€ä¸ªå¯¹è±¡<code>date</code> ï¼›</li>
<li>åˆå§‹åŒ–static<u>é™æ€æˆå‘˜</u>ï¼›</li>
<li>æœ€åè°ƒç”¨åŒ¹é…çš„æ„é€ å‡½æ•° <code>Date(int day,int year=2022,int month=1)</code>åˆå§‹åŒ–<code>date</code>çš„<u>éé™æ€æˆå‘˜</u>ã€‚</li>
</ol>
<p>åˆ—è¡¨åˆå§‹åŒ–ç±»ä¼¼ï¼Œåªæ˜¯åœ¨è°ƒç”¨æ„é€ å‡½æ•°å‰ï¼Œ<u>å¯èƒ½è¿˜ä¼šå¯¹éé™æ€æˆå‘˜è¿›è¡Œé›¶å€¼åˆå§‹åŒ–</u>ã€‚</p>
<p>å¯¹äºå¤åˆ¶åˆå§‹åŒ–ï¼Œè¿˜æ¶‰åŠåˆ°ç¼–è¯‘å™¨ä¸ºæˆ‘ä»¬éšå¼å£°æ˜çš„å¤åˆ¶æ„é€ å‡½æ•°ã€‚</p>
<p>ä¸€ä¸ªç©ºç±»é»˜è®¤ä¼šæ·»åŠ ä»¥ä¸‹å‡½æ•°ï¼ŒåŒ…æ‹¬å¤åˆ¶æ„é€ å‡½æ•°ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¼ºçœæ„é€ å‡½æ•°</span></span><br><span class="line"><span class="built_in">Date</span>();</span><br><span class="line"><span class="comment">// ææ„å‡½æ•°</span></span><br><span class="line">~<span class="built_in">Date</span>();</span><br><span class="line"><span class="comment">// èµ‹å€¼è¿ç®—å‡½æ•°</span></span><br><span class="line">Date&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> Date&amp;);</span><br><span class="line"><span class="comment">// å¤åˆ¶æ„é€ å‡½æ•° ï¼ˆcopy constructorï¼‰</span></span><br><span class="line"><span class="built_in">Date</span>(Date <span class="keyword">const</span>&amp; tmp);</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­å¤åˆ¶æ„é€ å‡½æ•°å®Œæ•´å®šä¹‰ä¸ºï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æˆå‘˜åˆ—è¡¨æ–¹å¼ï¼Œä¸‹èŠ‚ä»‹ç»</span></span><br><span class="line"><span class="built_in">Date</span>(Date <span class="keyword">const</span>&amp; tmp):<span class="built_in">m_year</span>(tmp.m_year),<span class="built_in">m_month</span>(tmp.m_month),<span class="built_in">m_day</span>(tmp.m_day) </span><br><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>å›åˆ°å¤åˆ¶åˆå§‹åŒ–ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Date date = <span class="built_in">Date</span>(<span class="number">25</span>); <span class="comment">// å¤åˆ¶åˆå§‹åŒ–</span></span><br></pre></td></tr></table></figure>
<ol>
<li>
<p>ä¸ºäº†<code>=</code>ä¸¤ä¾§æ“ä½œç±»å‹ä¸€è‡´ï¼Œ<u>ç¼–è¯‘å™¨é¦–å…ˆåˆ›å»ºä¸€ä¸ªåŒ¿åå¯¹è±¡</u>ï¼Œä¸ºæ–¹ä¾¿è®°ä¸º<code>tmp</code>ï¼›</p>
<blockquote>
<p>æ³¨ï¼š<code>Date(25)</code> æ˜¯ä¸€ç§åŒ¿åå¯¹è±¡åˆå§‹åŒ–æ–¹å¼ï¼Œå®ƒéšè—äº†å¯¹è±¡çš„åå­—ï¼Œç­‰ä»·äºï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Date <span class="title">tmp</span><span class="params">(<span class="number">25</span>)</span></span>; <span class="comment">// åŒ¿åå¯¹è±¡å‡è®¾ä¸ºtmp</span></span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li>
<p>æ‰§è¡Œ<code>Date(25)</code>ï¼Œï¼ˆåŒ¿åå¯¹è±¡ä¸­çš„ï¼‰æ„é€ å‡½æ•° <code>Date(int day,int year=2022,int month=1)</code> <u>åˆå§‹åŒ–ä¸´æ—¶å¯¹è±¡</u>ï¼›</p>
</li>
<li>
<p>ç¼–è¯‘å™¨åˆ›å»ºä¸€ä¸ªå¯¹è±¡<code>date</code> ï¼›</p>
</li>
<li>
<p>æœ€åç¼–è¯‘å™¨å†è°ƒç”¨ï¼ˆå¯¹è±¡<code>date</code>ä¸­ï¼‰<u>æ‹·è´æ„é€ å‡½æ•°</u>ï¼Œå°†ä¸´æ—¶åŒ¿åå¯¹è±¡<code>tmp</code>ä½œä¸ºæ‹·è´æ„é€ å‡½æ•°å‚æ•° ï¼Œ<code>date</code> æ¯ä¸ªæˆå‘˜å€¼å¤åˆ¶ä¸´æ—¶åŒ¿åå¯¹è±¡æˆå‘˜ã€‚</p>
</li>
</ol>
<p><strong>åªè¦å¯¹è±¡åœ¨<u>å£°æ˜æ—¶</u>ç”¨äº†å¦ä¸€ä¸ªå¯¹è±¡ï¼ˆå¯èƒ½æ˜¯ç¼–è¯‘å™¨åˆ›å»ºçš„åŒ¿åå¯¹è±¡ï¼‰è¿›è¡Œåˆå§‹åŒ–ï¼Œå°±ä¼šè§¦å‘å¤åˆ¶æ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯å¤åˆ¶<u>åˆå§‹åŒ–</u>ã€‚</strong></p>
<p><strong>å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬ä¸è¦æ‰§ç€äºè¡¨è±¡ï¼Œ=ä¸é‡è¦ï¼šå¤åˆ¶åˆå§‹åŒ–æ ¸å¿ƒåœ¨äºè°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°ï¼Œè€Œä¸æ˜¯è°ƒç”¨æ™®é€šæ„é€ å‡½æ•°åˆå§‹åŒ–</strong>ã€‚</p>
<p>ä¸‹é¢è¿™ç§æ–¹å¼è™½ç„¶æ²¡æœ‰<code>=</code> ï¼Œçœ‹èµ·æ¥åƒç›´æ¥åˆå§‹åŒ–ã€‚ä½†<code>Date date5</code> <u>å£°æ˜</u>æ—¶ä½¿ç”¨äº†å¯¹è±¡<code>date1</code> è¿›è¡Œåˆå§‹åŒ–ï¼Œæ‰€ä»¥ä¾æ—§æ˜¯å¤åˆ¶åˆå§‹åŒ–ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Date <span class="title">date5</span><span class="params">(date1)</span></span>;   <span class="comment">// å¤åˆ¶åˆå§‹åŒ–</span></span><br></pre></td></tr></table></figure>
<p>æ˜¾ç„¶ï¼Œè¿™ç§â€œå¤åˆ¶â€æ•ˆç‡å¯æƒ³è€Œè¨€æ˜¯ä½ä¸‹çš„ï¼Œå› ä¸ºå®ƒè¿˜å¯èƒ½ä¼šåˆ›å»ºä¸´æ—¶åŒ¿åå¯¹è±¡ã€‚</p>
<blockquote>
<p>ä¸è¿‡æ ‡å‡†è§„å®šï¼Œä¸ºäº†æé«˜æ•ˆç‡ï¼Œå…è®¸ç¼–è¯‘å™¨åœ¨åˆé€‚çš„åœ°æ–¹è¿›è¡Œä¼˜åŒ–ï¼Œ<u>è·³è¿‡åˆ›å»ºä¸´æ—¶åŒ¿åå¯¹è±¡</u>è¿™ä¸€æ­¥ï¼Œç›´æ¥è°ƒç”¨æ„é€ å‡½æ•°æ„é€ è¦åˆ›å»ºçš„å¯¹è±¡ã€‚</p>
<p>ä¸‹é¢4ä¸ªå¤åˆ¶åˆå§‹åŒ–å“ªäº›ä¼šæ‰§è¡Œå¤åˆ¶æ„é€ å‡½æ•°ï¼Ÿ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Date</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">     <span class="keyword">int</span> m_year&#123;&#125;;</span><br><span class="line">     <span class="keyword">int</span> m_month&#123;&#125;;</span><br><span class="line">     <span class="keyword">int</span> m_day&#123;&#125;;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">     <span class="built_in">Date</span>() = <span class="keyword">default</span>;</span><br><span class="line">     <span class="built_in">Date</span>(<span class="keyword">int</span> day,<span class="keyword">int</span> month=<span class="number">1</span>,<span class="keyword">int</span> year=<span class="number">2022</span>) </span><br><span class="line">     &#123;</span><br><span class="line">         m_year=year;m_month=month;m_day=day;</span><br><span class="line">         std::cout&lt;&lt; <span class="string">&quot;æ„é€ å‡½æ•°è¢«è°ƒç”¨&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">     &#125;;</span><br><span class="line">     <span class="built_in">Date</span>(Date <span class="keyword">const</span>&amp; tmp): <span class="built_in">m_year</span>(tmp.m_year),<span class="built_in">m_month</span>(tmp.m_month),<span class="built_in">m_day</span>(tmp.m_day)</span><br><span class="line">     &#123;</span><br><span class="line">         std::cout&lt;&lt; <span class="string">&quot;å¤åˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> 	<span class="comment">// éƒ½æ˜¯å¤åˆ¶åˆå§‹åŒ–</span></span><br><span class="line"> 	Date date1 = <span class="number">25</span>;       <span class="comment">// 1 </span></span><br><span class="line">	Date date2 = <span class="built_in">Date</span>(<span class="number">25</span>); <span class="comment">// 2</span></span><br><span class="line">	Date date3 = Date&#123;<span class="number">25</span>&#125;; <span class="comment">// 3</span></span><br><span class="line">	Date date4 = date3;    <span class="comment">// 4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¯èƒ½ä¼šè®©ä½ æœ‰äº›æƒŠè®¶ï¼šé™¤äº†æ–¹å¼<code>4</code> ï¼Œå…¶ä½™éƒ½æ²¡ç”¨è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@roy-cpp test]# g++ -std=c++11 test.cpp -o test.out</span><br><span class="line">[root@roy-cpp test]# ./test.out </span><br><span class="line">æ„é€ å‡½æ•°è¢«è°ƒç”¨</span><br><span class="line">æ„é€ å‡½æ•°è¢«è°ƒç”¨</span><br><span class="line">æ„é€ å‡½æ•°è¢«è°ƒç”¨</span><br><span class="line">å¤åˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå°±æ˜¯é™¤äº†æ–¹å¼<code>4</code> ï¼Œç¼–è¯‘å™¨éƒ½è¿›è¡Œäº†ä¼˜åŒ–ï¼ˆ1ã€2ã€3ç”Ÿæˆäº†åŒ¿åå¯¹è±¡ï¼Œç¼–è¯‘å™¨å¯ä»¥è·³è¿‡ï¼‰ã€‚æ‰€ä»¥æ–¹å¼1ã€2ã€3ç­‰ä»·äºï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Date <span class="title">date1</span><span class="params">(<span class="number">25</span>)</span></span>;</span><br><span class="line"><span class="function">Date <span class="title">date2</span><span class="params">(<span class="number">25</span>)</span></span>;</span><br><span class="line"><span class="function">Date <span class="title">date3</span><span class="params">(<span class="number">25</span>)</span></span>;</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>ä¸ä»…å¦‚æ­¤ï¼Œå¤åˆ¶åˆå§‹åŒ–æ•ˆç‡ä½çš„åŒæ—¶è¿˜å¹¶ä¸å®‰å…¨</strong>ã€‚</p>
<p>å› ä¸ºè¿™ç§æ‹·è´æ–¹å¼æ˜¯<u>æµ…æ‹·è´</u>ï¼Œå¦‚æœå­˜åœ¨æŒ‡é’ˆä¹Ÿåªæ˜¯å¤åˆ¶å…¶å€¼ï¼Œä¸ä¼šå¤åˆ¶å…¶æŒ‡å‘çš„åŒºåŸŸã€‚</p>
<h5 id="æ·±æ‹·è´å’Œæµ…æ‹·è´">æ·±æ‹·è´å’Œæµ…æ‹·è´</h5>
<p>æµ…æ‹·è´ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>
<p>æµ…æ‹·è´çš„æŒ‡é’ˆå’ŒåŸæ¥çš„æŒ‡é’ˆæŒ‡å‘åŒä¸€å—åœ°å€ï¼Œå¦‚æœåŸæ¥çš„æŒ‡é’ˆæ‰€æŒ‡å‘çš„èµ„æºé‡Šæ”¾äº†ï¼Œé‚£ä¹ˆå†é‡Šæ”¾æµ…æ‹·è´çš„æŒ‡é’ˆçš„èµ„æºå°±ä¼šå‡ºç°double freeã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> *p&#123;<span class="literal">nullptr</span>&#125;;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">Test</span>()&#123;p = <span class="keyword">new</span> <span class="built_in"><span class="keyword">int</span></span>(<span class="number">4</span>);&#125;</span><br><span class="line">        ~<span class="built_in">Test</span>()&#123;<span class="keyword">delete</span> p;&#125; </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   Test ob1;</span><br><span class="line">   Test ob2 = ob1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¼–è¯‘æ‰§è¡Œå‡ºé”™ï¼š</p>
<p><img src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/image-20220126000908921.png" alt="image-20220126000908921"></p>
<p>ç»™å„ä½çœ‹å®˜åˆ†æä¸‹åŸå› ï¼š</p>
<ol>
<li>
<p><code>Test ob1</code>æ„é€ ç±»å¯¹è±¡ob1ï¼Œè¿™æ˜¯è°ƒç”¨äº†<u>æ„é€ å‡½æ•°</u>ï¼Œä¸ºob1.påˆ†é…äº†å†…å­˜ç©ºé—´ï¼›</p>
</li>
<li>
<p><code>Test ob2 = ob1</code>ï¼Œè°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°æ„é€ ç±»å¯¹è±¡ob2 = ob1;</p>
</li>
<li>
<p>main()å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå…¨å±€å‡½æ•°çš„è¿è¡Œå‘¨æœŸç»“æŸï¼Œç³»ç»Ÿå›æ”¶å†…å­˜ï¼ˆææ„å‡½æ•°é™¤äº†æ˜¾ç¤ºdeleteæ‰§è¡Œï¼Œå¯¹è±¡ç¦»å¼€ä½œç”¨èŒƒå›´ä¼šè‡ªåŠ¨æ‰§è¡Œï¼‰ï¼š</p>
<ul>
<li>å…ˆè°ƒç”¨ob1çš„ææ„å‡½æ•°ï¼Œå°†ob1.pæŒ‡å‘çš„å†…å­˜é‡Šæ”¾ï¼›</li>
<li>å†è°ƒç”¨ob2çš„ææ„å‡½æ•°ï¼Œå°†ob2.pæŒ‡å‘çš„å†…å­˜é‡Šæ”¾ã€‚</li>
</ul>
</li>
<li>
<p>ä½†æ˜¯ç”±äºob2.pçš„å†…å­˜å·²ç»åœ¨ä¸Šä¸€æ­¥è¢«é‡Šæ”¾ï¼Œæ‰€ä»¥é€ æˆäº†double freeã€‚</p>
</li>
</ol>
<p>è§£å†³è¿™ä¸ªé—®é¢˜ä¹Ÿå¾ˆç®€å•ï¼š</p>
<ul>
<li>
<p><strong>ç¦æ­¢ä½¿ç”¨<u>æ‹·è´æ„é€ å‡½æ•°</u></strong>ï¼š</p>
<p>ä½¿ç”¨deleteå…³é”®å­—ç¦æ­¢ï¼ˆæ¨èï¼‰ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++11æ–°ç‰¹æ€§delete</span></span><br><span class="line"><span class="built_in">Test</span>(Test &amp;ob) = <span class="keyword">delete</span>; </span><br></pre></td></tr></table></figure>
<p>æˆ–å£°æ˜ä¸ºprivateï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span>:  <span class="comment">// å°è¯•è°ƒç”¨ç§æœ‰æˆå‘˜å‡½æ•°ä¼šå‡ºé”™</span></span><br><span class="line">	<span class="built_in">Test</span>(Test &amp;ob)&#123;...&#125;; </span><br></pre></td></tr></table></figure>
<p>è®©ä½¿ç”¨è€…æ— æ³•ä½¿ç”¨<u>é»˜è®¤</u>æ„é€ å‡½æ•°ã€‚</p>
</li>
<li>
<p><strong>æ·±æ‹·è´</strong>ï¼š</p>
<p>è‡ªå·±æ˜¾ç¤ºå£°æ˜å¤åˆ¶æ„é€ å‡½æ•°ï¼Œå¯¹æˆå‘˜å˜é‡å®ç°æ·±æ‹·è´ï¼ˆå¤åˆ¶æŒ‡é’ˆå†…å­˜åŒºåŸŸå€¼ï¼‰ã€‚</p>
<p>æ·±æ‹·è´ä¸ä»…æ‹·è´å€¼ï¼Œè¿˜å¼€è¾Ÿå‡ºä¸€å—æ–°çš„ç©ºé—´ç”¨æ¥å­˜æ”¾æ–°çš„å€¼ï¼Œå³ä½¿åŸå…ˆçš„å¯¹è±¡è¢«ææ„æ‰ï¼Œé‡Šæ”¾å†…å­˜äº†ä¹Ÿä¸ä¼šå½±å“åˆ°æ·±æ‹·è´å¾—åˆ°çš„å€¼ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> *p&#123;<span class="literal">nullptr</span>&#125;;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">Test</span>()</span><br><span class="line">        &#123;</span><br><span class="line">            p = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">4</span>]();</span><br><span class="line">        &#125;</span><br><span class="line">        ~<span class="built_in">Test</span>()&#123;<span class="keyword">delete</span> p;&#125;</span><br><span class="line">        <span class="built_in">Test</span>(<span class="keyword">const</span> Test&amp; other) <span class="comment">// å®ç°æ·±æ‹·è´</span></span><br><span class="line">        &#123;    </span><br><span class="line">            <span class="keyword">if</span>(p) <span class="comment">// pä¸ç©º</span></span><br><span class="line">             	<span class="keyword">delete</span> p;</span><br><span class="line">            <span class="keyword">if</span>(other.p)  <span class="comment">// other.pä¸ç©º</span></span><br><span class="line">            &#123;</span><br><span class="line">                p = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">4</span>]();</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt; <span class="number">4</span> ; i++)</span><br><span class="line">                p[i] = other.p[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;    </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨">æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</h5>
<p><strong>æ€ä¹ˆåˆå§‹åŒ–ç±»ç§æœ‰æˆå‘˜</strong>ï¼Ÿ</p>
<p>çœ‹è¿‡å‰é¢æ–‡ç« çš„ä½ è‚¯å®šè„±å£è€Œå‡ºï¼šæ„é€ å‡½æ•°å‘€ï¼</p>
<p>è¿˜æœ‰å—ï¼Ÿå¯¹äº†ï¼Œè¿˜æœ‰åˆ—è¡¨åˆå§‹åŒ–ã€‚å°±åƒè¿™æ ·ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Date</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_year&#123; <span class="number">1900</span> &#125;;</span><br><span class="line">    <span class="keyword">int</span> m_month&#123; <span class="number">1</span> &#125;;</span><br><span class="line">    <span class="keyword">int</span> m_day&#123; <span class="number">1</span> &#125;;</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<p><strong>ä½†å¦‚æœç§æœ‰æˆå‘˜è¢«constä¿®é¥°å‘¢</strong>ï¼Ÿ</p>
<p>åˆ—è¡¨åˆå§‹åŒ–ä¾æ—§å¯ä»¥ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> m_year&#123; <span class="number">1900</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> m_month&#123; <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> m_day&#123; <span class="number">1</span> &#125;;</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯å¦‚æœç”¨æˆ·æƒ³ä½¿ç”¨æ„é€ å‡½æ•°åˆå§‹åŒ–ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œå­˜åœ¨é»˜è®¤å€¼</span></span><br><span class="line"><span class="built_in">Date</span>(<span class="keyword">int</span> day,<span class="keyword">int</span> year,<span class="keyword">int</span> month) </span><br><span class="line">    &#123;m_year=year;m_month=month;m_day=day;&#125;;</span><br></pre></td></tr></table></figure>
<p>å‡ºé”™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const int Date::m_year</span><br><span class="line">expression must be a modifiable lvalue</span><br></pre></td></tr></table></figure>
<p>ç­‰ä»·äºï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> m_year&#123; <span class="number">1900</span> &#125;;</span><br><span class="line">m_year = year;  <span class="comment">// å¸¸é‡ä¸èƒ½ä¿®æ”¹ï¼Œå‡ºé”™</span></span><br></pre></td></tr></table></figure>
<p>è¿™ç§æƒ…å†µå°±éœ€è¦ç”¨åˆ°<u>æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</u>ã€‚</p>
<p><strong>æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨å¯ä»¥è®©ç”¨æˆ·åˆå§‹åŒ–ç§æœ‰å˜é‡ï¼ŒåŒ…æ‹¬å¸¸é‡</strong>ã€‚</p>
<p>æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨åœ¨æ„é€ å‡½æ•°åæ¥<code>:</code> è¿›è¡Œåˆå§‹åŒ–ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Date</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> m_year&#123; <span class="number">1900</span> &#125;;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> m_month&#123; <span class="number">1</span> &#125;;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> m_day&#123; <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Date</span>() = <span class="keyword">default</span>;</span><br><span class="line">    <span class="built_in">Date</span>(<span class="keyword">int</span> year,<span class="keyword">int</span> month,<span class="keyword">int</span> day ):<span class="built_in">m_year</span>(year),<span class="built_in">m_month</span>(month),<span class="built_in">m_day</span>(day) <span class="comment">// å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œå­˜åœ¨é»˜è®¤å€¼</span></span><br><span class="line">    &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printDay</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">       std::cout&lt;&lt;m_day&lt;&lt;std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Date d&#123;<span class="number">2022</span>,<span class="number">1</span>,<span class="number">26</span>&#125;;</span><br><span class="line">    d.<span class="built_in">printDay</span>();  <span class="comment">// 26ï¼Œç¡®å®é‡æ–°åˆå§‹åŒ–äº†</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æˆå‘˜åˆå§‹åŒ–è¿˜å¯ä»¥åˆå§‹åŒ–æ•°ç»„æˆå‘˜</strong>ã€‚</p>
<p>åœ¨ C++11ä¹‹å‰ï¼Œåªèƒ½é€šè¿‡æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨å°†æ•°ç»„æˆå‘˜å½’é›¶ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Something</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> m_array[<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Something</span>(): m_array &#123;&#125; <span class="comment">// åªå½’é›¶</span></span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨è¿˜å¯ä»¥èµ‹å€¼ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Something</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> m_array[<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Something</span>(): m_array &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125; <span class="comment">//  å¯¹æ•°ç»„è¿›è¡Œèµ‹å€¼</span></span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æœ€åæ³¨æ„ï¼Œåˆå§‹åŒ–åˆ—è¡¨ä¸­çš„å˜é‡æ˜¯<u>æŒ‰ç…§ç±»å£°æ˜é¡ºåºè¿›è¡Œåˆå§‹åŒ–ï¼Œè€Œä¸æ˜¯åˆ—è¡¨æŒ‡å®šçš„é¡ºåº</u>ã€‚</p>
<h5 id="æˆå‘˜åˆ—è¡¨åˆå§‹åŒ–æ›´å¿«ï¼Ÿ">æˆå‘˜åˆ—è¡¨åˆå§‹åŒ–æ›´å¿«ï¼Ÿ</h5>
<p>å‡†ç¡®æ¥è¯´ï¼š</p>
<ul>
<li>å¯¹äºå†…ç½®æ•°æ®ç±»å‹ï¼Œå¤åˆç±»å‹ï¼ˆæŒ‡é’ˆï¼Œå¼•ç”¨ï¼‰,æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨å’Œæ„é€ å‡½æ•°ä½“å†…è¿›è¡Œæ€§èƒ½æ²¡æœ‰ä»€ä¹ˆå·®åˆ«ï¼›</li>
<li>å¯¹äºç”¨æˆ·è‡ªå®šä¹‰ç±»å‹ï¼ˆç±»ç±»å‹ï¼‰ï¼Œæˆå‘˜åˆ—è¡¨åˆå§‹åŒ–ä¼šå¿«å¾ˆå¤šã€‚</li>
</ul>
<p>è¿™æ˜¯å› ä¸ºå¯¹äºç”¨æˆ·è‡ªå®šä¹‰ç±»å‹ï¼Œä½¿ç”¨æˆå‘˜åˆ—è¡¨åˆå§‹åŒ–<u>ä¼šå°‘ä½¿ç”¨ä¸€æ¬¡æ„é€ å‡½æ•°</u>ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡†å¤‡å¥½classA</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">classA</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">classA</span>() &#123; cout &lt;&lt; <span class="string">&quot;classA()&quot;</span> &lt;&lt; endl; &#125;</span><br><span class="line">    <span class="comment">// å¤åˆ¶æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">classA</span>(<span class="keyword">const</span> classA&amp; a) &#123; cout &lt;&lt; <span class="string">&quot;copy classA()&quot;</span> &lt;&lt; endl; &#125;</span><br><span class="line">    <span class="comment">// ææ„å‡½æ•°</span></span><br><span class="line">    ~<span class="built_in">classA</span>() &#123; cout &lt;&lt; <span class="string">&quot;~classA()&quot;</span> &lt;&lt; endl; &#125;</span><br><span class="line">    <span class="comment">// é‡è½½èµ‹å€¼è¿ç®—ç¬¦</span></span><br><span class="line">    classA&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> classA&amp; a) </span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;operator= in classA&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ç†è§£è¿™ä¸ªé—®é¢˜éœ€è¦ä¸€ç‚¹å‰ç½®çŸ¥è¯†ï¼š</p>
<ol>
<li>
<p>ä»€ä¹ˆæ—¶å€™ä¼šä½¿ç”¨å¤åˆ¶æ„é€ å‡½æ•°ï¼Ÿ<u>å£°æ˜</u>ä¸€ä¸ªå¯¹è±¡æ—¶ç”¨å¦å¤–ä¸€ä¸ª<u>å·²å­˜åœ¨</u>çš„å¯¹è±¡è¿›è¡Œ<u>åˆå§‹åŒ–</u>æ—¶ï¼Œä¼šè°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A a;</span><br><span class="line">A b = <span class="built_in">A</span>();  <span class="comment">// ç¼–è¯‘å™¨ç”ŸæˆåŒ¿åï¼Œç„¶åè°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°åˆå§‹bï¼ˆä¸è¿‡ç¼–è¯‘å™¨ä¼šä¼˜åŒ–ï¼‰</span></span><br><span class="line">A b = a;    <span class="comment">// å·²å­˜åœ¨çš„å¯¹è±¡aè°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°åˆå§‹åŒ–b</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ä»€ä¹ˆæ—¶å€™ä¼šä½¿ç”¨èµ‹å€¼è¿ç®—ç¬¦ï¼Ÿ</p>
<blockquote>
<p>é‡è½½<code>=</code>èµ‹å€¼è¿ç®—ç¬¦åœ¨ä¸‹ç« ä»‹ç»ã€‚</p>
</blockquote>
<p>å½“ä¸€ä¸ª<u>å·²å­˜åœ¨</u>çš„å¯¹è±¡ç”¨å¦å¤–ä¸€ä¸ª<u>å·²å­˜åœ¨</u>çš„å¯¹è±¡è¿›è¡Œ<u>èµ‹å€¼</u>æ—¶ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A a;</span><br><span class="line">A b;</span><br><span class="line">b = a; <span class="comment">// a,bä¹‹å‰å°±å·²å­˜åœ¨ï¼Œæ­¤æ—¶aè°ƒç”¨èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°å¯¹bè¿›è¡Œèµ‹å€¼</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ç±»å¯¹è±¡æˆå‘˜åˆå§‹åŒ–åŠ¨ä½œ<u>æ—©äºæ„é€ å‡½æ•°ä½“æ‰§è¡Œå‰</u>ï¼Œå’Œ<u>æˆå‘˜åˆ—è¡¨åŒæ—¶å‘ç”Ÿ</u>ã€‚</p>
</li>
</ol>
<p>æœ‰äº†è¿™äº›åŸºç¡€çŸ¥è¯†ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸ºä»€ä¹ˆæˆå‘˜åˆ—è¡¨åˆå§‹åŒ–æ›´å¿«ã€‚</p>
<ul>
<li>
<p>æˆå‘˜åˆ—è¡¨åˆå§‹åŒ–æ–¹å¼ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">classC</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">classC</span>(<span class="keyword">const</span> classA&amp; a) : <span class="built_in">mA</span>(a) &#123;&#125;  <span class="comment">// å¯¹mAè¿›è¡Œæˆå‘˜åˆ—è¡¨åˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    classA mA;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    classA class_a;</span><br><span class="line">    <span class="function">classC <span class="title">c</span><span class="params">(class_a)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">classA()</span><br><span class="line">copy classA()</span><br><span class="line">~classA()</span><br><span class="line">~classA()</span><br></pre></td></tr></table></figure>
<p>ä»£ç 11ã€12è¡Œå¤„ç­‰ä»·äºï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">classA class_a;  <span class="comment">// è¾“å‡ºï¼šclassA()ï¼Œæ‰§è¡Œæ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–å¯¹è±¡class_a</span></span><br><span class="line">classA mA = a; <span class="comment">// è¾“å‡ºï¼šcopy classA()ï¼Œä¹Ÿæ˜¯è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°æ–¹å¼</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œç±»å®ä¾‹åŒ–ç»™å¯¹è±¡åˆ†é…å†…å­˜æ—¶ï¼ˆæ¯”å¦‚<code>mA</code>ï¼‰ï¼š</p>
<ol>
<li>åŒæ—¶æ‰§è¡Œæˆå‘˜åˆ—è¡¨åˆå§‹åŒ–å¯¹<code>mA</code>Jè¿›è¡Œåˆå§‹åŒ–ï¼Œå³<code>classA mA = a</code> ï¼›</li>
<li>å†æ‰§è¡Œæ„é€ å‡½æ•°<u>ä½“</u>ã€‚</li>
</ol>
</li>
<li>
<p>æ„é€ å‡½æ•°<u>ä½“</u>åˆå§‹åŒ–</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">classC</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">classC</span>(<span class="keyword">const</span> classA&amp; a) </span><br><span class="line">    &#123;</span><br><span class="line">       mA = a;  <span class="comment">// å‡½æ•°ä½“å†…åˆå§‹åŒ–</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    classA mA;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    classA class_a;</span><br><span class="line">    <span class="function">classC <span class="title">c</span><span class="params">(class_a)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">classA()</span><br><span class="line">classA()</span><br><span class="line">operator= in classA</span><br><span class="line">~classA()</span><br><span class="line">~classA()</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç 14ã€15è¡Œå¤„ç­‰ä»·äºï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">classA class_a;  <span class="comment">// è¾“å‡ºï¼šclassA()ï¼Œæ‰§è¡Œæ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–å¯¹è±¡class_a</span></span><br><span class="line">classA mA;       <span class="comment">// è¾“å‡ºï¼šclassA()ï¼Œæ‰§è¡Œæ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–å¯¹è±¡mA</span></span><br><span class="line">mA = a;          <span class="comment">// è¾“å‡ºï¼šoperator= in classAï¼Œä¸€ä¸ªå·²å­˜åœ¨çš„å¯¹è±¡åˆå§‹åŒ–å¦å¤–ä¸€ä¸ªå·²å­˜åœ¨çš„å¯¹è±¡ï¼Œä½¿ç”¨èµ‹å€¼åˆå§‹åŒ–</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼š</p>
<ul>
<li>ç”±äºç±»æˆå‘˜åˆ†é…å†…å­˜æ—©äºæ„é€ å‡½æ•°<u>ä½“</u>æ‰§è¡Œï¼Œå…ˆæ‰§è¡Œ<code>classA mA</code>ï¼Œè°ƒç”¨<u>é»˜è®¤æ„é€ å‡½æ•°</u>å¯¹<code>mA</code>è¿›è¡Œé»˜è®¤åˆå§‹åŒ– ï¼›</li>
<li>å†æ‰§è¡Œæ„é€ å‡½æ•°<u>ä½“</u> ï¼Œä¹Ÿå°±æ˜¯<code>mA = a</code>ï¼Œè¿™ä¸ªæ—¶å€™æ˜¯ç”¨<u>èµ‹å€¼=å‡½æ•°</u>è¿›è¡Œé‡æ–°èµ‹å€¼ï¼›</li>
</ul>
<p>è€Œæˆå‘˜åˆ—è¡¨åˆå§‹åŒ–æ–¹å¼ï¼Œåœ¨ç±»æˆå‘˜åˆ†é…å†…å­˜æ—¶æ—¶åŒæ—¶ä½¿ç”¨<u>å¤åˆ¶æ„é€ å‡½æ•°</u>è¿›è¡Œåˆå§‹åŒ–ã€‚</p>
</li>
</ul>
<p>æ‰€ä»¥ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆå‘˜åˆ—è¡¨åˆå§‹åŒ–å°‘è°ƒç”¨äº†ä¸€æ¬¡æ„é€ å‡½æ•°å¯¹ç±»å¯¹è±¡æˆå‘˜ï¼ˆ<code>mA</code>ï¼‰è¿›è¡Œåˆå§‹åŒ–ï¼Œæˆå‘˜åˆ—è¡¨åˆå§‹åŒ–æ•ˆç‡æ›´é«˜ã€‚</p>
<h5 id="æœ€ä½³å®è·µï¼šåˆå§‹åŒ–é€‰æ‹©">æœ€ä½³å®è·µï¼šåˆå§‹åŒ–é€‰æ‹©</h5>
<p>è¿„ä»Šä¸ºæ­¢æˆ‘ä»¬æ¥è§¦äº†å¥½å‡ ç§åˆå§‹åŒ–æ–¹å¼ï¼š</p>
<p>ç±»å®ä¾‹æ–¹å¼ï¼š</p>
<ol>
<li>åˆ—è¡¨åˆå§‹åŒ–</li>
<li>ç›´æ¥åˆå§‹åŒ–</li>
<li>å¤åˆ¶åˆå§‹åŒ–</li>
<li><code>std::move</code></li>
</ol>
<p>ç±»å£°æ˜åˆå§‹åŒ–ä½ç½®ï¼š</p>
<ol>
<li>æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–</li>
<li>æ™®é€šæ„é€ å‡½æ•°ä½“å†…åˆå§‹åŒ–</li>
</ol>
<p><strong>æ€ä¹ˆè¿›è¡Œé€‰æ‹©</strong>ï¼Ÿ</p>
<p>ç±»å£°æ˜åˆå§‹åŒ–ä½ç½®ï¼š</p>
<ul>
<li>
<p><u>ç±»ç±»å‹æˆå‘˜ã€å¸¸é‡æˆå‘˜ã€å¼•ç”¨æˆå‘˜</u>ä¼˜å…ˆè€ƒè™‘<u>æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</u>ã€‚å› ä¸ºæˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ä¸åœ¨å‡½æ•°ä½“å†…ï¼Œæ•ˆç‡æ›´é«˜ï¼›</p>
<p>ï¼ˆè¡¥å……å…¶å®ƒæƒ…å†µï¼šå½“è°ƒç”¨ä¸€ä¸ªåŸºç±»çš„æ„é€ å‡½æ•°ï¼Œè€Œæ„é€ å‡½æ•°æ‹¥æœ‰ä¸€ç»„å‚æ•°æ—¶ï¼›å½“è°ƒç”¨ä¸€ä¸ªæˆå‘˜ç±»çš„æ„é€ å‡½æ•°ï¼Œè€Œå®ƒæ‹¥æœ‰ä¸€ç»„å‚æ•°ã€‚ï¼‰</p>
</li>
<li>
<p>å¦‚æœç±»æˆå‘˜è¿˜éœ€è¦åœ¨è°ƒ<u>ç”¨æ„é€ å‡½æ•°å‰</u>å°±æä¾›é»˜è®¤å€¼ï¼Œæˆå‘˜å£°æ˜æ—¶ä½¿ç”¨<code>&#123;&#125;</code>ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> m_year&#123; <span class="number">1900</span> &#125;;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>æœ€åè€ƒè™‘æ™®é€šæ„é€ å‡½æ•°ã€‚</p>
</li>
</ul>
<p>ç±»å®ä¾‹æ–¹å¼ï¼š</p>
<ul>
<li>ä¼˜å…ˆè€ƒè™‘<u>åˆ—è¡¨åˆå§‹åŒ–</u>ã€‚å› ä¸ºåˆ—è¡¨åˆå§‹åŒ–è¿˜å¯èƒ½ä¼šè¿›è¡Œé›¶å€¼åˆå§‹åŒ–ï¼Œæ›´å®‰å…¨ï¼Œä½†æ•ˆç‡ç›¸æ¯”ç›´æ¥åˆå§‹åŒ–æ›´ä½ç‚¹ã€‚</li>
<li>å¦‚æœæ˜¯ä¸´æ—¶å¯¹è±¡åˆå§‹åŒ–åœºæ™¯ï¼Œä½¿ç”¨<code>std::move</code>ç§»åŠ¨æ„é€ å‡½æ•°åˆå§‹åŒ–ã€‚</li>
<li>æ…é‡ä½¿ç”¨å¤åˆ¶åˆå§‹åŒ–ã€‚å› ä¸ºè¿™ç§æ–¹å¼è¿˜ä¼šåˆ›å»ºä¸´æ—¶å¯¹è±¡ï¼Œæ•ˆç‡æ¯”è¾ƒä½ï¼Œè€Œä¸”ä¸å®‰å…¨ï¼ˆæµ…æ‹·è´ï¼‰â€”â€”ä¸€èˆ¬æ˜¯<u>éœ€è¦æ˜¾å¼å£°æ˜å¤åˆ¶æ„é€ å‡½æ•°å®ç°å¯¹è±¡å¤åˆ¶æ—¶ï¼ˆæ·±æ‹·è´ï¼‰æ‰ä½¿ç”¨</u>ã€‚</li>
</ul>
<h4 id="5-2-4-ç§»åŠ¨æ„é€ å‡½æ•°">5.2.4 ç§»åŠ¨æ„é€ å‡½æ•°</h4>
<h5 id="ä»€ä¹ˆæ˜¯ç§»åŠ¨æ„é€ å‡½æ•°ï¼Ÿ">ä»€ä¹ˆæ˜¯ç§»åŠ¨æ„é€ å‡½æ•°ï¼Ÿ</h5>
<blockquote>
<p>C++11ä¹‹å‰ï¼Œå¯¹è±¡çš„æ‹·è´æ§åˆ¶ç”±ä¸‰ä¸ªå‡½æ•°å†³å®šï¼šæ‹·è´æ„é€ å‡½æ•°ï¼ˆCopy Constructorï¼‰ã€æ‹·è´èµ‹å€¼è¿ç®—ç¬¦ï¼ˆCopy Assignment operatorï¼‰å’Œææ„å‡½æ•°ï¼ˆDestructorï¼‰ã€‚</p>
<p>C++11æ–°å¢åŠ äº†ä¸¤ä¸ªå‡½æ•°ï¼šç§»åŠ¨æ„é€ å‡½æ•°ï¼ˆMove Constructorï¼‰å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼ˆMove Assignment operatorï¼‰ã€‚</p>
</blockquote>
<p>åœ¨å‰é¢æˆ‘ä»¬ä»‹ç»äº†ä¸¤ç§æ–¹æ³•æ¥é¿å…æŒ‡é’ˆæµ…æ‹·è´é€ æˆdouble freeçš„é—®é¢˜ã€‚</p>
<p><strong>åœ¨è¿™é‡Œæˆ‘ä»¬ä»‹ç»ç¬¬ä¸‰ç§æ–¹æ³•ï¼šè¢«å¤åˆ¶çš„å¯¹è±¡çš„æŒ‡é’ˆæˆå‘˜ç½®ä¸ºNULL</strong>ï¼š</p>
<p>æŒ‡é’ˆçš„æµ…æ‹·è´ä¹‹æ‰€ä»¥å±é™©ï¼Œç©¶å…¶æœ¬è´¨æ˜¯å› ä¸ºè¢«ææ„å‡½æ•°é‡Šæ”¾äº†ä¸¤æ¬¡ã€‚ä¾‹å¦‚ä¸Šè¿°æŒ‡é’ˆ<code>p</code> çš„ç©ºé—´å°±è¢«é‡Šæ”¾äº†ä¸¤æ¬¡ï¼Œå¯¼è‡´double freeã€‚</p>
<p><strong>å¦‚æœè¢«å¤åˆ¶çš„å¯¹è±¡ä¸å†è¢«ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¤åˆ¶æ„é€ å‡½æ•°è¿›è¡Œæµ…æ‹·è´åå°†æŒ‡é’ˆæˆå‘˜ç½®ä¸ºNULLï¼Œææ„æ—¶åˆ¤æ–­æŒ‡é’ˆè¢«ç½®ä¸ºNULLå°±ä¸è¢«é‡Šæ”¾ã€‚è¿™æ ·å°±å¯ä»¥é¿å…double free</strong>ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> *p &#123;<span class="literal">nullptr</span>&#125;;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">Test</span>()&#123; p = <span class="keyword">new</span> <span class="built_in"><span class="keyword">int</span></span>(<span class="number">4</span>); &#125;</span><br><span class="line">        <span class="built_in">Test</span>(Test&amp; other) </span><br><span class="line">        &#123;    </span><br><span class="line">            <span class="keyword">if</span>(p)  </span><br><span class="line">               <span class="keyword">delete</span> p;</span><br><span class="line">            p = other.p;        <span class="comment">// æµ…æ‹·è´</span></span><br><span class="line">            other.p = <span class="literal">nullptr</span>;  <span class="comment">// æµ…æ‹·è´åå°†æ‹·è´å¯¹è±¡æŒ‡é’ˆæˆå‘˜ç½®ä¸ºNULL</span></span><br><span class="line">        &#125; </span><br><span class="line">        ~<span class="built_in">Test</span>()</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(p) <span class="comment">// pä¸ç©ºï¼Œææ„å‡½æ•°è¿›è¡Œåˆ¤æ–­</span></span><br><span class="line">            &#123;       </span><br><span class="line">                <span class="keyword">delete</span> p;</span><br><span class="line">            &#125;   </span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   Test ob1;</span><br><span class="line">   Test ob2 = ob1; <span class="comment">// ok</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦ä¸€æ–¹é¢ï¼Œ<strong>è¿™é‡Œ<code>ob2</code> ç›´æ¥ä½¿ç”¨äº†<code>ob1</code> çš„ç©ºé—´ï¼ˆob2.pæŒ‡å‘çš„æ˜¯ob1.påŸæ¥çš„ç©ºé—´ï¼‰ï¼Œä¸å°±å¤§å¤§åœ°é™ä½å†…å­˜åˆ†é…æˆæœ¬å—</strong>ï¼Ÿ</p>
<p>è¿™ä¹Ÿå°±æ˜¯ç§»åŠ¨æ„é€ å‡½æ•°çš„åˆè¡·ï¼š</p>
<ul>
<li>å¯¹äºç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸´æ—¶å¯¹è±¡ï¼Œå¾€å¾€åªç”¨äºä¼ é€’æ•°æ®ï¼ˆæ²¡æœ‰å…¶å®ƒçš„ç”¨å¤„ï¼‰ï¼Œå¹¶ä¸”ä¼šå¾ˆå¿«ä¼šè¢«é”€æ¯ã€‚å› æ­¤åœ¨ä½¿ç”¨ä¸´æ—¶å¯¹è±¡åˆå§‹åŒ–æ–°å¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥<u>å°†å…¶åŒ…å«çš„æŒ‡é’ˆæˆå‘˜æŒ‡å‘çš„å†…å­˜èµ„æºç›´æ¥ç§»ç»™æ–°å¯¹è±¡æ‰€æœ‰</u>ï¼Œæ— éœ€å†æ–°æ‹·è´ä¸€ä»½ï¼Œè¿™å¤§å¤§æé«˜äº†åˆå§‹åŒ–çš„æ‰§è¡Œæ•ˆç‡ã€‚</li>
</ul>
<p>ä¸Šé¢çš„æ‹·è´æ„é€ å‡½æ•°å·²ç»å¯ä»¥ç§°ä¸ºæ˜¯ç§»åŠ¨æ„é€ å‡½æ•°ã€‚</p>
<p>ä½†è¿™ç§æ–¹å¼ä¹Ÿæœ‰å±€é™æ€§ï¼š</p>
<ol>
<li>ä»…é™äºä¸€ä¸ªå¯¹è±¡è¢«å¤åˆ¶åä¸å†è¢«ä½¿ç”¨çš„åœºæ™¯ï¼Œæ¯”å¦‚è¿™é‡Œ<code>ob1</code>ï¼Œå› ä¸º<code>ob1.p</code>æŒ‡å‘å†…å­˜å·²ç»è¢«ç½®ä¸ºNULLï¼Œä¹Ÿå°±æ˜¯è¯´<strong>æˆ‘ä»¬å¸Œæœ›æ¥å—çš„å¼•ç”¨å¯¹è±¡æ˜¯ä¸€ä¸ªå³å€¼ï¼ˆå³å€¼åœ¨è¡¨è¾¾å¼ä¸­äº§ç”Ÿï¼Œè¿ç®—ç»“æŸåç«‹å³æ¶ˆå¤±ï¼Œæœ‰ç€â€œé˜…åå³ç„šâ€çš„ç‰¹æ€§</strong>ï¼‰ã€‚</li>
<li>ä½†æ„é€ å‡½æ•°å‚æ•°æ— æ³•å£°æ˜ä¸º<code>const Test&amp; other</code> ï¼Œè™½ç„¶å¯ä»¥æ¥å—å³å€¼å¼•ç”¨äº†ï¼ˆéconstå¼•ç”¨å¿…é¡»ç”¨å·¦å€¼åˆå§‹åŒ–ï¼‰ï¼Œä½†<code>other.p = nullptr</code>  ä¿®æ”¹ä¼šç¼–è¯‘å‡ºé”™ã€‚</li>
</ol>
<p>æœ‰æ²¡æœ‰åŠæ³•ï¼Œ<strong>è®©ç§»åŠ¨æ„é€ å‡½æ•°å‚æ•°èƒ½æ¥å—å³å€¼å¼•ç”¨ï¼Œåˆèƒ½è¿›è¡Œä¿®æ”¹ï¼Œæœ€å¥½æ˜¯åªæ¥å—å³å€¼å¼•ç”¨</strong>ï¼Ÿ</p>
<p>è¿™ä¸ªæ—¶å€™å³å€¼å¼•ç”¨å’Œ<code>std::move</code> ä¾¿æ´¾ä¸Šäº†ç”¨å¤„ã€‚</p>
<h5 id="å³å€¼å¼•ç”¨å’Œstd-move">å³å€¼å¼•ç”¨å’Œ<code>std::move</code></h5>
<p>è¯·çœ‹ä¸‹ä¾‹ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> *p&#123;<span class="literal">nullptr</span>&#125;;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">Test</span>()&#123;p = <span class="keyword">new</span> <span class="built_in"><span class="keyword">int</span></span>(<span class="number">4</span>);&#125;</span><br><span class="line">        <span class="built_in">Test</span>(Test&amp; other) </span><br><span class="line">        &#123;    </span><br><span class="line">            cout&lt;&lt; <span class="string">&quot;å¤åˆ¶æ„é€ å‡½æ•°ï¼ˆæµ…æ‹·è´ï¼‰&quot;</span>&lt;&lt;endl;</span><br><span class="line">            <span class="keyword">if</span>(p)</span><br><span class="line">                <span class="keyword">delete</span> p;</span><br><span class="line">            p = other.p;         <span class="comment">// æµ…æ‹·è´</span></span><br><span class="line">            other.p = <span class="literal">nullptr</span>;   <span class="comment">// ç½®ä¸ºnull</span></span><br><span class="line">        &#125; </span><br><span class="line">        <span class="built_in">Test</span>(Test&amp;&amp; other) <span class="comment">// ä½¿ç”¨å³å€¼å¼•ç”¨</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt; <span class="string">&quot;ç§»åŠ¨æ„é€ å‡½æ•°&quot;</span>&lt;&lt;endl;</span><br><span class="line">            <span class="keyword">if</span>(p)</span><br><span class="line">                <span class="keyword">delete</span> p;</span><br><span class="line">            p = other.p;         <span class="comment">// æµ…æ‹·è´</span></span><br><span class="line">            other.p = <span class="literal">nullptr</span>;   <span class="comment">// ç½®ä¸ºnull</span></span><br><span class="line">        &#125;</span><br><span class="line">        ~<span class="built_in">Test</span>()</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(p) <span class="comment">// pä¸ç©º</span></span><br><span class="line">            &#123;       </span><br><span class="line">                <span class="keyword">delete</span> p;</span><br><span class="line">            &#125;   </span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   Test ob1;</span><br><span class="line">   Test ob2 = std::<span class="built_in">move</span>(ob1); <span class="comment">// æ„é€ å‡½æ•°å‚æ•°æ¥å—å³å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç§»åŠ¨æ„é€ å‡½æ•°</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ç§»åŠ¨æ„é€ å‡½æ•°å’Œæˆ‘ä»¬ä¹‹å‰å®ç°çš„å¤åˆ¶æ„é€ å‡½æ•°ï¼ˆæµ…æ‹·è´ï¼‰åŸºæœ¬ä¸€è‡´ã€‚é™¤äº†ï¼š</p>
<ol>
<li>
<p>å£°æ˜æ—¶ï¼Œ<code>Test(Test&amp;&amp; other)</code> çš„<code>&amp;&amp;</code> ï¼Œ<code>&amp;&amp;</code> è¡¨ç¤º<u>å³å€¼å¼•ç”¨</u>ï¼Œè¡¨ç¤ºå‚æ•°åªæ¥æ”¶å³å€¼ï¼›</p>
<p>åœ¨æœ¬ä¾‹ä¸­ï¼Œå¦‚æœä½ å°è¯•ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   Test ob1;</span><br><span class="line">   Test ob2 = ob1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶æ„é€ å‡½æ•°ï¼ˆæµ…æ‹·è´ï¼‰</span><br></pre></td></tr></table></figure>
<p>å› ä¸º<code>ob1</code> æ˜¯å³å€¼ï¼Œä¸ä¼šæ‰§è¡Œç§»åŠ¨æ„é€ å‡½æ•°ã€‚</p>
<p>å…¶å®ƒä¾‹å­ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span>&amp;&amp; pb = a;  <span class="comment">// errorï¼Œåªèƒ½æ¥å—å³å€¼ï¼Œaæ˜¯å·¦å€¼</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span>&amp;&amp; pc = <span class="number">2</span>;  <span class="comment">// ok</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ä½¿ç”¨æ—¶ï¼Œ<code>Test ob2 = std::move(ob1)</code> çš„<code>std::move</code> ï¼Œ<code>std::move</code>è¡¨ç¤ºå°†ä¸€ä¸ªå·¦å€¼è½¬æ¢ä¸ºå³å€¼ã€‚</p>
<p>è¿™é‡Œæ˜¯å°†<code>ob1</code> è½¬æ¢ä¸ºå³å€¼ã€‚ä¸Šä¸ªä¾‹å­ä¸­ä¹Ÿå¯ä»¥è¿›è¡Œè½¬æ¢ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>&amp;&amp; pb = std::<span class="built_in">move</span>(a);  <span class="comment">// ok</span></span><br></pre></td></tr></table></figure>
<p><code>std::move</code> å®é™…åªæ˜¯ä¸ªç±»å‹è½¬æ¢å™¨ï¼Œå®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">typename</span> remove_reference&lt;T&gt;::<span class="function">type&amp;&amp; <span class="title">move</span><span class="params">(T&amp;&amp; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// æ˜¾ç¤ºç±»å‹è½¬æ¢ï¼Œç±»å‹Tè½¬æ¢ä¸ºtype</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">static_cast</span>&lt;<span class="keyword">typename</span> remove_reference&lt;T&gt;::type&amp;&amp;&gt;(t);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå°±æ˜¯<code>std::move</code>  å¯ä»¥ç†è§£ä¸ºï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>&amp;&amp; pb = std::<span class="built_in">move</span>(a);</span><br><span class="line"><span class="keyword">int</span>&amp;&amp; pb = (<span class="keyword">int</span>&amp;&amp;)a;</span><br></pre></td></tr></table></figure>
<p><strong><code>std::move</code>  å•ç‹¬å‡ºç°æ²¡æœ‰æ„ä¹‰ï¼Œå®ƒåªå°†å·¦å€¼å¯¹è±¡è½¬æ¢ä¸ºå³å€¼ï¼Œè¡¨æ˜è¿™ä¸ªåŸæœ¬çš„å·¦å€¼å¯¹è±¡ä¸ä¼šå†è¢«éœ€è¦æˆ–ä½¿ç”¨ã€‚å®ƒæœ¬èº«ä¸ä¼šå¯¹å¯¹è±¡åšä»»ä½•äº‹ï¼Œå…·ä½“çš„ç§»åŠ¨å·¥ä½œç”±å¤–é¢ä»¥å³å€¼ä¸ºå½¢å‚çš„é‡è½½å‡½æ•°è¿›è¡Œ</strong>ã€‚</p>
<p>ä¸€å¥è¯æ€»ç»“ï¼š<code>std::move</code> åªè¿›è¡Œäº†ç§»åŠ¨å‰çš„å‡†å¤‡å·¥ä½œï¼ˆè¿”å›ä¸€ä¸ªå³å€¼ï¼‰ï¼Œé…åˆé‡è½½äº†å³å€¼ä¸ºå½¢å‚çš„å‡½æ•°å¯¹å¯¹è±¡è¿›è¡Œç§»åŠ¨ã€‚</p>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   Test ob1;</span><br><span class="line">   Test ob2 = std::<span class="built_in">move</span>(ob1); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>
<p><code>std::move(ob1)</code> å°†å¯¹è±¡<code>ob1</code> è½¬æ¢ä¸ºå³å€¼æˆ–è€…è¯´å°†äº¡å€¼ï¼Œä¸ºè½¬ç§»å¯¹è±¡<code>ob1</code>æ‰€æœ‰æƒåšå‡†å¤‡ï¼›</p>
</li>
<li>
<p>ç„¶ååŒ¹é…äº†é‡è½½äº†å³å€¼å¼•ç”¨çš„ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œç”±ç§»åŠ¨æ„é€ å‡½æ•°å®Œæˆâ€œç§»åŠ¨â€è¿™ä¸ªåŠ¨ä½œï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p = other.p;         <span class="comment">// æµ…æ‹·è´</span></span><br><span class="line">other.p = <span class="literal">nullptr</span>;   <span class="comment">// ç½®ä¸ºnull</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>æ›´æ·±åˆ»ç†è§£<code>std::move</code> é™¤äº†è¿”å›ä¸€ä¸ªå³å€¼ï¼Œæ²¡æœ‰å¯¹å¯¹è±¡è¿›è¡Œå…¶å®ƒæ“ä½œ</strong>ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span>&amp;&amp; p_a = std::<span class="built_in">move</span>(a);</span><br><span class="line">    a++;  <span class="comment">// aç…§å¸¸ä½¿ç”¨</span></span><br><span class="line">    std::cout&lt;&lt;a&lt;&lt;std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>std::move</code>æ²¡æœ‰ä¿®æ”¹<code>a</code> æœ¬èº«ï¼Œåªæ˜¯æç¤ºè¿™æ˜¯ä¸ªå¯ç§»åŠ¨çš„å¯¹è±¡ï¼Œéœ€è¦è‡ªå·±è°ƒç”¨æœ‰å³å€¼çš„é‡è½½å‡½æ•°ï¼Œæ‰ä¼šè¿›è¡Œç§»åŠ¨ï¼ˆå‡½æ•°å†…éƒ¨å®ç°äº†â€œç§»åŠ¨â€è¿™ä¸ªåŠ¨ä½œï¼‰ã€‚</p>
</li>
</ol>
<p>æ€»çš„æ¥è¯´ç§»åŠ¨æ„é€ å‡½æ•°æœ‰ä»¥ä¸‹å¥½å¤„ï¼š</p>
<ul>
<li>å……åˆ†åˆ©ç”¨ä¸´æ—¶å¯¹è±¡å†…å­˜ï¼Œé¿å…äº†ç©ºé—´æµªè´¹ï¼›</li>
</ul>
<p>ä½†ä¸€åˆ‡éƒ½å»ºç«‹åœ¨ä½¿ç”¨ä¸´æ—¶å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–è¿™ä¸ªåœºæ™¯ä¸‹ã€‚</p>
<p><strong><code>std::move(ob1)</code>è¿˜å¯ä»¥æ‰©å±•åˆ°å…¶å®ƒä»¥å³å€¼å¼•ç”¨ä¸ºå½¢å‚ç§»åŠ¨è¯­ä¹‰å‡½æ•°ä¸­ï¼Œæœ€å¸¸è§æ˜¯åœ¨STLä¸­ï¼ŒSTLç±»å¤§éƒ½æ”¯æŒç§»åŠ¨è¯­ä¹‰å‡½æ•°</strong>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ<code>std::vector</code>æ–¹æ³•å®šä¹‰ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_back</span> <span class="params">(<span class="keyword">const</span> value_type&amp; val)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_back</span> <span class="params">(value_type&amp;&amp; val)</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">emplace_back</span> <span class="params">(Args&amp;&amp;... args)</span></span>;</span><br></pre></td></tr></table></figure>
<p>æ˜¾ç„¶<code>void push_back (value_type&amp;&amp; val);</code> å¯ä»¥æ¥å—ç§»åŠ¨è¯­ä¹‰ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::string str1 = <span class="string">&quot;royhuang&quot;</span>;</span><br><span class="line">    std::vector&lt;std::string&gt; vec;</span><br><span class="line">     </span><br><span class="line">    vec.<span class="built_in">push_back</span>(str1); <span class="comment">// ä¼ ç»Ÿæ–¹æ³•ï¼Œcopy</span></span><br><span class="line">    vec.<span class="built_in">push_back</span>(std::<span class="built_in">move</span>(str1)); <span class="comment">// è°ƒç”¨ç§»åŠ¨è¯­ä¹‰çš„push_backæ–¹æ³•ï¼Œé¿å…æ‹·è´ï¼Œstr1ä¼šå¤±å»åŸæœ‰å€¼ï¼Œå˜æˆç©ºå­—ç¬¦ä¸²</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŒæ ·ï¼Œè¿™ç§åšæ³•å‡å°‘äº†å¼€è¾Ÿå†…å­˜å¼€é”€ã€‚</p>
<p><code>emplace_back</code>ç±»ä¼¼ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vec.<span class="built_in">emplace_back</span>(std::<span class="built_in">move</span>(str1)); <span class="comment">// emplace_backæ•ˆæœç›¸åŒï¼Œstr1ä¼šå¤±å»åŸæœ‰å€¼</span></span><br><span class="line">vec.<span class="built_in">emplace_back</span>(<span class="string">&quot;axcsddcas&quot;</span>);     <span class="comment">// å½“ç„¶å¯ä»¥ç›´æ¥æ¥å³å€¼</span></span><br></pre></td></tr></table></figure>
<p>å†æ¬¡å¼ºè°ƒï¼Œç§»åŠ¨è¯­ä¹‰å‡½æ•°ä¹Ÿæ˜¯å»ºç«‹åœ¨è¢«æ‹·è´å¯¹è±¡å†æ‹·è´åå°±ä¸å†è¢«éœ€è¦çš„åœºæ™¯ä¸‹ï¼Œæ¯”å¦‚è¿™é‡Œçš„<code>str1</code>è§†ä¸ºâ€œå°†äº¡å€¼â€ã€‚</p>
<h4 id="5-2-5-å§”æ‰˜æ„é€ å‡½æ•°">5.2.5 å§”æ‰˜æ„é€ å‡½æ•°</h4>
<p>æ„é€ å‡½æ•°é‡è½½æ—¶ï¼Œå…è®¸ä¸€ä¸ªæ„é€ å‡½æ•°è°ƒç”¨å…¶å®ƒæ„é€ å‡½æ•°ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º<strong>å§”æ‰˜æ„é€ å‡½æ•°</strong> ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè®¾è®¡ï¼Ÿ</p>
<p><strong>å› ä¸ºC++ä¸­ä¸èƒ½åœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨å…¶å®ƒæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ä¸èƒ½è¿›è¡Œæ„é€ å‡½æ•°åµŒå¥—</strong> ã€‚</p>
<p>ä¸‹é¢ä¾¿æ˜¯ä¸€ä¸ªé”™è¯¯çš„ç¤ºèŒƒï¼ŒçŒœçŒœè¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Point</span>()&#123; Point&#123;<span class="number">0</span>, <span class="number">0</span>&#125;;&#125;;  <span class="comment">// è°ƒç”¨å…¶å®ƒæ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">Point</span>(<span class="keyword">int</span> _x, <span class="keyword">int</span> _y): <span class="built_in">x</span>(_x), <span class="built_in">y</span>(_y) &#123;  &#125;;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123; cout &lt;&lt; <span class="string">&quot;x = &quot;</span> &lt;&lt; x &lt;&lt; <span class="string">&quot;, y = &quot;</span> &lt;&lt; y &lt;&lt;endl; &#125;;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getX</span><span class="params">()</span> </span>&#123;<span class="keyword">return</span> x;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getY</span><span class="params">()</span> </span>&#123;<span class="keyword">return</span> y;&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Point p1&#123;&#125;;</span><br><span class="line">    p1.<span class="built_in">show</span>();      <span class="comment">// æ˜¯ x=0ï¼Œy=0å—ï¼Ÿ</span></span><br><span class="line">    Point p2&#123;<span class="number">2</span>,<span class="number">3</span>&#125;;  <span class="comment">// æ˜¯ x=2ï¼Œy=3å—ï¼Ÿ</span></span><br><span class="line">    p2.<span class="built_in">show</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¯èƒ½ä¼šè®©ä½ æœ‰ç‚¹æ„å¤–ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = -1847177920, y = 32765</span><br><span class="line">x = 2, y = 3</span><br></pre></td></tr></table></figure>
<p>å¥½å®¶ä¼™<code>x = -1847177920, y = 32765</code>æ˜¯ä»€ä¹ˆé¬¼ï¼ŸPoint{0, 0}æ²¡æœ‰åˆå§‹åŒ–p1å—ï¼Ÿ</p>
<p>å›åˆ°æ¡ˆå‘ç°åœºï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Point p1;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬çŸ¥é“åœ¨C++ä¸­å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼š</p>
<ol>
<li>è¦å…ˆåˆ†é…å†…å­˜ï¼ˆæ­¤æ—¶ï¼Œéé™æ€æˆå‘˜è¿˜æœªåˆå§‹åŒ–ï¼‰ï¼›</li>
<li>å†è°ƒç”¨æ„é€ å‡½æ•°ï¼ˆåˆå§‹åŒ–éé™æ€æˆå‘˜ï¼‰ã€‚</li>
</ol>
<p>å¯¹äº<code>Point p1</code> ï¼š</p>
<ol>
<li>ç¼–è¯‘å™¨ç»™å¯¹è±¡<code>p1</code> åˆ†é…äº†å†…å­˜ï¼›</li>
<li>è°ƒç”¨æ„é€ å‡½æ•°<code>Point()</code> åˆå§‹åŒ–ï¼Œè¿›å…¥å‡½æ•°ä½“å¼€å§‹æ‰§è¡Œæ„é€ å‡½æ•°<code>Point(int,int)</code> ï¼›</li>
<li><u>æ‰§è¡Œæ„é€ å‡½æ•°<code>Point(int,int)</code>æ—¶ï¼Œç¼–è¯‘å™¨åˆåˆ›å»ºäº†ä¸´æ—¶åŒ¿åå¯¹è±¡</u>ï¼›</li>
<li>æ­¤æ—¶å†è°ƒç”¨<code>Point(int,int)</code> åˆå§‹åŒ–åŒ¿åå¯¹è±¡éé™æ€æˆå‘˜x=0ï¼Œy=0ï¼Œè€Œä¸æ˜¯å¯¹è±¡<code>p1</code>ï¼›</li>
<li>æ‰€ä»¥æœ€ç»ˆå¯¹è±¡<code>p1</code> çš„xã€yæ²¡æœ‰è¢«åˆå§‹åŒ–ä¸º{0,0}ã€‚</li>
</ol>
<p>ä¹Ÿå°±æ˜¯æ„é€ å‡½æ•°å‘ç”ŸåµŒå¥—æ—¶ï¼Œä¸ä¼šåˆå§‹åŒ–å½“å‰å¯¹è±¡è€Œæ˜¯åˆå§‹åŒ–æ–°ç”Ÿæˆçš„åŒ¿åå¯¹è±¡ã€‚</p>
<p><strong>æ•´ä¸ªè¿‡ç¨‹æ¯”è¾ƒéš¾ç†è§£çš„æ˜¯ç¬¬3ç‚¹ï¼šä¸ºä»€ä¹ˆæ‰§è¡Œæ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨åˆ›å»ºäº†ä¸´æ—¶å¯¹è±¡ï¼Œæ„é€ å‡½æ•°ä¸æ˜¯ä¸ä¼šåˆ›å»ºå¯¹è±¡å—</strong>ï¼Ÿ</p>
<p>æ„é€ å‡½æ•°è™½ç„¶ä¸åˆ›å»ºå¯¹è±¡ï¼Œä½†æ˜¯åœ¨æ„é€ å‡½æ•°<u>æ‰§è¡Œå‰</u>ï¼Œç¼–è¯‘å™¨ä¼šåˆ†é…ä¸€ä¸ªåŒ¿åå¯¹è±¡ç©ºé—´ï¼Œæ„é€ å‡½æ•°ç¡®å®åªæ˜¯è´Ÿè´£å°†å…¶åˆå§‹åŒ–äº†ã€‚</p>
<p>æ˜¯çš„ï¼ŒC++å°±æ˜¯è¿™ä¹ˆé­”é¬¼ã€‚</p>
<p><strong>ä¸è¿‡ï¼ŒC++å¤§é­”ç‹å¤§æ…ˆå¤§æ‚²å…è®¸ä½ ä½¿ç”¨å§”æ‰˜æ„é€ å‡½æ•°æ–¹å¼è¿›è¡Œæ„é€ å‡½æ•°åµŒå¥—</strong>ã€‚</p>
<p>èµ¶ç´§å¸¦ç€æ„Ÿæ©çš„å¿ƒç§ä¸€ä¸‹å§ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Point</span>(): Point&#123;<span class="number">0</span>, <span class="number">0</span>&#125;&#123;&#125;;  <span class="comment">// å§”æ‰˜æ„é€ æ–¹å¼</span></span><br><span class="line">    <span class="built_in">Point</span>(<span class="keyword">int</span> _x, <span class="keyword">int</span> _y): <span class="built_in">x</span>(_x), <span class="built_in">y</span>(_y) &#123;  &#125;;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123; cout &lt;&lt; <span class="string">&quot;x = &quot;</span> &lt;&lt; x &lt;&lt; <span class="string">&quot;, y = &quot;</span> &lt;&lt; y &lt;&lt;endl; &#125;;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getX</span><span class="params">()</span> </span>&#123;<span class="keyword">return</span> x;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getY</span><span class="params">()</span> </span>&#123;<span class="keyword">return</span> y;&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>å·å·å†å‘Šè¯‰ä½ ä¸¤ç§ä¸å¤ªä¼˜é›…çš„æ–¹å¼åšåˆ°ç±»ä¼¼æ„é€ å‡½æ•°åµŒå¥—çš„æ•ˆæœ</strong>ã€‚</p>
<ul>
<li>
<p>æŠŠæ„é€ å‡½æ•°ä¸­çš„å…¬å…±éƒ¨åˆ†æŠ½å–å‡ºæ¥å®šä¹‰ä¸€ä¸ªæˆå‘˜å‡½æ•°(æœ€å¥½ä¿®é¥°ä¸ºprivate)ï¼Œç„¶ååœ¨æ¯ä¸ªéœ€è¦è¿™ä¸ªä»£ç çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨è¯¥å‡½æ•°å³å¯ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨placement newã€‚å› ä¸ºplacement newä¸ä¼šé‡æ–°åˆ†é…å†…å­˜ï¼Œå…¶å®šä¹‰ä¹Ÿè¯æ˜äº†è¿™ä¸€ç‚¹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> *__cdecl <span class="keyword">operator</span> <span class="title">new</span><span class="params">(<span class="keyword">size_t</span>, <span class="keyword">void</span> *_P)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (_P);  <span class="comment">// æ²¡æœ‰åˆ†é…æ–°çš„å†…å­˜</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·è°ƒç”¨æ„é€ å‡½æ•°<code>Point(int,int)</code> æ—¶ä¸ä¼šåˆ›å»ºä¸´æ—¶å¯¹è±¡ï¼Œè€Œæ˜¯ä¾æ—§åœ¨å¯¹è±¡<code>p1</code>å†…å­˜ä¸­æ‰§è¡Œåˆå§‹åŒ–æ“ä½œï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Point</span>()</span><br><span class="line">&#123;</span><br><span class="line">   <span class="keyword">new</span> (<span class="keyword">this</span>)Point&#123;<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">&#125;; </span><br><span class="line"></span><br><span class="line">Point p1;</span><br><span class="line">p1.<span class="built_in">show</span>(); <span class="comment">// x=0ï¼Œy=0</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="5-3-ææ„å‡½æ•°">5.3 ææ„å‡½æ•°</h3>
<h4 id="ä»€ä¹ˆæ˜¯ææ„å‡½æ•°ï¼Ÿ">ä»€ä¹ˆæ˜¯ææ„å‡½æ•°ï¼Ÿ</h4>
<p><strong>ææ„å‡½æ•°</strong>æ˜¯å¦ä¸€ç§ç‰¹æ®Šçš„ç±»æˆå‘˜å‡½æ•°ï¼Œåœ¨è¯¥ç±»çš„å¯¹è±¡è¢«é”€æ¯æ—¶æ‰§è¡Œï¼Œå¸®åŠ©ç±»æ¸…ç†å¯¹è±¡ã€‚</p>
<p>å’Œæ„é€ å‡½æ•°ä¸€æ ·ï¼Œææ„å‡½æ•°æ²¡æœ‰å‚æ•°ã€è¿”å›ç±»å‹ï¼Œä¸ç±»åŒåã€‚</p>
<p><strong>ææ„å‡½æ•°ä»€ä¹ˆæ—¶å€™æ‰§è¡Œ</strong>ï¼Ÿ</p>
<ul>
<li>
<p>å½“ä¸€ä¸ªæ ˆä¸Šåˆ†é…çš„å¯¹è±¡æ­£å¸¸è¶…å‡ºèŒƒå›´ï¼Œæ³¨æ„åŒºåˆ†å †ä¸Šåˆ†é…çš„å¯¹è±¡ä¸ä¼šè‡ªåŠ¨é‡Šæ”¾ï¼Œéœ€è¦æ‰‹åŠ¨ï¼›</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Class Test</span><br><span class="line">&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Tets t1;   <span class="comment">// æ­¤æ—¶t1åœ¨æ ˆä¸Šï¼Œè¶…å‡ºä½œç”¨èŒƒå›´ä¼šè‡ªåŠ¨é‡Šæ”¾</span></span><br><span class="line">Test* t2 = <span class="keyword">new</span> Test&#123;&#125;; <span class="comment">// æ­¤æ—¶t2æŒ‡å‘çš„å¯¹è±¡åˆ†é…åœ¨å †ä¸Š</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>delete å…³é”®å­—æ˜¾å¼åˆ é™¤åŠ¨æ€åˆ†é…çš„å¯¹è±¡ã€‚</p>
</li>
</ul>
<p><strong>ç±»ä¸€å®šéœ€è¦ææ„å‡½æ•°å—</strong>ï¼Ÿ</p>
<ul>
<li>å¦‚æœåªæ˜¯åŒ…å«æ™®é€šæˆå‘˜å˜é‡çš„å€¼ï¼Œä¸éœ€è¦ææ„å‡½æ•°ï¼›</li>
<li>å¦‚æœæ˜¯ç±»å¯¹è±¡æŒæœ‰åŠ¨æ€å†…å­˜ã€æ–‡ä»¶æˆ–æ•°æ®åº“å¥æŸ„ï¼Œéœ€è¦ææ„å‡½æ•°ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼Œä¸‹é¢<u>æ•°ç»„</u>æŒ‡é’ˆ<code>m_array</code> éœ€è¦æ˜¾ç¤ºå®šä¹‰ææ„å‡½æ•°è¿›è¡Œæ¸…ç†ï¼Œå¦åˆ™ä¼šå‘ç”Ÿå†…å­˜æ³„æ¼ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstddef&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IntArray</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">int</span>* m_array&#123;&#125;;  <span class="comment">// m_arrayæŒæœ‰åŠ¨æ€å†…å­˜</span></span><br><span class="line">	<span class="keyword">int</span> m_length&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">IntArray</span>(<span class="keyword">int</span> length) </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">assert</span>(length &gt; <span class="number">0</span>);</span><br><span class="line">		m_array = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="keyword">static_cast</span>&lt;std::<span class="keyword">size_t</span>&gt;(length)]&#123;&#125;;</span><br><span class="line">		m_length = length;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	~<span class="built_in">IntArray</span>() <span class="comment">// ææ„å‡½æ•°</span></span><br><span class="line">	&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;~IntArray&quot;</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">		<span class="keyword">delete</span>[] m_array;  <span class="comment">// æ¸…ç†m_arrayæŒæœ‰çš„åŠ¨æ€å†…å­˜</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">setValue</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> value)</span> </span>&#123; m_array[index] = value; &#125;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">getValue</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123; <span class="keyword">return</span> m_array[index]; &#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">getLength</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> m_length; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	IntArray arr &#123;<span class="number">10</span>&#125;;  <span class="comment">// ç›´æ¥åˆå§‹åŒ–ï¼Œarråˆ†é…åœ¨æ ˆä¸Š</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> count&#123; <span class="number">0</span> &#125;; count &lt; arr.<span class="built_in">getLength</span>(); ++count)</span><br><span class="line">		arr.<span class="built_in">setValue</span>(count, count+<span class="number">1</span>);</span><br><span class="line">	std::cout &lt;&lt; <span class="string">&quot;The value of element 5 is: &quot;</span> &lt;&lt; arr.<span class="built_in">getValue</span>(<span class="number">5</span>) &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;  <span class="comment">// ææ„å‡½æ•°~IntArrayæ‰§è¡Œ</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">The value of element 5 is:  6</span><br><span class="line">~IntArray</span><br></pre></td></tr></table></figure>
<h4 id="RAII">RAII</h4>
<p>RAIIï¼ˆèµ„æºè·å–å³åˆå§‹åŒ–ï¼‰æ˜¯ä¸€ç§ç¼–ç¨‹æŠ€æœ¯ï¼Œå…¶ä¸­èµ„æºä½¿ç”¨ä¸å…·æœ‰è‡ªåŠ¨ç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡ï¼ˆä¾‹å¦‚éåŠ¨æ€åˆ†é…çš„å¯¹è±¡ï¼‰çš„ç”Ÿå‘½å‘¨æœŸç›¸å…³è”ã€‚åœ¨ C++ ä¸­ï¼ŒRAII æ˜¯é€šè¿‡å…·æœ‰æ„é€ å‡½æ•°å’Œææ„å‡½æ•°çš„ç±»æ¥å®ç°çš„ã€‚</p>
<p><strong>RAII çš„ä¸»è¦ä¼˜ç‚¹æ˜¯å®ƒæœ‰åŠ©äºé˜²æ­¢èµ„æºæ³„æ¼</strong>ï¼ˆä¾‹å¦‚å†…å­˜æœªè¢«é‡Šæ”¾ï¼‰ï¼Œå› ä¸ºæ‰€æœ‰èµ„æºæŒæœ‰å¯¹è±¡éƒ½ä¼šè‡ªåŠ¨æ¸…ç†ã€‚</p>
<ul>
<li>èµ„æºï¼ˆå†…å­˜ã€æ–‡ä»¶æˆ–æ•°æ®åº“å¥æŸ„ç­‰ï¼‰åœ¨<u>å¯¹è±¡çš„æ„é€ å‡½æ•°ä¸­è·å–</u>ï¼Œåœ¨å¯¹è±¡å¤„äºæ´»åŠ¨çŠ¶æ€æ—¶ä½¿ç”¨è¯¥èµ„æºã€‚</li>
<li>å½“å¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œèµ„æºåœ¨<u>ææ„å‡½æ•°ä¸­è¢«é‡Šæ”¾</u>ã€‚</li>
</ul>
<p>å‰ä¾‹ä¸­çš„<code>m_array</code>æŒæœ‰çš„åŠ¨æ€å†…å­˜å°±æ˜¯RAIIä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­â€”â€”åœ¨æ„é€ å‡½æ•°ä¸­åˆ†é…ï¼Œåœ¨ææ„å‡½æ•°ä¸­é‡Šæ”¾ã€‚</p>
<p>åœ¨æ ‡å‡†åº“ä¸­ï¼Œ<code>std::string</code> å’Œ <code>std::vector</code>åŒæ ·éµå¾ªRAIIâ€”â€”åŠ¨æ€å†…å­˜åœ¨åˆå§‹åŒ–æ—¶è·å–ï¼Œå¹¶åœ¨é”€æ¯æ—¶è‡ªåŠ¨æ¸…ç†ã€‚</p>
<h3 id="5-4-å‹å…ƒå‡½æ•°å’Œå‹å…ƒç±»">5.4 å‹å…ƒå‡½æ•°å’Œå‹å…ƒç±»</h3>
<p>æˆ‘ä»¬ä¸€ç›´åŠªåŠ›å°½é‡å®£æ‰¬ç±»æ•°æ®ä¿å¯†ï¼ˆprivateï¼‰çš„å¥½å¤„ã€‚</p>
<p><strong>ä½†æ˜¯ï¼Œå¦‚æœæœ‰ç±»Aå’Œç±»Bè”ç³»çš„éå¸¸ç´§å¯†ï¼Œç±»Bå¯¹è±¡ç¡®å®éœ€è¦ç”¨åˆ°ç±»Aå¯¹è±¡çš„ç§æœ‰æˆå‘˜ï¼Œè¿™æ€ä¹ˆåŠ</strong>ï¼Ÿ</p>
<p>ï¼ˆè¿™ç§æƒ…å†µé€šå¸¸å‘ç”Ÿäºé‡è½½è¿ç®—ç¬¦æ—¶ï¼Œæ­¤æ—¶ä¸¤ä¸ªç±»é€šå¸¸è”ç³»å¾—å¾ˆç´§å¯†ï¼Œå…¶å®ƒæƒ…å†µç¡®å®ä¸å¸¸è§ã€‚ï¼‰</p>
<ul>
<li>å°†ç±»Açš„ç§æœ‰æˆå‘˜å…¬å¼€ï¼ˆpublicï¼‰ï¼Ÿæ˜¾ç„¶ä¸è¡Œï¼Œè¿™æ ·åˆ«çš„ç±»å¯¹è±¡ä¹Ÿå¯ä»¥è®¿é—®Açš„ç§æœ‰æˆå‘˜ï¼›</li>
<li>åœ¨ç±»Aä¸“é—¨è®¾ç½®æ¥å£å‡½æ•°è·å–ç§æœ‰æˆå‘˜å€¼ï¼Ÿä¹Ÿä¸è¡Œï¼Œé“ç†åŒä¸Šã€‚</li>
</ul>
<p>å¦‚æœèƒ½æŒ‡å®š<u>åªèƒ½</u>ç±»Bè®¿é—®ç±»Açš„ç§æœ‰æˆå‘˜è¯¥å¤šå¥½å•Šï¼</p>
<h4 id="5-4-1-å‹å…ƒå‡½æ•°">5.4.1 å‹å…ƒå‡½æ•°</h4>
<p><strong>å‹å…ƒå‡½æ•°å°±åšäº†è¿™ä¹ˆä¸€ä»¶äº‹ï¼šæŒ‡å®šæŸä¸ªæ™®é€šå‡½æ•°æˆ–æŸä¸ªç±»çš„æˆå‘˜å‡½æ•°ä¸ºæœ¬ç±»çš„å‹å…ƒå‡½æ•°ï¼Œç”±æ­¤å¯ä»¥ä½¿ç”¨æœ¬ç±»çš„ç§æœ‰æˆå‘˜</strong>ã€‚</p>
<p>è™½ç„¶è¿™ç ´åäº†ç±»çš„å°è£…æ€§å’Œæ•°æ®çš„éšè—æ€§ï¼Œå¯¼è‡´ç¨‹åºå¯ç»´æŠ¤æ€§å˜å·®ã€‚ä½†åœ¨æŸäº›åœºæ™¯ä¸‹ç¡®å®å¾ˆæœ‰ç”¨ã€‚</p>
<p>ä¸¾ä¾‹è¯´æ˜æ™®é€šå‡½æ•°/æˆå‘˜å‡½æ•°ä½œä¸ºå‹å…ƒå‡½æ•°ã€‚</p>
<h5 id="æ™®é€šå‡½æ•°ä½œä¸ºå‹å…ƒå‡½æ•°">æ™®é€šå‡½æ•°ä½œä¸ºå‹å…ƒå‡½æ•°</h5>
<p>æ³¨æ„ï¼šå‹å…ƒå‡½æ•°è™½ç„¶å£°æ˜åœ¨ç±»ä¸­ï¼Œä½†å¹¶ä¸å±äºå½“å‰ç±»æˆå‘˜ã€‚</p>
<p>ä¸‹é¢è¿™ä¸ªä¾‹å­å±•ç¤ºäº†ï¼Œåœ¨ç±»<code>Accumulator</code> æŠŠå‡½æ•°<code>reset</code> ä½œä¸ºå‹å…ƒå‡½æ•°ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Accumulator</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_value &#123; <span class="number">0</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤–éƒ¨å‡½æ•°resetä½œä¸ºå‹å…ƒå‡½æ•°</span></span><br><span class="line">    <span class="comment">// å‹å…ƒå‡½æ•°å£°æ˜åœ¨ç±»å¤–ï¼ŒAccumulatorå¯¹è±¡ä½œä¸ºå‚æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="keyword">void</span> <span class="title">reset</span><span class="params">(Accumulator&amp; accumulator)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‹å…ƒå‡½æ•°resetå®šä¹‰åœ¨ç±»å¤–</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reset</span><span class="params">(Accumulator&amp; accumulator)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// ç°åœ¨resetå¯ä»¥ä½¿ç”¨ç±»Accumulatorå¯¹è±¡çš„ç§æœ‰æˆå‘˜</span></span><br><span class="line">    accumulator.m_value = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Accumulator acc;</span><br><span class="line">    <span class="built_in">reset</span>(acc); <span class="comment">// ok</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼Œæˆ‘ä»¬å¿…é¡»å°† Accumulator å¯¹è±¡accä¼ é€’ç»™ reset()</strong>ã€‚</p>
<p>å› ä¸ºå‹å…ƒå‡½æ•°reset() <u>ä¸æ˜¯ç±»çš„æˆå‘˜</u>ï¼Œæ²¡æœ‰ <code>*this</code> æŒ‡é’ˆï¼Œä¹Ÿæ²¡æœ‰å¯ä¾›ä½¿ç”¨çš„ Accumulator å¯¹è±¡ï¼Œå› æ­¤å¿…é¡»ç»™å®šä¸€ä¸ªã€‚</p>
<p><strong>ä¸€ä¸ªå‡½æ•°è¿˜å¯ä»¥åŒæ—¶æ˜¯å¤šä¸ªç±»çš„å‹å…ƒå‡½æ•°ï¼Œä½†æ˜¯æ¯ä¸ªç±»ä¸­éƒ½è¦å£°æ˜è¿™ä¸ªå‡½æ•°</strong>ã€‚</p>
<p>ä¸‹é¢å¤–éƒ¨å‡½æ•°<code>printWeather</code> åŒæ—¶æ˜¯ç±»<code>Humidity</code> å’Œ <code>Temperature</code> çš„å‹å…ƒå‡½æ•°ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Humidity</span>;</span>  <span class="comment">// å‰å‘å£°æ˜ï¼Œå¦åˆ™ä»£ç 14è¡Œå¤„æ— æ³•æ‰¾åˆ°å®šä¹‰</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Temperature</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_temp &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Temperature</span>(<span class="keyword">int</span> temp=<span class="number">0</span>): m_temp &#123; temp &#125;</span><br><span class="line">    &#123;&#125;</span><br><span class="line">    <span class="comment">// å£°æ˜1ï¼šæ˜¯ç±»Temperatureçš„å‹å…ƒå‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="keyword">void</span> <span class="title">printWeather</span><span class="params">(<span class="keyword">const</span> Temperature&amp; temperature, <span class="keyword">const</span> Humidity&amp; humidity)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Humidity</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_humidity &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Humidity</span>(<span class="keyword">int</span> humidity=<span class="number">0</span>): m_humidity &#123; humidity &#125;</span><br><span class="line">    &#123;&#125;</span><br><span class="line">    <span class="comment">// å£°æ˜2ï¼šæ˜¯ç±»Humidityçš„å‹å…ƒå‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="keyword">void</span> <span class="title">printWeather</span><span class="params">(<span class="keyword">const</span> Temperature&amp; temperature, <span class="keyword">const</span> Humidity&amp; humidity)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰å‹å…ƒå‡½æ•°printWeather</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printWeather</span><span class="params">(<span class="keyword">const</span> Temperature&amp; temperature, <span class="keyword">const</span> Humidity&amp; humidity)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;The temperature is &quot;</span> &lt;&lt; temperature.m_temp &lt;&lt;</span><br><span class="line">       <span class="string">&quot; and the humidity is &quot;</span> &lt;&lt; humidity.m_humidity &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Humidity <span class="title">hum</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">    <span class="function">Temperature <span class="title">temp</span><span class="params">(<span class="number">12</span>)</span></span>;</span><br><span class="line">    <span class="built_in">printWeather</span>(temp, hum);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="æˆå‘˜å‡½æ•°ä½œä¸ºå‹å…ƒå‡½æ•°">æˆå‘˜å‡½æ•°ä½œä¸ºå‹å…ƒå‡½æ•°</h5>
<p>ä¸ä½¿æ™®é€šå‡½æ•°æˆä¸ºæœ‹å‹ç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥è®©ç±»æˆå‘˜å‡½æ•°ä½œä¸ºå‹å…ƒå‡½æ•°ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®ä¾‹ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Humidity</span>;</span>  <span class="comment">// å‰å‘å£°æ˜</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Temperature</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_temp &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Temperature</span>(<span class="keyword">int</span> temp=<span class="number">0</span>): m_temp &#123; temp &#125;</span><br><span class="line">    &#123;&#125;</span><br><span class="line">    <span class="comment">// è¿™é‡Œä¸éœ€è¦Humidityå®Œæ•´å®šä¹‰ï¼Œå‰é¢å‰å‘å£°æ˜å°±å¯ä»¥ã€‚</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printHumidity</span><span class="params">(<span class="keyword">const</span> Humidity&amp; Humidity)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">       std::cout &lt;&lt; <span class="string">&quot;The Humidity is &quot;</span> &lt;&lt; Humidity.m_humidity;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Humidity</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_humidity &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Humidity</span>(<span class="keyword">int</span> humidity=<span class="number">0</span>): m_humidity &#123; humidity &#125;&#123;&#125;</span><br><span class="line">    <span class="comment">// Humidityçš„å‹å…ƒå‡½æ•°æ˜¯Temperatureç±»ä¸­çš„printHumidityå‡½æ•°</span></span><br><span class="line">    <span class="comment">// æ³¨æ„ï¼Œç±»Temperatureä¸€å®šè¦åœ¨å‰ï¼Œå› ä¸ºç¼–è¯‘å™¨éœ€è¦å‹å…ƒå‡½æ•°ç±»Temperatureå®Œæ•´å®šä¹‰</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="keyword">void</span> Temperature:: <span class="built_in">printHumidity</span> (<span class="keyword">const</span> Humidity&amp; Humidity);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="5-4-2-å‹å…ƒç±»">5.4.2 å‹å…ƒç±»</h4>
<p>ä¹Ÿå¯ä»¥è®©æ•´ä¸ªç±»æˆä¸ºå¦ä¸€ä¸ªç±»çš„æœ‹å‹ï¼Œè¿™æ ·å‹å…ƒç±»çš„æ‰€æœ‰æˆå‘˜éƒ½å¯ä»¥è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ã€‚</p>
<p>ä¸€ä¸ªç®€å•å®ä¾‹ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Storage</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_nValue &#123;&#125;;</span><br><span class="line">    <span class="keyword">double</span> m_dValue &#123;&#125;;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Storage</span>(<span class="keyword">int</span> nValue, <span class="keyword">double</span> dValue): m_nValue &#123; nValue &#125;, m_dValue &#123; dValue &#125;</span><br><span class="line">    &#123;&#125;</span><br><span class="line">    <span class="comment">// Displayæ˜¯æœ¬ç±»ï¼ˆStorageï¼‰çš„å‹å…ƒç±»</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">Display</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Display</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">bool</span> m_displayIntFirst;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Display</span>(<span class="keyword">bool</span> displayIntFirst): m_displayIntFirst &#123; displayIntFirst &#125;</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">displayItem</span><span class="params">(<span class="keyword">const</span> Storage&amp; storage)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// Displayå¯ä»¥ä½¿ç”¨Storageçš„ç§æœ‰æˆå‘˜</span></span><br><span class="line">        <span class="keyword">if</span> (m_displayIntFirst)</span><br><span class="line">            std::cout &lt;&lt; storage.m_nValue &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; storage.m_dValue &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            std::cout &lt;&lt; storage.m_dValue &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; storage.m_nValue &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Storage <span class="title">storage</span><span class="params">(<span class="number">5</span>, <span class="number">6.7</span>)</span></span>;</span><br><span class="line">    <span class="function">Display <span class="title">display</span><span class="params">(<span class="literal">false</span>)</span></span>;</span><br><span class="line">    display.<span class="built_in">displayItem</span>(storage); <span class="comment">// ok</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-5-éšè—çš„thisæŒ‡é’ˆ">5.5 éšè—çš„thisæŒ‡é’ˆ</h3>
<h4 id="5-5-1-å¿«é€Ÿå›å¿†">5.5.1 å¿«é€Ÿå›å¿†</h4>
<p>åœ¨<u>2.1.4</u>èŠ‚ï¼Œæˆ‘ä»¬è¯´è¿‡ï¼Œ<strong>æ¯ä¸ªç±»éƒ½æœ‰ä¸ªéšè—çš„<code>this</code>æŒ‡é’ˆ</strong>ã€‚</p>
<p>å¿«é€Ÿå›å¿†ä¸‹ï¼š</p>
<ul>
<li>ç¼–è¯‘å™¨éšå¼ä¸ºæ¯ä¸ªæ•°æ®æˆå‘˜åŠ ä¸Š<code>this</code> æŒ‡é’ˆï¼›</li>
<li>ç¼–è¯‘å™¨éšå¼ä¸ºæ¯ä¸ªå‡½æ•°æ˜¾ç¤ºåŠ ä¸Šäº†ç¬¬ä¸€ä¸ªå‚æ•°<code>Simple* const this</code> ã€‚</li>
</ul>
<p>ä¸ºæ–¹ä¾¿ç†è§£ï¼Œä¸‹é¢ä»£ç <u>æ³¨é‡Š</u>æ˜¾ç¤ºæŒ‡ç¤ºäº†<code>this</code>æŒ‡é’ˆçš„ä½ç½®ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Simple</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Simple</span>(<span class="keyword">int</span> id): m_id&#123; id &#125;</span><br><span class="line">    <span class="comment">// Simple(Simple* const this,int id): this-&gt;m_id&#123; id &#125; </span></span><br><span class="line">    &#123;      </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setID</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123; m_id = id; &#125;</span><br><span class="line">    <span class="comment">//  void setID(Simple* const this,int id) &#123; this-&gt;m_id = id; &#125;</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getID</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">this</span>-&gt;m_id; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Simple simple&#123;<span class="number">1</span>&#125;;</span><br><span class="line">    simple.<span class="built_in">setID</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="comment">// simple.setID(&amp;simple,2);</span></span><br><span class="line">    std::cout &lt;&lt; simple.<span class="built_in">getID</span>() &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»ä»£ç 22è¡Œå¤„ï¼Œä¹Ÿå¯ä»¥çŸ¥é“ï¼š<strong><code>this</code>æŒ‡é’ˆå°±æ˜¯æŒ‡å‘å½“å‰å¯¹è±¡</strong><code>simple</code> ã€‚</p>
<p>å¤§éƒ¨åˆ†æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥å‡è£…ä¸çŸ¥é“thisæŒ‡é’ˆçš„å­˜åœ¨ï¼Œä½†åœ¨é“¾æ¥æˆå‘˜æ—¶thisæŒ‡é’ˆè¡¨ç°å¾—å¾ˆæœ‰ç”¨ã€‚</p>
<h4 id="5-5-2-thisæŒ‡é’ˆé“¾æ¥æˆå‘˜å‡½æ•°">5.5.2 thisæŒ‡é’ˆé“¾æ¥æˆå‘˜å‡½æ•°</h4>
<p>æ€è€ƒä¸€ä¸‹ï¼šç»å¸¸ä½¿ç”¨çš„<code>std::cout</code>æ˜¯å¦‚ä½•å®ç°è¿ç»­æ‰“å°å¤šä¸ªå­—ç¬¦ä¸²ï¼Ÿ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">std::cout &lt;&lt; <span class="string">&quot;Hello &quot;</span> &lt;&lt; <span class="string">&quot;World&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶ï¼Œstd::cout æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œ operator&lt;&lt; æ˜¯å¯¹è¯¥å¯¹è±¡è¿›è¡Œæ“ä½œçš„æˆå‘˜å‡½æ•°ï¼š</p>
<ul>
<li>operator&lt;&lt; æ‰“å°ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²&quot;Hello &quot;ï¼Œç„¶åè¿”å›å½“å‰å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯<code>*this</code>ï¼›</li>
<li>std::cout å¯¹è±¡ <code>*this</code> è°ƒç”¨operator&lt;&lt; æ‰“å°ç¬¬äºŒä¸ªå­—ç¬¦ä¸²&quot;World&quot;ã€‚</li>
</ul>
<p>ä¸¾ä¸€ä¸ªæ›´å…·ä½“çš„ä¾‹å­ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calc</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_value&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">Calc&amp; <span class="title">add</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123; m_value += value; <span class="keyword">return</span> *<span class="keyword">this</span>; &#125;</span><br><span class="line">    <span class="function">Calc&amp; <span class="title">sub</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123; m_value -= value; <span class="keyword">return</span> *<span class="keyword">this</span>; &#125;</span><br><span class="line">    <span class="function">Calc&amp; <span class="title">mul</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123; m_value *= value; <span class="keyword">return</span> *<span class="keyword">this</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getValue</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> m_value; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Calc calc&#123;&#125;;</span><br><span class="line">    calc.<span class="built_in">add</span>(<span class="number">5</span>).<span class="built_in">sub</span>(<span class="number">3</span>).<span class="built_in">mul</span>(<span class="number">4</span>);   <span class="comment">// å‡½æ•°é“¾æ¥èµ·æ¥äº†</span></span><br><span class="line">    std::cout &lt;&lt; calc.<span class="built_in">getValue</span>() &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ç§åšæ³•åœ¨<u>ç±»é‡è½½è¿ç®—ç¬¦</u>æ—¶æœ€å¸¸ä½¿ç”¨ï¼Œä¸‹ç« ä¸€èµ·æ¥å­¦ä¹ ä¸‹å§ã€‚</p>
<h2 id="æ›´æ–°è®°å½•">æ›´æ–°è®°å½•</h2>
<div class="timeline">
<div class="timenode"><div class="meta"><p><p>2022-02-02ï¼šæ›´æ–°ç¬”è®°</p>
</p></div><div class="body"><ol><li>ä¿®æ”¹std::moveç›¸å…³æè¿°</li></ol></div></div>

<div class="timenode"><div class="meta"><p><p>2022-01-29ï¼šæ›´æ–°ç¬”è®°</p>
</p></div><div class="body"><ol><li>ä¿®æ”¹æˆå‘˜åˆ—è¡¨åˆå§‹åŒ–ç›¸å…³æè¿°</li><li>å¢åŠ ç§»åŠ¨æ„é€ å‡½æ•°ç›¸å…³æè¿°</li></ol></div></div>

<div class="timenode"><div class="meta"><p><p>2022-01-28ï¼šæ›´æ–°ç¬”è®°</p>
</p></div><div class="body"><ol><li>ä¿®æ”¹å¤åˆ¶åˆå§‹åŒ–ç›¸å…³æè¿°</li></ol></div></div>

<div class="timenode"><div class="meta"><p><p>2022-01-27ï¼šæ›´æ–°ç¬”è®°</p>
</p></div><div class="body"><ol><li>ç¬¬ä¸€æ¬¡æ›´æ–°</li></ol></div></div>
</div>
<h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h2>
<div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">C++æ„é€ å‡½æ•°çš„ç†è§£ : https://www.cnblogs.com/downey-blog/p/10470782.html<a href="#fnref:1" rev="footnote"> â†©</a></span></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">2.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">ç¦æ­¢æ‹·è´æ„é€ ï¼Œç¦æ­¢bugï¼šhttps://zhuanlan.zhihu.com/p/266353611<a href="#fnref:2" rev="footnote"> â†©</a></span></li><li id="fn:3"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">3.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">ä¸ºä»€ä¹ˆä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ä¼šå¿«ä¸€äº›ï¼Ÿhttps://segmentfault.com/a/1190000039294789<a href="#fnref:3" rev="footnote"> â†©</a></span></li><li id="fn:4"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">4.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">C++11å³å€¼å¼•ç”¨å’Œç§»åŠ¨æ„é€ å‡½æ•°è¯¦è§£ ï¼šhttps://zhuanlan.zhihu.com/p/365412262<a href="#fnref:4" rev="footnote"> â†©</a></span></li><li id="fn:5"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">5.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">C++ä¸­çš„std::moveå‡½æ•°åˆ°åº•æ˜¯åšä»€ä¹ˆçš„ï¼Ÿhttps://www.zhihu.com/question/467449795<a href="#fnref:5" rev="footnote"> â†©</a></span></li></ol></div></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">Wanghui Huang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://hwh.zone/p/17506/">https://hwh.zone/p/17506/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://hwh.zone" target="_blank">royhuang's blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C/">C++</a><a class="post-meta__tags" href="/tags/%E6%95%99%E7%A8%8B/">æ•™ç¨‹</a><a class="post-meta__tags" href="/tags/%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/">å¿«é€Ÿå…¥é—¨</a><a class="post-meta__tags" href="/tags/%E9%9D%A2%E5%AF%B9%E5%AF%B9%E8%B1%A1/">é¢å¯¹å¯¹è±¡</a></div><div class="post_share"><div class="social-share" data-image="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> æ‰“èµ</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/wechatPay.png" target="_blank"><img class="post-qr-code-img" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/wechatPay.png" alt="å¾®ä¿¡"/></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/alipay.png" target="_blank"><img class="post-qr-code-img" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/alipay.png" alt="æ”¯ä»˜å®"/></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/p/6587/"><img class="prev-cover" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">C++ä»é›¶å¼€å§‹ï¼ˆå…­ï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸‹ï¼‰å¤åˆç±»å‹åŠè½¬æ¢</div></div></a></div><div class="next-post pull-right"><a href="/p/43924/"><img class="next-cover" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">C++ä»é›¶å¼€å§‹ï¼ˆå…«ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸­ï¼‰è¿ç®—ç¬¦é‡è½½</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/p/26224/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨"><img class="cover" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-16</div><div class="title">C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨</div></div></a></div><div><a href="/p/18652/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¸€ï¼‰ï¼šç¯å¢ƒæ­å»ºï¼ˆä¸Šï¼‰VSCodeè¿œç¨‹å¼€å‘"><img class="cover" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/image-20211211214212828.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-05</div><div class="title">C++ä»é›¶å¼€å§‹ï¼ˆä¸€ï¼‰ï¼šç¯å¢ƒæ­å»ºï¼ˆä¸Šï¼‰VSCodeè¿œç¨‹å¼€å‘</div></div></a></div><div><a href="/p/60158/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¹ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸‹ï¼‰ç»§æ‰¿å’Œè™šå‡½æ•°"><img class="cover" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-08</div><div class="title">C++ä»é›¶å¼€å§‹ï¼ˆä¹ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸‹ï¼‰ç»§æ‰¿å’Œè™šå‡½æ•°</div></div></a></div><div><a href="/p/2834/" title="C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šç¯å¢ƒæ­å»ºï¼ˆä¸‹ï¼‰g++/Makefile/CMakeå¿«é€Ÿå…¥é—¨"><img class="cover" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/image-20211211215040434.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-05</div><div class="title">C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šç¯å¢ƒæ­å»ºï¼ˆä¸‹ï¼‰g++/Makefile/CMakeå¿«é€Ÿå…¥é—¨</div></div></a></div><div><a href="/p/43924/" title="C++ä»é›¶å¼€å§‹ï¼ˆå…«ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸­ï¼‰è¿ç®—ç¬¦é‡è½½"><img class="cover" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-27</div><div class="title">C++ä»é›¶å¼€å§‹ï¼ˆå…«ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸­ï¼‰è¿ç®—ç¬¦é‡è½½</div></div></a></div><div><a href="/p/6587/" title="C++ä»é›¶å¼€å§‹ï¼ˆå…­ï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸‹ï¼‰å¤åˆç±»å‹åŠè½¬æ¢"><img class="cover" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-16</div><div class="title">C++ä»é›¶å¼€å§‹ï¼ˆå…­ï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸‹ï¼‰å¤åˆç±»å‹åŠè½¬æ¢</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/cat.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Wanghui Huang</div><div class="author-info__description">tech & life</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">30</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">42</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">12</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Wanghui-Huang"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Wanghui-Huang" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:hwh199601@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>å…¬å‘Š</span></div><div class="announcement_content">royhuang's studio</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E9%9D%A2%E5%AF%B9%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8"><span class="toc-text">äº”ã€é¢å¯¹å¯¹è±¡å…¥é—¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E9%9D%A2%E5%AF%B9%E5%AF%B9%E8%B1%A1%EF%BC%9F"><span class="toc-text">5.1 ä¸ºä»€ä¹ˆéœ€è¦é¢å¯¹å¯¹è±¡ï¼Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-1-%E4%BB%8E%E9%9D%A2%E5%90%91%E8%BF%87%E7%A8%8B%E8%AF%B4%E8%B5%B7"><span class="toc-text">5.1.1 ä»é¢å‘è¿‡ç¨‹è¯´èµ·</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-2-%E9%9D%A2%E5%AF%B9%E5%AF%B9%E8%B1%A1%E7%BB%84%E6%88%90"><span class="toc-text">5.1.2 é¢å¯¹å¯¹è±¡ç»„æˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%88%90%E5%91%98%E7%BB%84%E6%88%90"><span class="toc-text">æˆå‘˜ç»„æˆ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E7%AC%A6"><span class="toc-text">è®¿é—®æ§åˆ¶ç¬¦</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%89%E5%A4%A7%E7%89%B9%E6%80%A7%E4%B9%8B%E5%B0%81%E8%A3%85"><span class="toc-text">ä¸‰å¤§ç‰¹æ€§ä¹‹å°è£…</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E7%BB%93%E6%9E%84%E4%BD%93%E8%BF%99%E4%B9%88%E5%83%8F%EF%BC%9F"><span class="toc-text">ç±»å’Œç»“æ„ä½“è¿™ä¹ˆåƒï¼Ÿ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%8F%8A%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">5.2 æ„é€ å‡½æ•°åŠåˆå§‹åŒ–</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-1-%E9%BB%98%E8%AE%A4%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E3%80%81%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%8A%E7%B1%BB%E5%88%86%E9%85%8D"><span class="toc-text">5.2.1 é»˜è®¤æ„é€ å‡½æ•°ã€åˆå§‹åŒ–åŠç±»åˆ†é…</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-text">é»˜è®¤æ„é€ å‡½æ•°</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E7%9B%B4%E6%8E%A5%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">åˆ—è¡¨åˆå§‹åŒ–å’Œç›´æ¥åˆå§‹åŒ–</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B1%BB%E9%9D%99%E6%80%81%E5%88%86%E9%85%8D%E5%92%8C%E5%8A%A8%E6%80%81%E5%88%86%E9%85%8D"><span class="toc-text">ç±»é™æ€åˆ†é…å’ŒåŠ¨æ€åˆ†é…</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-2-%E8%BD%AC%E6%8D%A2%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-text">5.2.2 è½¬æ¢æ„é€ å‡½æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-3-%E5%86%8D%E8%B0%88%E5%88%9D%E5%A7%8B%E5%8C%96%F0%9F%8C%9F"><span class="toc-text">5.2.3 å†è°ˆåˆå§‹åŒ–ğŸŒŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">å¤åˆ¶åˆå§‹åŒ–</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="toc-text">æ·±æ‹·è´å’Œæµ…æ‹·è´</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%88%90%E5%91%98%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8"><span class="toc-text">æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%88%90%E5%91%98%E5%88%97%E8%A1%A8%E5%88%9D%E5%A7%8B%E5%8C%96%E6%9B%B4%E5%BF%AB%EF%BC%9F"><span class="toc-text">æˆå‘˜åˆ—è¡¨åˆå§‹åŒ–æ›´å¿«ï¼Ÿ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%EF%BC%9A%E5%88%9D%E5%A7%8B%E5%8C%96%E9%80%89%E6%8B%A9"><span class="toc-text">æœ€ä½³å®è·µï¼šåˆå§‹åŒ–é€‰æ‹©</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-4-%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-text">5.2.4 ç§»åŠ¨æ„é€ å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%EF%BC%9F"><span class="toc-text">ä»€ä¹ˆæ˜¯ç§»åŠ¨æ„é€ å‡½æ•°ï¼Ÿ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%92%8Cstd-move"><span class="toc-text">å³å€¼å¼•ç”¨å’Œstd::move</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-5-%E5%A7%94%E6%89%98%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-text">5.2.5 å§”æ‰˜æ„é€ å‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0"><span class="toc-text">5.3 ææ„å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%EF%BC%9F"><span class="toc-text">ä»€ä¹ˆæ˜¯ææ„å‡½æ•°ï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RAII"><span class="toc-text">RAII</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-%E5%8F%8B%E5%85%83%E5%87%BD%E6%95%B0%E5%92%8C%E5%8F%8B%E5%85%83%E7%B1%BB"><span class="toc-text">5.4 å‹å…ƒå‡½æ•°å’Œå‹å…ƒç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-4-1-%E5%8F%8B%E5%85%83%E5%87%BD%E6%95%B0"><span class="toc-text">5.4.1 å‹å…ƒå‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%8F%8B%E5%85%83%E5%87%BD%E6%95%B0"><span class="toc-text">æ™®é€šå‡½æ•°ä½œä¸ºå‹å…ƒå‡½æ•°</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%8F%8B%E5%85%83%E5%87%BD%E6%95%B0"><span class="toc-text">æˆå‘˜å‡½æ•°ä½œä¸ºå‹å…ƒå‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-4-2-%E5%8F%8B%E5%85%83%E7%B1%BB"><span class="toc-text">5.4.2 å‹å…ƒç±»</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E9%9A%90%E8%97%8F%E7%9A%84this%E6%8C%87%E9%92%88"><span class="toc-text">5.5 éšè—çš„thisæŒ‡é’ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-5-1-%E5%BF%AB%E9%80%9F%E5%9B%9E%E5%BF%86"><span class="toc-text">5.5.1 å¿«é€Ÿå›å¿†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-5-2-this%E6%8C%87%E9%92%88%E9%93%BE%E6%8E%A5%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0"><span class="toc-text">5.5.2 thisæŒ‡é’ˆé“¾æ¥æˆå‘˜å‡½æ•°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E8%AE%B0%E5%BD%95"><span class="toc-text">æ›´æ–°è®°å½•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-text">å‚è€ƒèµ„æ–™</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/p/45495/" title="C++ä»é›¶å¼€å§‹ï¼ˆåäºŒï¼‰ï¼šLinuxç³»ç»Ÿç¼–ç¨‹å…¥é—¨">C++ä»é›¶å¼€å§‹ï¼ˆåäºŒï¼‰ï¼šLinuxç³»ç»Ÿç¼–ç¨‹å…¥é—¨</a><time datetime="2022-04-03T05:45:34.660Z" title="å‘è¡¨äº 2022-04-03 13:45:34">2022-04-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/p/17467/" title="C++ä»é›¶å¼€å§‹ï¼ˆåä¸€ï¼‰ï¼šC++è¿›é˜¶ï¼ˆä¸‹ï¼‰STL">C++ä»é›¶å¼€å§‹ï¼ˆåä¸€ï¼‰ï¼šC++è¿›é˜¶ï¼ˆä¸‹ï¼‰STL</a><time datetime="2022-02-14T09:55:49.585Z" title="å‘è¡¨äº 2022-02-14 17:55:49">2022-02-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/p/51012/" title="C++ä»é›¶å¼€å§‹ï¼ˆåï¼‰ï¼šC++è¿›é˜¶ï¼ˆä¸Šï¼‰æ¨¡æ¿">C++ä»é›¶å¼€å§‹ï¼ˆåï¼‰ï¼šC++è¿›é˜¶ï¼ˆä¸Šï¼‰æ¨¡æ¿</a><time datetime="2022-02-11T08:17:22.936Z" title="å‘è¡¨äº 2022-02-11 16:17:22">2022-02-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/p/60158/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¹ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸‹ï¼‰ç»§æ‰¿å’Œè™šå‡½æ•°">C++ä»é›¶å¼€å§‹ï¼ˆä¹ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸‹ï¼‰ç»§æ‰¿å’Œè™šå‡½æ•°</a><time datetime="2022-02-08T08:24:59.978Z" title="å‘è¡¨äº 2022-02-08 16:24:59">2022-02-08</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By Wanghui Huang</div><div class="footer_custom_text">Support By <a target="_blank" rel="noopener" href="https://cloud.tencent.com/" style="text-decoration:underline; color:#476679;"> Tencent Cloud </a> |  <a target="_blank" rel="noopener" href="https://hexo.io/" style="text-decoration:underline; color:#476679;">Hexo</a> | <a target="_blank" rel="noopener" href="https://butterfly.js.org/" style="text-decoration:underline; color:#476679;">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="æ”¾å¤§å­—ä½“"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="ç¼©å°å­—ä½“"><i class="fas fa-minus"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(()=>{
  const $countDom = document.getElementById('twikoo-count')
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'blog-comments-5g2cfsved8c0de34',
      region: 'ap-shanghai'
    }, null))
  }

  const getCount = () => {
    twikoo.getCommentsCount({
      envId: 'blog-comments-5g2cfsved8c0de34',
      region: 'ap-shanghai',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      $countDom.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const loadTwikoo = (bool = false) => {
    if (typeof twikoo === 'object') {
      init()
      bool && $countDom && setTimeout(getCount,0)
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(()=> {
        init()
        bool && $countDom && setTimeout(getCount,0)
      })
    }
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo(true)
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script src="https://cdn.jsdelivr.net/npm/hexo-widget-tree@0.2.2/js/index.js"></script><div id="widget-tree">
      <h1 id="tree-toc-title" style="text-align:center;margin:0;line-hight:1.5"> <a href="https://hwh.zone/categories/">ç›® å½• </a> </h1>
      <h5 id="tree-toc-subtitle" style="text-align:center;margin:0;line-hight:1.5"> <a href="https://hwh.zone/">royhuang's blog</a> </h5>
      <ul>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/C/">
          C++
        </a>
      <ul class="tree-list-children">
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/C/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/">
          ä»é›¶å¼€å§‹
        </a>
      <ul class="tree-list-children">
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/C/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/C-%E5%9F%BA%E7%A1%80/">
          C++åŸºç¡€
        </a>
      <ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/p/6587/" title="C++ä»é›¶å¼€å§‹ï¼ˆå…­ï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸‹ï¼‰å¤åˆç±»å‹åŠè½¬æ¢"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆå…­ï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸‹ï¼‰å¤åˆç±»å‹åŠè½¬æ¢</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/26224/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/51595/" title="C++ä»é›¶å¼€å§‹ï¼ˆäº”ï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸‹ï¼‰å‡½æ•°"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆäº”ï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸‹ï¼‰å‡½æ•°</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/24237/" title="C++ä»é›¶å¼€å§‹ï¼ˆå››ï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸­ï¼‰æŒ‡é’ˆå’Œå¼•ç”¨"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆå››ï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸­ï¼‰æŒ‡é’ˆå’Œå¼•ç”¨</a></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/C/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/C-%E8%BF%9B%E9%98%B6/">
          C++è¿›é˜¶
        </a>
      <ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/p/51012/" title="C++ä»é›¶å¼€å§‹ï¼ˆåï¼‰ï¼šC++è¿›é˜¶ï¼ˆä¸Šï¼‰æ¨¡æ¿"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆåï¼‰ï¼šC++è¿›é˜¶ï¼ˆä¸Šï¼‰æ¨¡æ¿</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/17467/" title="C++ä»é›¶å¼€å§‹ï¼ˆåä¸€ï¼‰ï¼šC++è¿›é˜¶ï¼ˆä¸‹ï¼‰STL"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆåä¸€ï¼‰ï¼šC++è¿›é˜¶ï¼ˆä¸‹ï¼‰STL</a></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/C/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/C-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">
          C++ç¯å¢ƒæ­å»º
        </a>
      <ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/p/18652/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¸€ï¼‰ï¼šç¯å¢ƒæ­å»ºï¼ˆä¸Šï¼‰VSCodeè¿œç¨‹å¼€å‘"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆä¸€ï¼‰ï¼šç¯å¢ƒæ­å»ºï¼ˆä¸Šï¼‰VSCodeè¿œç¨‹å¼€å‘</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/2834/" title="C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šç¯å¢ƒæ­å»ºï¼ˆä¸‹ï¼‰g++/Makefile/CMakeå¿«é€Ÿå…¥é—¨"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šç¯å¢ƒæ­å»ºï¼ˆä¸‹ï¼‰g++/Makefile/CMakeå¿«é€Ÿå…¥é—¨</a></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/C/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/C-%E9%9D%A2%E5%AF%B9%E5%AF%B9%E8%B1%A1/">
          C++é¢å¯¹å¯¹è±¡
        </a>
      <ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/p/17506/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¸ƒï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆä¸ƒï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/60158/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¹ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸‹ï¼‰ç»§æ‰¿å’Œè™šå‡½æ•°"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆä¹ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸‹ï¼‰ç»§æ‰¿å’Œè™šå‡½æ•°</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/43924/" title="C++ä»é›¶å¼€å§‹ï¼ˆå…«ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸­ï¼‰è¿ç®—ç¬¦é‡è½½"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆå…«ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸­ï¼‰è¿ç®—ç¬¦é‡è½½</a></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/C/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/Linux%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B/">
          Linuxç³»ç»Ÿç¼–ç¨‹
        </a>
      <ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/p/45495/" title="C++ä»é›¶å¼€å§‹ï¼ˆåäºŒï¼‰ï¼šLinuxç³»ç»Ÿç¼–ç¨‹å…¥é—¨"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆåäºŒï¼‰ï¼šLinuxç³»ç»Ÿç¼–ç¨‹å…¥é—¨</a></li></ul></li></ul></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/%E5%BB%BA%E7%AB%99/">
          å»ºç«™
        </a>
      <ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/p/56326/" title="Hexo+Github Pageså¿«é€Ÿæ‰“é€ å±äºè‡ªå·±çš„ç½‘ç«™"><i class="post-icon gg-file-document"></i>Hexo+Github Pageså¿«é€Ÿæ‰“é€ å±äºè‡ªå·±çš„ç½‘ç«™</a></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/Git/">
          Git
        </a>
      <ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/p/43848/" title="GitåŸºç¡€ç¬”è®°ï¼ˆåˆæ­¥æ•´ç†ï¼‰"><i class="post-icon gg-file-document"></i>GitåŸºç¡€ç¬”è®°ï¼ˆåˆæ­¥æ•´ç†ï¼‰</a></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/%E6%A0%A1%E6%8B%9B%E7%AC%94%E8%AE%B0/">
          æ ¡æ‹›ç¬”è®°
        </a>
      <ul class="tree-list-children">
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/%E6%A0%A1%E6%8B%9B%E7%AC%94%E8%AE%B0/JAVA/">
          JAVA
        </a>
      <ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/p/42516/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_JVM"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_JVM</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/8959/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_å¤šçº¿ç¨‹"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_å¤šçº¿ç¨‹</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/51787/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_Javaå…¥é—¨"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_Javaå…¥é—¨</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/7257/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_é¢å¯¹å¯¹è±¡"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_é¢å¯¹å¯¹è±¡</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/45493/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_é”"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_é”</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/21069/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_é›†åˆ"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_é›†åˆ</a></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/%E6%A0%A1%E6%8B%9B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">
          è®¡ç®—æœºåŸºç¡€
        </a>
      <ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/p/61434/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¸ƒï¼‰_è®¡ç®—æœºåŸºç¡€_æ•°æ®ç»“æ„"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¸ƒï¼‰_è®¡ç®—æœºåŸºç¡€_æ•°æ®ç»“æ„</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/44980/" title="æ ¡æ‹›ç¬”è®°ï¼ˆäºŒï¼‰_è®¡ç®—æœºåŸºç¡€_Linux&Git"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆäºŒï¼‰_è®¡ç®—æœºåŸºç¡€_Linux&Git</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/5582/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¹ï¼‰_è®¡ç®—æœºåŸºç¡€_ç›¸å…³è¡¥å……"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¹ï¼‰_è®¡ç®—æœºåŸºç¡€_ç›¸å…³è¡¥å……</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/46361/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¸‰ï¼‰_è®¡ç®—æœºåŸºç¡€_è®¡ç®—æœºç½‘ç»œ"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¸‰ï¼‰_è®¡ç®—æœºåŸºç¡€_è®¡ç®—æœºç½‘ç»œ</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/31667/" title="æ ¡æ‹›ç¬”è®°ï¼ˆå…«ï¼‰_è®¡ç®—æœºåŸºç¡€_åœºæ™¯&æ™ºåŠ›é¢˜"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆå…«ï¼‰_è®¡ç®—æœºåŸºç¡€_åœºæ™¯&æ™ºåŠ›é¢˜</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/56848/" title="æ ¡æ‹›ç¬”è®°ï¼ˆäº”ï¼‰_è®¡ç®—æœºåŸºç¡€_MySQL"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆäº”ï¼‰_è®¡ç®—æœºåŸºç¡€_MySQL</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/31215/" title="æ ¡æ‹›ç¬”è®°ï¼ˆå…­ï¼‰_è®¡ç®—æœºåŸºç¡€_Redis"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆå…­ï¼‰_è®¡ç®—æœºåŸºç¡€_Redis</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/15646/" title="æ ¡æ‹›ç¬”è®°ï¼ˆå››ï¼‰_è®¡ç®—æœºåŸºç¡€_æ“ä½œç³»ç»Ÿ"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆå››ï¼‰_è®¡ç®—æœºåŸºç¡€_æ“ä½œç³»ç»Ÿ</a></li></ul></li></ul></li></ul>
        <div id="widget-tree-button">
          <i class="gg-chevron-right"></i>
        </div>
      </div><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --></body></html>