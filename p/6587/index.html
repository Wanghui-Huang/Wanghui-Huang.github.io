<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><!-- hexo injector head_begin start --><link href="https://cdn.jsdelivr.net/npm/hexo-widget-tree@0.2.2/css/index.css" rel="stylesheet"/><!-- hexo injector head_begin end --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆå¢ï¼‰å¤åˆç±»å‹åŠè½¬æ¢ | royhuang's blog</title><meta name="author" content="Wanghui Huang"><meta name="copyright" content="Wanghui Huang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="ğŸŒŸã€ŠC++ä»é›¶å¼€å§‹ã€‹ ç³»åˆ—ï¼Œå¼€å§‹æ›´æ–°ä¸­â€¦  C++ä»é›¶å¼€å§‹https:&#x2F;&#x2F;hwh.zone&#x2F;p&#x2F;62712 å››ã€å¤åˆç±»å‹åŠè½¬æ¢ ä»€ä¹ˆæ˜¯å¤åˆç±»å‹ï¼Ÿè¿™å¬èµ·æ¥å¥½åƒæ˜¯æœ‰ç‚¹æ–°å¥‡çš„æ¦‚å¿µã€‚ ä»åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆæ¯”å¦‚intã€charï¼‰æˆ–å…¶ä»–å¤åˆæ•°æ®ç±»å‹æ„é€ å‡ºæ¥çš„æ•°æ®ç±»å‹ï¼Œå°±ç§°ä¸ºå¤åˆç±»å‹ã€‚ åœ¨å‰é¢æˆ‘ä»¬å·²ç»æ¥è§¦è¿‡æ‰€è°“çš„å¤åˆç±»å‹ï¼š   æ•°ç»„ï¼ˆstd::stringã€std::array ç­‰ï¼‰ã€æŒ‡é’ˆç±»å‹ï¼ˆå‡½æ•°æŒ‡é’ˆæˆ–è€…è¯´å‡½">
<meta property="og:type" content="article">
<meta property="og:title" content="C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆå¢ï¼‰å¤åˆç±»å‹åŠè½¬æ¢">
<meta property="og:url" content="https://hwh.zone/p/6587/index.html">
<meta property="og:site_name" content="royhuang&#39;s blog">
<meta property="og:description" content="ğŸŒŸã€ŠC++ä»é›¶å¼€å§‹ã€‹ ç³»åˆ—ï¼Œå¼€å§‹æ›´æ–°ä¸­â€¦  C++ä»é›¶å¼€å§‹https:&#x2F;&#x2F;hwh.zone&#x2F;p&#x2F;62712 å››ã€å¤åˆç±»å‹åŠè½¬æ¢ ä»€ä¹ˆæ˜¯å¤åˆç±»å‹ï¼Ÿè¿™å¬èµ·æ¥å¥½åƒæ˜¯æœ‰ç‚¹æ–°å¥‡çš„æ¦‚å¿µã€‚ ä»åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆæ¯”å¦‚intã€charï¼‰æˆ–å…¶ä»–å¤åˆæ•°æ®ç±»å‹æ„é€ å‡ºæ¥çš„æ•°æ®ç±»å‹ï¼Œå°±ç§°ä¸ºå¤åˆç±»å‹ã€‚ åœ¨å‰é¢æˆ‘ä»¬å·²ç»æ¥è§¦è¿‡æ‰€è°“çš„å¤åˆç±»å‹ï¼š   æ•°ç»„ï¼ˆstd::stringã€std::array ç­‰ï¼‰ã€æŒ‡é’ˆç±»å‹ï¼ˆå‡½æ•°æŒ‡é’ˆæˆ–è€…è¯´å‡½">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg">
<meta property="article:published_time" content="2022-01-16T13:04:18.006Z">
<meta property="article:modified_time" content="2022-02-10T04:00:32.180Z">
<meta property="article:author" content="Wanghui Huang">
<meta property="article:tag" content="C++">
<meta property="article:tag" content="æ•™ç¨‹">
<meta property="article:tag" content="C++åŸºç¡€">
<meta property="article:tag" content="ç»“æ„ä½“">
<meta property="article:tag" content="æšä¸¾">
<meta property="article:tag" content="ç±»å‹è½¬æ¢">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg"><link rel="shortcut icon" href="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/cat-modified.png"><link rel="canonical" href="https://hwh.zone/p/6587/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":"true# copy button","highlightLang":false,"highlightHeightLimit":400},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: {"limitCount":80,"languages":{"author":"ä½œè€…: Wanghui Huang","link":"é“¾æ¥: ","source":"æ¥æº: royhuang's blog","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆå¢ï¼‰å¤åˆç±»å‹åŠè½¬æ¢',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-02-10 12:00:32'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><meta name="google-site-verification" content="uO6C17u7YuZfMWvThEQ9nOGQS4GIN2zAM6hC4tH-RiM" /><meta name="baidu-site-verification" content="code-nRnoDyQJPT" /><script> var _hmt = _hmt || []; (function() { var hm = document.createElement("script"); hm.src = "https://hm.baidu.com/hm.js?13a4aefcbad9616a1f5859538d0d882e"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s); })(); </script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.min.css" media="defer" onload="this.media='all'"><script async src="https://cdn.jsdelivr.net/npm/hexo-butterfly-tag-plugins-plus@latest/lib/carousel-touch.min.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/cat.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">27</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">38</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">9</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/artitalk/"><i class="fa-fw fa-fw fa-fw fas fa-comment-dots"></i><span> è¯´è¯´</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> ç›®å½•</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> aboutME</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">royhuang's blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/artitalk/"><i class="fa-fw fa-fw fa-fw fas fa-comment-dots"></i><span> è¯´è¯´</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> ç›®å½•</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> aboutME</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆå¢ï¼‰å¤åˆç±»å‹åŠè½¬æ¢</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-01-16T13:04:18.006Z" title="å‘è¡¨äº 2022-01-16 21:04:18">2022-01-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-02-10T04:00:32.180Z" title="æ›´æ–°äº 2022-02-10 12:00:32">2022-02-10</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C/">C++</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/">ä»é›¶å¼€å§‹</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/C-%E5%9F%BA%E7%A1%80/">C++åŸºç¡€</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">11.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>41åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆå¢ï¼‰å¤åˆç±»å‹åŠè½¬æ¢"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="twikoo_visitors"></span></span></div></div></div><article class="post-content" id="article-container"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><blockquote>
<p>ğŸŒŸ<a href="https://hwh.zone/p/62712/">ã€ŠC++ä»é›¶å¼€å§‹ã€‹</a> ç³»åˆ—ï¼Œå¼€å§‹æ›´æ–°ä¸­â€¦</p>
</blockquote>
<div class="tag link"><a class="link-card" title="C++ä»é›¶å¼€å§‹" href="https://hwh.zone/p/62712"><div class="left"><img src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/cat-modified.png"/></div><div class="right"><p class="text">C++ä»é›¶å¼€å§‹</p><p class="url">https://hwh.zone/p/62712</p></div></a></div>
<h2 id="å››ã€å¤åˆç±»å‹åŠè½¬æ¢">å››ã€å¤åˆç±»å‹åŠè½¬æ¢</h2>
<p><strong>ä»€ä¹ˆæ˜¯å¤åˆç±»å‹ï¼Ÿè¿™å¬èµ·æ¥å¥½åƒæ˜¯æœ‰ç‚¹æ–°å¥‡çš„æ¦‚å¿µ</strong>ã€‚</p>
<p><u>ä»åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆæ¯”å¦‚<code>int</code>ã€<code>char</code>ï¼‰æˆ–å…¶ä»–å¤åˆæ•°æ®ç±»å‹æ„é€ å‡ºæ¥</u>çš„æ•°æ®ç±»å‹ï¼Œå°±ç§°ä¸ºå¤åˆç±»å‹ã€‚</p>
<p>åœ¨å‰é¢æˆ‘ä»¬å·²ç»æ¥è§¦è¿‡æ‰€è°“çš„å¤åˆç±»å‹ï¼š</p>
<ul>
<li>
<p>æ•°ç»„ï¼ˆ<code>std::string</code>ã€<code>std::array</code> ç­‰ï¼‰ã€æŒ‡é’ˆç±»å‹ï¼ˆå‡½æ•°æŒ‡é’ˆæˆ–è€…è¯´å‡½æ•°ï¼ŒæŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆç­‰ï¼‰ã€å¼•ç”¨ç±»å‹ã€‚</p>
</li>
<li>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œä¸‹é¢å‡½æ•°<code>func</code> ç±»å‹æ˜¯<code>void()(int, double)</code> ï¼Œå®ƒç”±åŸºæœ¬ç±»å‹ç»„æˆï¼Œä½¿å…¶æˆä¸ºå¤åˆç±»å‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">double</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>æœ¬ç« ä¸»è¦ä»‹ç»çš„å¤åˆç±»å‹æ˜¯ç»“æ„ä½“ï¼ˆæ³¨æ„ç»“æ„ä½“å¤§å°è®¡ç®—ï¼‰å’Œæšä¸¾ï¼ˆæ³¨æ„æšä¸¾ä½œç”¨èŒƒå›´é—®é¢˜ï¼‰ï¼Œä»¥åŠå„ç§ç±»å‹ä¹‹é—´çš„è½¬æ¢ï¼š</p>
<ul>
<li>ç”¨æˆ·éšå¼è½¬æ¢åŠå‘ç”Ÿçš„æƒ…å†µï¼›</li>
<li>ç”¨æˆ·å››ç§æ˜¾ç¤ºè½¬æ¢ï¼ŒåŒ…å«Cé£æ ¼å’ŒC++é£æ ¼ï¼›</li>
<li>tç‰¹åˆ«è¡¥å……ï¼Œstringç±»å‹å’Œå…¶å®ƒç±»å‹ä¹‹é—´çš„è½¬æ¢ã€‚</li>
</ul>
<h3 id="4-1-ç»“æ„ä½“">4.1 ç»“æ„ä½“</h3>
<h4 id="4-1-1-ä»Cè°ˆèµ·">4.1.1 ä»Cè°ˆèµ·</h4>
<p>åœ¨Cè¯­è¨€ä¸­å®šä¹‰ä¸€ä¸ªå…¸å‹ç»“æ„ä½“<code>struct</code>å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. å®šä¹‰</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">People</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">char</span> gender[<span class="number">5</span>];</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">&#125;; <span class="comment">// *è¿™é‡Œæœ‰ä¸ªåˆ†å·ï¼Œæ˜“é—æ¼</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 2.å£°æ˜&amp;åˆå§‹åŒ–ï¼Œç»“åˆ&#123;&#125;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">People</span> <span class="title">people</span> =</span> &#123;<span class="string">&quot;royhuang&quot;</span>,<span class="string">&quot;male&quot;</span>,<span class="number">25</span>&#125;; </span><br><span class="line">    <span class="comment">// 3.è®¿é—®ï¼ŒC/C++ä¸­ç»“æ„ä½“æˆå‘˜é»˜è®¤éƒ½æ˜¯publicå¯ä»¥ç›´æ¥è®¿é—®</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;your name: %s \n&quot;</span>,people.name); <span class="comment">// royhuang</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“æ—¶è¿˜æ˜¯æ–°æ‰‹Cç©å®¶çš„æˆ‘ï¼Œå¾ˆéš¾è¯´å‡º<code>struct</code>åˆ°åº•å¸¦æ¥ä»€ä¹ˆå¥½å¤„ã€‚åªèƒ½éšéšçº¦çº¦æ„Ÿè§‰åˆ°ï¼Œ<code>struct</code>ç»„åˆ<u>å¤šä¸ª</u>ä¸”æœ‰<u>é€»è¾‘å…³è”</u>çš„æ•°æ®<u>å¢å¼ºäº†ç¨‹åºé€»è¾‘æ€§å’Œå¯è¯»æ€§</u>ã€‚</p>
<p><strong>é‚£ä¹ˆ<code>struct</code> é™¤äº†ç»„ç»‡æœ‰é€»è¾‘å…³è”çš„æ•°æ®æé«˜ä»£ç å¯è¯»æ€§å’Œä¸€è‡´æ€§ï¼Œåœ¨å®é™…ç¼–ç ä¸­è¿˜æœ‰å…¶å®ƒåº”ç”¨å—</strong>ï¼Ÿ</p>
<p>åœ¨ç¬¬ä¸‰ç« å‡½æ•°ï¼Œæˆ‘ä»¬æåˆ°è¿‡ï¼šç»“æ„ä½“è¿˜å¯ç”¨äº<u>å‡½æ•°ä¼ é€’å¤šä¸ªå‚æ•°</u>æˆ–è€…<u>å‡½æ•°è¿”å›å¤šä¸ªå€¼</u>ã€‚</p>
<ul>
<li>
<p><strong>ä¼ é€’å¤šä¸ªå‚æ•°</strong></p>
<p>ä¼ é€’ä¸€ä¸ªç»“æ„ä½“ä½œä¸ºå‚æ•°ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printPeople</span><span class="params">(<span class="keyword">const</span> struct People&amp; people)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;your name: %s \n&quot;</span>,people.name);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;your gender: %s \n&quot;</span>,people.gender);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;your age: %d \n&quot;</span>,people.age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">People</span> <span class="title">people</span> =</span> &#123;<span class="string">&quot;royhuang&quot;</span>,<span class="string">&quot;male&quot;</span>,<span class="number">25</span>&#125;;</span><br><span class="line">    <span class="built_in">printPeople</span>(people);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ˜¾ç„¶è¿™ç›¸æ¯”ä¼ é€’å¤šä¸ªå‚æ•°è¦æ¸…çˆ½å¾ˆå¤šï¼ˆä¸”ä¸æ˜“å‡ºé”™ï¼‰ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printPeople</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* name, <span class="keyword">const</span> <span class="keyword">char</span>* gender, <span class="keyword">const</span> <span class="keyword">int</span> age)</span></span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>è¿”å›å¤šä¸ªå€¼</strong></p>
<p>å‡½æ•°åªèƒ½è¿”å›ä¸€ä¸ªå‚æ•°ï¼Œé™¤äº†ä½¿ç”¨å…ƒç»„ï¼Œç»“æ„ä½“æ˜¯ä¸äºŒçš„é€‰æ‹©ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">struct People&amp; <span class="title">cleanPeople</span><span class="params">(People&amp; people)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    people.name=<span class="string">&quot;&quot;</span>;</span><br><span class="line">    people.gender=<span class="string">&quot;&quot;</span>;</span><br><span class="line">    people.age=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> people;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="4-1-2-C-ä¸­struct">4.1.2 C++ä¸­struct</h4>
<p>C++ä¸­structå…¼å®¹äº†Cï¼Œåœ¨æ­¤åŸºç¡€ä¸Šè¿˜è¿›è¡Œäº†æ‰©å±•ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">C</th>
<th style="text-align:center">C++</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">æˆå‘˜</td>
<td style="text-align:center">åªæœ‰æ•°æ®</td>
<td style="text-align:center">æ•°æ®ï¼Œå‡½æ•°ç­‰éƒ½å¯ä»¥</td>
</tr>
<tr>
<td style="text-align:center">è®¿é—®æƒé™</td>
<td style="text-align:center">public</td>
<td style="text-align:center">é»˜è®¤publicï¼Œæœ‰private</td>
</tr>
<tr>
<td style="text-align:center">æ˜¯å¦å¯ä»¥ç»§æ‰¿</td>
<td style="text-align:center">å¦</td>
<td style="text-align:center">æ˜¯</td>
</tr>
</tbody>
</table>
<ol>
<li>
<p>åœ¨Cä¸­ç»“æ„ä½“å£°æ˜å¿…é¡»å¸¦ä¸Š<code>struct</code> å…³é”®å­—ï¼Œè€ŒC++ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">People</span> <span class="title">people1</span>;</span> <span class="comment">// C</span></span><br><span class="line">People people1; <span class="comment">// C++</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>C++ä¸­ï¼Œstructå¢åŠ äº†privateè®¿é—®æƒé™ï¼Œä¸”å¯ä»¥å’Œç±»ä¸€æ ·æœ‰æˆå‘˜å‡½æ•°ï¼Œæˆå‘˜é»˜è®¤è®¿é—®è¯´æ˜ç¬¦ä¸ºpublicï¼ˆä¸ºäº†å…¼å®¹Cï¼‰ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">People</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">char</span> gender[<span class="number">5</span>];</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">People</span>(<span class="keyword">const</span> <span class="keyword">char</span>* peole_name,<span class="keyword">const</span> <span class="keyword">char</span>* peole_gender,<span class="keyword">int</span> peole_age)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">strncpy</span>(name,peole_name,<span class="number">10</span>);</span><br><span class="line">        <span class="built_in">strncpy</span>(gender,peole_gender,<span class="number">5</span>);</span><br><span class="line">        age = peole_age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æˆå‘˜å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printPeople</span><span class="params">(<span class="keyword">const</span> People&amp; people)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        std::cout&lt;&lt;<span class="string">&quot;your name:&quot;</span> &lt;&lt;people.name&lt;&lt;std::endl;</span><br><span class="line">        std::cout&lt;&lt;<span class="string">&quot;your gender: &quot;</span>&lt;&lt;people.gender&lt;&lt;std::endl;</span><br><span class="line">        std::cout&lt;&lt;<span class="string">&quot;your age: &quot;</span>&lt;&lt;people.age&lt;&lt;std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç§æœ‰å˜é‡</span></span><br><span class="line">    <span class="keyword">private</span>: </span><br><span class="line">        <span class="keyword">char</span> girl_friend[<span class="number">10</span>];</span><br><span class="line">&#125;; <span class="comment">// åˆ†å·</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    People people = &#123;<span class="string">&quot;royhuang&quot;</span>,<span class="string">&quot;male&quot;</span>,<span class="number">25</span>&#125;;</span><br><span class="line">    people.<span class="built_in">printPeople</span>(people);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å¯ä»¥ç»§æ‰¿ï¼Œå®ç°äº†å¤šæ€ã€‚</p>
</li>
</ol>
<p>æ˜¾ç„¶ï¼ŒC++ä¸­structå’ŒclassåŒºåˆ«å·²ç»ä¸å¤§ã€‚</p>
<h4 id="4-1-3-ç»“æ„ä½“å¤§å°å’Œæ¯”è¾ƒ">4.1.3 ç»“æ„ä½“å¤§å°å’Œæ¯”è¾ƒ</h4>
<blockquote>
<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/liuweiyuxiang/article/details/85997084">c++ä¸­çš„sizeof()è¿ç®—ç¬¦</a>ã€<a target="_blank" rel="noopener" href="https://caohuilong.github.io/2019/03/12/C-%E4%B8%ADsizeof%E7%9A%84%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93/">C/C++ä¸­ sizeof çš„ç”¨æ³•æ€»ç»“</a></p>
</blockquote>
<p><strong>ä»åŸºæœ¬æ•°æ®ç±»å‹è¯´èµ·</strong>ã€‚</p>
<p>å¯¹äºshortã€intã€longç®€å•å†…ç½®æ•°æ®ç±»å‹ï¼Œå¯é‡‡ç”¨<code>sizeof</code> å…³é”®å­—è®¡ç®—å¤§å°ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i;  </span><br><span class="line"><span class="built_in"><span class="keyword">sizeof</span></span>(<span class="keyword">int</span>); <span class="comment">// å€¼ä¸º4  </span></span><br><span class="line"><span class="built_in"><span class="keyword">sizeof</span></span>(i);   <span class="comment">// å€¼ä¸º4ï¼Œç­‰ä»·äºsizeof(int)  </span></span><br><span class="line"><span class="keyword">sizeof</span> i;    <span class="comment">// å€¼ä¸º4  </span></span><br><span class="line"><span class="built_in"><span class="keyword">sizeof</span></span>(<span class="number">2</span>);   <span class="comment">// å€¼ä¸º4ï¼Œç­‰ä»·äºsizeof(int)ï¼Œå› ä¸º2çš„ç±»å‹ä¸ºint  </span></span><br><span class="line"><span class="built_in"><span class="keyword">sizeof</span></span>(<span class="number">2</span> + <span class="number">3.14</span>); <span class="comment">// å€¼ä¸º8ï¼Œç­‰ä»·äºsizeof(double)ï¼Œå› ä¸ºæ­¤è¡¨è¾¾å¼çš„ç»“æœçš„ç±»å‹ä¸ºdouble  </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> ary[<span class="built_in"><span class="keyword">sizeof</span></span>(<span class="keyword">int</span>) * <span class="number">10</span>]; <span class="comment">// OKï¼Œç¼–è¯‘æ— è¯¯</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>sizeofå’Œstrlençš„åŒºåˆ«</strong>ï¼Ÿ</p>
<ul>
<li><strong>è¿ç®—ç¬¦ä¸å‡½æ•°</strong>ï¼šsizeofæ˜¯è¿ç®—ç¬¦ï¼Œå¹¶ä¸æ˜¯å‡½æ•°ï¼Œç»“æœåœ¨ç¼–è¯‘æ—¶å¾—åˆ°è€Œéè¿è¡Œä¸­è·å¾—ï¼›strlenæ˜¯å­—ç¬¦å¤„ç†çš„åº“å‡½æ•°ã€‚</li>
<li><strong>å‚æ•°ç±»å‹</strong>ï¼šsizeofå‚æ•°å¯ä»¥æ˜¯ä»»ä½•æ•°æ®çš„ç±»å‹æˆ–è€…æ•°æ®ï¼ˆsizeofå‚æ•°ä¸é€€åŒ–ï¼‰ï¼›<u>strlençš„å‚æ•°åªèƒ½æ˜¯å­—ç¬¦æŒ‡é’ˆä¸”ç»“å°¾æ˜¯â€™\0â€™çš„å­—ç¬¦ä¸²</u>ã€‚</li>
<li><strong>å€¼ç¡®å®šæ—¶æœº</strong>ï¼šsizeofå€¼åœ¨ç¼–è¯‘æ—¶ç¡®å®šï¼Œæ‰€ä»¥ä¸èƒ½ç”¨æ¥å¾—åˆ°åŠ¨æ€åˆ†é…ï¼ˆè¿è¡Œæ—¶åˆ†é…ï¼‰å­˜å‚¨ç©ºé—´çš„å¤§å°ã€‚</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">      <span class="keyword">const</span> <span class="keyword">char</span>* str = <span class="string">&quot;name&quot;</span>;</span><br><span class="line"></span><br><span class="line">      <span class="built_in"><span class="keyword">sizeof</span></span>(str); <span class="comment">// å–çš„æ˜¯æŒ‡é’ˆstrçš„é•¿åº¦ï¼Œæ˜¯8</span></span><br><span class="line">      <span class="built_in">strlen</span>(str); <span class="comment">// å–çš„æ˜¯è¿™ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä¸åŒ…å«ç»“å°¾çš„ \0ã€‚å¤§å°æ˜¯4</span></span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ³¨æ„ï¼Œ<strong>åŸºæœ¬æ•°æ®ç±»å‹çš„å†…å­˜å¤§å°æ˜¯å’Œç³»ç»Ÿç›¸å…³çš„</strong>ï¼Œæ‰€ä»¥åœ¨ä¸åŒçš„ç³»ç»Ÿä¸‹å–å€¼å¯èƒ½ä¸åŒã€‚æ¯”å¦‚ï¼Œlong ç±»å‹ä¸æŒ‡é’ˆç±»å‹åœ¨ 32 ä½æœºå™¨ä¸Šåªå  4 å­—èŠ‚ï¼Œåœ¨ 64 ä½æœºå™¨ä¸Šå  8 å­—èŠ‚ã€‚</p>
<p>æœ¬èŠ‚å‡å‡è®¾<strong>æŒ‰4å­—èŠ‚å¯¹é½</strong>ï¼ˆintåœ¨32ä½/64ä½éƒ½å 4å­—èŠ‚ï¼‰ ã€‚</p>
<h5 id="sizeof-è®¡ç®—ç»“æ„ä½“å¤§å°">sizeof è®¡ç®—ç»“æ„ä½“å¤§å°</h5>
<p>ç»“æ„ä½“çš„sizeofä¸ºäº†æé«˜å­˜å–æ•ˆç‡ï¼Œæ¶‰åŠåˆ°å­—èŠ‚<strong>å¯¹é½</strong>é—®é¢˜ã€‚</p>
<p>å…¶å¯¹é½è§„åˆ™å¦‚ä¸‹:</p>
<ol>
<li><strong>é¡ºåºå­˜å‚¨</strong>ï¼šåˆ†é…å†…å­˜çš„é¡ºåºæ˜¯æŒ‰ç…§å£°æ˜çš„é¡ºåºè¿›è¡Œ<strong>é¡ºåºå­˜å‚¨</strong>ï¼›</li>
<li><strong>åç§»é‡</strong>ï¼šæ¯ä¸ªå˜é‡ç›¸å¯¹äºèµ·å§‹ä½ç½®çš„åç§»é‡ï¼Œå¿…é¡»æ˜¯<strong>è¯¥å˜é‡ç±»å‹å¤§å°çš„æ•´æ•°å€</strong>ï¼Œä¸æ˜¯æ•´æ•°å€ç©ºå‡ºå†…å­˜ï¼Œç›´åˆ°åç§»é‡æ˜¯æ•´æ•°å€ä¸ºæ­¢ï¼›</li>
<li><strong>æ•´ä½“å¤§å°</strong>ï¼šæœ€åæ•´ä¸ªç»“æ„ä½“çš„å¤§å°å¿…é¡»æ˜¯ï¼Œ<strong>å˜é‡ç±»å‹æœ€å¤§å€¼çš„æ•´æ•°å€</strong>ã€‚</li>
</ol>
<p>ä»¥ä¸‹å®ä¾‹è¯´æ˜ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">A</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> a;</span><br><span class="line">    <span class="keyword">double</span> b;</span><br><span class="line">    <span class="keyword">int</span> c;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   cout &lt;&lt; <span class="built_in"><span class="keyword">sizeof</span></span>(A) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºä¸ºï¼š24ï¼Œè€Œä¸æ˜¯1+8+4=13ã€‚è¿™æ˜¯å› ä¸º ï¼š</p>
<p><img src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/image-20211223175820728.png" alt="image-20211223175820728"></p>
<ol>
<li>char a çš„åç§»é‡ä¸º 0ï¼Œå ç”¨ 1Byteï¼›</li>
<li>double b æŒ‡çš„ä¸‹ä¸€ä¸ªå¯ç”¨çš„åœ°å€çš„åç§»é‡ä¸º 1ï¼Œä¸æ˜¯ sizeof(double)=8 çš„æ•´æ•°å€ï¼Œéœ€è¦è¡¥è¶³ 7Byte æ‰èƒ½æ˜¯åç§»é‡ä¸º 8ï¼›</li>
<li>int c æŒ‡çš„ä¸‹ä¸€ä¸ªå¯ç”¨çš„åœ°å€çš„åç§»é‡ä¸º 16ï¼Œæ˜¯ sizeof(int)=4 çš„æ•´æ•°å€ï¼Œæ»¡è¶³ int çš„å¯¹é½æ–¹å¼ï¼›</li>
<li>ç»“æ„ä½“å¤§å°å¿…é¡»æ˜¯æœ€å¤§æˆå‘˜å¤§å°çš„æ•´æ•°å€ï¼Œï¼ˆå³ç»“æ„ä¸­å ç”¨æœ€å¤§ç©ºé—´çš„ç±»å‹æ‰€å ç”¨çš„å­—èŠ‚æ•° sizeof(double)=8ï¼‰çš„å€æ•°ï¼Œæ‰€ä»¥æœ€åè¿˜éœ€å¡«å……4byteã€‚</li>
</ol>
<p><strong>åµŒå¥—ç»“æ„ä½“å’Œunioå…±ç”¨ä½“å¯¹é½è§„åˆ™åˆæœ‰æ‰€ä¸åŒ</strong>ã€‚</p>
<ul>
<li>
<p><strong>åµŒå¥—ç»“æ„ä½“</strong></p>
<p>å¯¹äºåµŒå¥—çš„ç»“æ„ä½“ï¼Œéœ€è¦å°†å…¶å±•å¼€ã€‚å¯¹åµŒå¥—ç»“æ„ä½“æ±‚ sizeof æ—¶ï¼Œä¸Šè¿°åŸåˆ™å˜ä¸ºï¼š</p>
<ol>
<li>å±•å¼€åçš„ç»“æ„ä½“çš„ç¬¬ä¸€ä¸ªæˆå‘˜çš„<strong>åç§»é‡</strong>åº”å½“æ˜¯è¢«å±•å¼€çš„ç»“æ„ä½“ä¸­<strong>æœ€å¤§</strong>ï¼ˆéåµŒå¥—ä¸è¦æ±‚æœ€å¤§ï¼‰çš„æˆå‘˜çš„æ•´æ•°å€ã€‚</li>
<li>ç»“æ„ä½“å¤§å°å¿…é¡»æ˜¯<strong>æœ€å¤§æˆå‘˜å¤§å°çš„æ•´æ•°å€</strong>ï¼Œè¿™é‡Œæ‰€æœ‰æˆå‘˜è®¡ç®—çš„æ˜¯å±•å¼€åçš„æˆå‘˜ï¼Œè€Œä¸æ˜¯å°†åµŒå¥—çš„ç»“æ„ä½“å½“åšä¸€ä¸ªæ•´ä½“ã€‚</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">B</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> a;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">    &#123;</span></span><br><span class="line">        <span class="keyword">char</span> b;</span><br><span class="line">        <span class="keyword">int</span> c;</span><br><span class="line">    &#125; ss;</span><br><span class="line">    <span class="keyword">short</span> d;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   cout &lt;&lt; <span class="built_in"><span class="keyword">sizeof</span></span>(B) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¯¥ä»£ç è¾“å‡ºï¼š16ã€‚åˆ†æè¿‡ç¨‹åŒå‰ï¼Œè¿™é‡Œåªç»™å‡ºå›¾ç¤ºã€‚</p>
<p><img src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/image-20211223180812242.png" alt="image-20211223180812242"></p>
</li>
<li>
<p><strong>Unioå…±ç”¨ä½“</strong></p>
<p>union ä¸­å˜é‡å…±ç”¨å†…å­˜ï¼ŒåŸåˆ™å¦‚ä¸‹ï¼š</p>
<ol>
<li>å†…å­˜å¤§å°åº”ä»¥æœ€é•¿çš„ä¸ºå‡†ï¼›</li>
<li>æ»¡è¶³ä¸Šè¿°æ¡ä»¶ä¸‹ï¼Œè¿˜åº”æ˜¯æœ€é•¿æˆå‘˜çš„æ•´æ•°å€å¤§å°ã€‚</li>
</ol>
<p>ä¾‹å¦‚ï¼Œä¸‹é¢ä¾‹å­è¾“å‡ºå…±ç”¨ä½“å¤§å°ä¸ºï¼š<strong>24</strong>ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">C</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">5</span>];  <span class="comment">// æ•°ç»„å¤§å°=æˆå‘˜*é•¿åº¦=5*4=20</span></span><br><span class="line">    <span class="keyword">char</span> b;</span><br><span class="line">    <span class="keyword">double</span> c;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// æœ€åè¾“å‡ºè¡¥è¶³4byteï¼Œæ»¡è¶³æ˜¯double(8å­—èŠ‚)æ•´æ•°å€</span></span><br><span class="line">   cout &lt;&lt; <span class="built_in"><span class="keyword">sizeof</span></span>(C) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç‰¹åˆ«çš„ï¼Œè¯·æ€è€ƒï¼š</p>
<ul>
<li><strong>å°†å…±ç”¨ä½“å†…çš„ int a[5] ä¿®æ”¹æˆ int a[6] åï¼Œç»“æœä»ç„¶ä¸å˜ï¼›ä½†å¦‚æœå°† int a[5] ä¿®æ”¹æˆ int a[7]ï¼Œç»“æœå°±å˜æˆ 32</strong>ï¼Ÿ</li>
</ul>
<p>ä½ å¯åœ¨è¯„è®ºåŒºå†™ä¸‹ä½ çš„è§è§£ã€‚</p>
</li>
</ul>
<h5 id="æ‰©å±•ï¼šsizeofè®¡ç®—ç±»å¯¹è±¡å¤§å°">æ‰©å±•ï¼šsizeofè®¡ç®—ç±»å¯¹è±¡å¤§å°</h5>
<p>å…³äºç±»å ç”¨çš„å†…å­˜ç©ºé—´ï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p>
<ol>
<li>
<p><strong>è™šå‡½æ•°</strong>ï¼šç¼–è¯‘å™¨éœ€è¦ä¸ºç±»æ„å»ºè™šå‡½æ•°è¡¨ï¼Œç±»<strong>ä¸­éœ€è¦å­˜å‚¨ä¸€ä¸ªæŒ‡é’ˆ</strong>æŒ‡å‘è¿™ä¸ªè™šå‡½æ•°è¡¨çš„é¦–åœ°å€ã€‚</p>
<p><strong>æ³¨æ„ä¸ç®¡æœ‰å‡ ä¸ªè™šå‡½æ•°ï¼Œéƒ½åªå»ºç«‹ä¸€å¼ è¡¨</strong>ï¼Œæ‰€æœ‰çš„è™šå‡½æ•°åœ°å€éƒ½å­˜åœ¨è¿™å¼ è¡¨é‡Œï¼Œç±»ä¸­åªéœ€è¦ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘è™šå‡½æ•°è¡¨é¦–åœ°å€å³å¯ã€‚</p>
</li>
<li>
<p><strong>é™æ€æˆå‘˜</strong>ï¼šè¢«ç±»æ‰€æœ‰å®ä¾‹æ‰€å…±äº«çš„ï¼Œå®ƒ<strong>ä¸è®¡å…¥</strong>sizeofè®¡ç®—çš„ç©ºé—´ã€‚</p>
</li>
<li>
<p><strong>æ™®é€šå‡½æ•°æˆ–é™æ€å‡½æ•°</strong>ï¼šéƒ½å­˜å‚¨åœ¨æ ˆä¸­ï¼Œä¸è®¡å…¥sizeofè®¡ç®—çš„ç©ºé—´ã€‚</p>
</li>
<li>
<p><strong>ç±»æˆå‘˜</strong>ï¼šé‡‡ç”¨å­—èŠ‚å¯¹é½çš„æ–¹å¼åˆ†é…ç©ºé—´ï¼›</p>
</li>
</ol>
<p>ä»¥ä¸‹ä¸ºå®ä¾‹è¯´æ˜ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="comment">// è™šå‡½æ•°ï¼šéœ€è¦ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘è™šå‡½æ•°è¡¨</span></span><br><span class="line">        <span class="comment">// 32ä½ç³»ç»ŸæŒ‡é’ˆå¤§å°ä¸º 4Byteï¼Œ64ä½ç³»ç»ŸæŒ‡é’ˆå¤§å°ä¸º 8Byte</span></span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">funa</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">funb</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="comment">// æ™®é€šå‡½æ•°æˆ–é™æ€å‡½æ•°æˆ–é™æ€æˆå‘˜ï¼šä¸è®¡å…¥</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fund</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">int</span> si; </span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="comment">// charå 1å­—èŠ‚</span></span><br><span class="line">        <span class="keyword">char</span> c;</span><br><span class="line">        <span class="comment">// inté¦–å…ˆè¦åç§»3å­—èŠ‚ï¼Œæ˜¯sizeof(int)æ•´æ•°å€</span></span><br><span class="line">        <span class="comment">// intæœ¬èº«å 4å­—èŠ‚</span></span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="comment">// æœ€åæ€»å¤§å°ä¸ºï¼šæŒ‡é’ˆå¤§å°+1+3+4 = 12 OR 16</span></span><br><span class="line">   cout &lt;&lt; <span class="built_in"><span class="keyword">sizeof</span></span>(D) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šè¾“å‡ºä¸ºï¼š12ï¼ˆ32ä½ç³»ç»Ÿï¼‰æˆ–è€…16ï¼ˆ64ä½ç³»ç»Ÿï¼‰ã€‚å…·ä½“å ç”¨è¯·æŸ¥çœ‹ä»£ç ä¸­æ³¨é‡Šã€‚</p>
<p><strong>ç±»æˆå‘˜å¯¹é½æ–¹å¼å’Œç»“æ„ä½“æœ‰æ‰€ä¸åŒ</strong>ï¼Œæœªå°½ç»†èŠ‚å°†åœ¨æœªæ¥è¡¥å……ã€‚</p>
<h5 id="ç©ºç±»-ç»“æ„ä½“å¤§å°">ç©ºç±»/ç»“æ„ä½“å¤§å°</h5>
<blockquote>
<p>æ€è€ƒæºè‡ªäºï¼š<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/266041176">ç©ºç±»çš„å¤§å°ä¸ºä»€ä¹ˆæ˜¯1ï¼Ÿ</a></p>
</blockquote>
<p>ç»è¿‡å®è·µï¼Œæ— è®ºæ˜¯ç©ºç±»è¿˜æ˜¯ç©ºç»“æ„ä½“ï¼Œå…¶å¤§å°<strong>å‡ä¸º1è€Œä¸æ˜¯0</strong>ã€‚</p>
<p>çœ‹äº†ä¸€ä¸‹æ¯”è¾ƒä¿¡æœçš„è§£ç­”æ˜¯ï¼š</p>
<ul>
<li>
<p>å¦‚æœé•¿åº¦æ˜¯0ï¼Œé‚£ä¹ˆæŠŠä»–å¡ç»™ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡é’ˆæŒ‡åˆ°å“ªé‡Œå‘¢ï¼Ÿä¸è€ƒè™‘æŒ‡é’ˆï¼Œè¿™ä¸ªç±»è‡ªå·±å­˜åœ¨å“ªé‡Œå‘¢ï¼Ÿå¦‚æœæˆ‘ä¸€ä¸‹å­ç”³æ˜100ä¸‡ä¸ªå®ä¾‹ï¼Œéƒ½ä¸å ç”¨å†…å­˜å—ï¼Ÿ</p>
</li>
<li>
<p>c++ ä¸­è§„å®š<strong>ä¸åŒçš„å¯¹è±¡å¿…é¡»æ‹¥æœ‰ä¸åŒçš„åœ°å€</strong>ï¼Œå¦‚æœä¸º0ä¼šå¯¼è‡´ä¸¤ä¸ªç©ºç±»çš„åœ°å€ä¸€æ ·ã€‚</p>
<blockquote>
<p>ä½†æ˜¯ä¸ºå•¥ç©ºç±»ä¸€å®šè¦æœ‰ä¸åŒçš„åœ°å€æ¥å»åŒºåˆ†ä¸åŒçš„å¯¹è±¡ï¼Ÿ</p>
</blockquote>
</li>
</ul>
<h5 id="ç»“æ„ä½“æ¯”è¾ƒ">ç»“æ„ä½“æ¯”è¾ƒ</h5>
<p>C++ç»“æ„ä½“ç›´æ¥è¿›è¡Œæ¯”è¾ƒä¼šå‡ºé”™ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">A</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> a;</span><br><span class="line">    <span class="keyword">float</span> b;</span><br><span class="line">    <span class="keyword">char</span>* c;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    A a&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">4</span>]&#123;<span class="string">&#x27;h&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,<span class="string">&#x27;h&#x27;</span>&#125;&#125;;</span><br><span class="line">    A b&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">4</span>]&#123;<span class="string">&#x27;h&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,<span class="string">&#x27;h&#x27;</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(a==b)</span><br><span class="line">        std::cout&lt;&lt;<span class="string">&quot;equal&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        std::cout&lt;&lt;<span class="string">&quot;not equal&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@roy-cpp test]# g++ -std=c++11 test.cpp -o test.out</span><br><span class="line">test.cpp: In function â€˜int main()â€™:</span><br><span class="line">test.cpp:21:9: error: no match for â€˜operator==â€™ (operand types are â€˜Aâ€™ and â€˜Aâ€™)</span><br><span class="line">     if(a==b)</span><br></pre></td></tr></table></figure>
<p>æœ‰ä¸¤ç§åŠæ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>
<p>ç»“æ„ä½“ <code>a</code> å’Œ <code>b</code> æ¯ä¸ªå…ƒç´ é€ä¸ªæ¯”è¾ƒï¼ŒæŒ‡é’ˆæ¯”è¾ƒå®ƒä»¬çš„åœ°å€ã€‚</p>
</li>
<li>
<p>è‡ªå·±é‡è½½æ“ä½œç¬¦<code>==</code> ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">A</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> a;</span><br><span class="line">    <span class="keyword">float</span> b;</span><br><span class="line">    <span class="keyword">char</span>* c;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>== (<span class="keyword">const</span> A&amp; other) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">bool</span> a_is_equal = (a==other.a);</span><br><span class="line">        <span class="keyword">bool</span> b_is_equal = (b==other.b);</span><br><span class="line">        <span class="keyword">bool</span> c_is_equal = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span> ; i&lt;<span class="number">3</span> ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(c[i] != other.c[i])</span><br><span class="line">            &#123;</span><br><span class="line">                c_is_equal =<span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a_is_equal &amp;&amp; b_is_equal &amp;&amp; c_is_equal;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    A a&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">4</span>]&#123;<span class="string">&#x27;h&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,<span class="string">&#x27;h&#x27;</span>&#125;&#125;;</span><br><span class="line">    A b&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">4</span>]&#123;<span class="string">&#x27;h&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,<span class="string">&#x27;h&#x27;</span>&#125;&#125;;</span><br><span class="line">    <span class="keyword">if</span>(a==b)</span><br><span class="line">        std::cout&lt;&lt;<span class="string">&quot;equal&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        std::cout&lt;&lt;<span class="string">&quot;not equal&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@roy-cpp test]# ./test.out </span><br><span class="line">equal</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="4-1-4-æ‰©å±•é˜…è¯»ï¼šä¸ºä»€ä¹ˆC-è¿˜ä¿ç•™structï¼Ÿ">4.1.4 æ‰©å±•é˜…è¯»ï¼šä¸ºä»€ä¹ˆC++è¿˜ä¿ç•™structï¼Ÿ</h4>
<p>åœ¨C++ä¸­ï¼Œé™¤äº†é»˜è®¤è®¿é—®æ§åˆ¶ç¬¦ã€æ¨¡æ¿å‚æ•°ï¼Œstructå’ŒclassåŸºæœ¬å®Œå…¨ä¸€è‡´ï¼Œstructå­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Œå…¨ç”¨classä¸å¥½å—ï¼Ÿ</p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">struct</th>
<th style="text-align:center">class</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ç»§æ‰¿é»˜è®¤æƒé™</td>
<td style="text-align:center">structé»˜è®¤æ˜¯public</td>
<td style="text-align:center">classé»˜è®¤æ˜¯private</td>
</tr>
<tr>
<td style="text-align:center">æ¨¡æ¿å‚æ•°</td>
<td style="text-align:center">ä¸å¯ä»¥</td>
<td style="text-align:center">å¯ä»¥</td>
</tr>
</tbody>
</table>
<p>è¿™é‡Œé¢çš„åŸå› ä¸»è¦æ˜¯ï¼š</p>
<ol>
<li><strong>å†å²åŒ…è¢±</strong>ã€‚ç»™ C è¯­è¨€ç¨‹åºå¼€å‘äººå‘˜æœ‰ä¸€ä¸ªå½’å±æ„Ÿï¼›</li>
<li><strong>å…¼å®¹</strong> ã€‚è®© C++ ç¼–è¯‘å™¨å…¼å®¹ä»¥å‰ç”¨ C è¯­è¨€å¼€å‘å‡ºæ¥çš„é¡¹ç›®ï¼Œæ¯”å¦‚ç³»ç»Ÿåº“<code>stdlib.h</code> ç­‰ã€‚</li>
</ol>
<h3 id="4-2-æšä¸¾">4.2 æšä¸¾</h3>
<h4 id="4-2-1-æšä¸¾åˆè¯†">4.2.1 æšä¸¾åˆè¯†</h4>
<p>å’Œç»“æ„ä½“ç±»ä¼¼ï¼Œæšä¸¾ä¹Ÿæ˜¯ç»„ç»‡äº†<u>æœ‰é€»è¾‘å…³ç³»çš„æ•°æ®</u>ï¼Œä¸è¿‡æšä¸¾ï¼š</p>
<ul>
<li>æ•°æ®åªèƒ½æ˜¯åŒç±»å‹ï¼ˆæˆ‘ä»¬å®šä¹‰çš„æšä¸¾ç±»å‹ï¼‰ï¼›</li>
<li>ç›¸æ¯”struct/classï¼Œæšä¸¾enumæ›´åƒæ˜¯ä¸€ç§å¼±ç»„ç»‡ç±»å‹ï¼Œå¦‚æœä½ æœ‰ä¸€ç»„ç›¸å…³çš„å¸¸é‡æœ€å¥½ä½¿ç”¨æšä¸¾ã€‚</li>
</ul>
<p>ä¸¾ä¸ªä¾‹å­å§ï¼Œç”¨æšä¸¾ç»„åˆä¸‰å…ƒè‰²ï¼ˆå¸¸é‡ï¼‰ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Color</span>  // æœ€ä½³å®è·µï¼šé¦–å­—æ¯å¤§å†™</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    red,</span><br><span class="line">    blue,</span><br><span class="line">    green,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Color paint = red;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç›¸æ¯”ç”¨0ã€1ã€2åˆ†åˆ«å®šä¹‰ä¸‰å…ƒè‰²ï¼Œä»£ç å¯è¯»æ€§æé«˜äº†å¾ˆå¤šã€‚</p>
<h5 id="æšä¸¾æ˜¯æ•´æ•°ç¬¦å·å¸¸é‡">æšä¸¾æ˜¯æ•´æ•°ç¬¦å·å¸¸é‡</h5>
<p><strong>æšä¸¾åˆ°åº•ä»€ä¹ˆ</strong>ï¼Ÿ</p>
<p>å¥½å§ï¼Œæ ‡é¢˜å·²ç»å‡ºå–äº†ç­”æ¡ˆï¼š<strong>æšä¸¾å…¶å®å°±æ˜¯æ•´æ•°ç¬¦å·å¸¸é‡ï¼ˆé»˜è®¤æ˜¯int</strong>ï¼‰ã€‚</p>
<p>å’Œ<code>char</code> æƒ…å†µæœ‰ç‚¹ç±»ä¼¼ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c = <span class="string">&#x27;A&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>char å®é™…ä¸Šå­˜å‚¨çš„æ˜¯ä¸€ä¸ª 1 å­—èŠ‚çš„æ•´æ•°å€¼ï¼Œå³å­—ç¬¦<code>'A'</code>è¢«è½¬æ¢ä¸ºæ•´æ•°å€¼ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸º<code>65</code>ï¼‰å¹¶å­˜å‚¨ã€‚</p>
<p>åªä¸è¿‡æ‰“å°<code>cout</code>ç±»å¯¹<code>&lt;&lt;</code>è¿›è¡Œäº†é‡è½½ï¼Œç›´æ¥æ‰“å°<code>c</code> å‡ºæ¥çš„æ˜¯<code>'A'</code>ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">std::cout&lt;&lt;c;  <span class="comment">// A</span></span><br></pre></td></tr></table></figure>
<p>å›åˆ°æšä¸¾<code>enum</code> ï¼š</p>
<ul>
<li>æšä¸¾ä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªæ•´æ•°å€¼ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç¬¬ä¸€ä¸ªæšä¸¾å™¨è¢«åˆ†é…æ•´æ•°å€¼<code>0</code>ï¼Œæ¯ä¸ªåç»­æšä¸¾å™¨çš„å€¼éƒ½æ¯”å‰ä¸€ä¸ª<code>+1</code>ï¼›</li>
<li>æˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æšä¸¾å€¼ã€‚</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    cat = <span class="number">-3</span>,</span><br><span class="line">    dog,         <span class="comment">// -2</span></span><br><span class="line">    pig,         <span class="comment">// -1</span></span><br><span class="line">    horse = <span class="number">5</span>,</span><br><span class="line">    giraffe,     <span class="comment">// 6</span></span><br><span class="line">    chicken      <span class="comment">// 7</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Animal animal = dog;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;ä½ çš„å® ç‰©æ˜¯ï¼š&quot;</span> &lt;&lt; animal;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä½ çš„å® ç‰©æ˜¯ï¼š-2</span><br></pre></td></tr></table></figure>
<p><strong>å¥½å§ä½ çš„å® ç‰©æ˜¯<code>-2</code>ï¼Œç¼–è¯‘å™¨éšå¼å°†æšä¸¾è½¬æ¢ä¸ºäº†æ•´æ•°ï¼ˆå¹¶æ²¡æœ‰åƒcharä¸€æ ·æ‰“å°å­—ç¬¦ï¼Œstd::coutæ²¡æœ‰å¯¹æšä¸¾ç±»å‹Animalè¿›è¡Œé‡è½½</strong>ï¼‰ã€‚</p>
<p>ä¸è¿‡ï¼Œç¼–è¯‘å™¨ä¸ä¼šå°†æ•´æ•°éšå¼è½¬æ¢ä¸ºæšä¸¾æ•°ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Animal animal = <span class="number">-2</span>;  <span class="comment">// error</span></span><br></pre></td></tr></table></figure>
<p>éœ€è¦æ˜¾å¼è½¬æ¢ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Animal animal = <span class="keyword">static_cast</span>&lt;Animal&gt;(<span class="number">-2</span>);</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢æˆ‘ä»¬éªŒè¯äº†enumçš„ä¸»è¦ç”¨æ³•å’Œç‰¹æ€§ï¼Œä½†å¯ä»¥æ›´å®Œç¾ä¸€ç‚¹ä¼˜é›…æ‰“å°æšä¸¾æ•°å—ï¼Œå°±åƒcharä¸€æ ·ï¼Ÿ</p>
<h5 id="ä¼˜é›…æ‰“å°æšä¸¾æ•°">ä¼˜é›…æ‰“å°æšä¸¾æ•°</h5>
<p>æ€ä¹ˆä¼˜é›…æ‰“å°æšä¸¾æ•°ï¼Ÿ</p>
<p>C++ä¸­å¹¶æ²¡æœ‰æä¾›ç›¸å…³å‡½æ•°ã€‚è¿™åªæœ‰æˆ‘ä»¬è‡ªå·±æ¥å®ç°ï¼Œ<code>if-else</code>æˆ–<code>switch</code> é€ä¸ªåˆ¤æ–­æ˜¯æœ€å®¹æ˜“æƒ³åˆ°çš„ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">const</span> std::string <span class="title">printAnimal</span><span class="params">(Animal animal)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in"><span class="keyword">switch</span></span> (animal)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> cat:   <span class="keyword">return</span> <span class="string">&quot;cat&quot;</span>;</span><br><span class="line">        <span class="keyword">case</span> dog:   <span class="keyword">return</span> <span class="string">&quot;dog&quot;</span>;</span><br><span class="line">        <span class="keyword">case</span> pig:   <span class="keyword">return</span> <span class="string">&quot;pig&quot;</span>;</span><br><span class="line">        <span class="comment">// çœç•¥å…¶å®ƒçš„åˆ¤æ–­</span></span><br><span class="line">        <span class="keyword">default</span>:    <span class="keyword">return</span> <span class="string">&quot;???&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½†è¿™éœ€è¦æ˜¾å¼è°ƒç”¨<code>printAnimal</code> æ–¹æ³•ï¼Œçœ‹èµ·æ¥æœ‰ç‚¹ç¬¨æ‹™ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Animal animal = dog;</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;ä½ çš„å® ç‰©æ˜¯ï¼š&quot;</span> &lt;&lt; <span class="built_in">printAnimal</span>(animal);</span><br></pre></td></tr></table></figure>
<p><strong>ç›´æ¥é‡è½½<code>std::cout</code> ç±»è¿ç®—ç¬¦<code>&lt;&lt;</code>æ˜¯æ›´å¥½çš„åšæ³•</strong>ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">std::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(std::ostream&amp; out, Animal animal)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in"><span class="keyword">switch</span></span> (animal)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> cat:   <span class="keyword">return</span> <span class="string">&quot;cat&quot;</span>;</span><br><span class="line">        <span class="keyword">case</span> dog:   <span class="keyword">return</span> <span class="string">&quot;dog&quot;</span>;</span><br><span class="line">        <span class="keyword">case</span> pig:   <span class="keyword">return</span> <span class="string">&quot;pig&quot;</span>;</span><br><span class="line">        <span class="comment">// çœç•¥å…¶å®ƒçš„åˆ¤æ–­</span></span><br><span class="line">        <span class="keyword">default</span>:    <span class="keyword">return</span> <span class="string">&quot;???&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å°å­—ç¬¦ä¸²çœ‹èµ·æ¥èªæ˜äº†å¾ˆå¤šï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Animal animal = dog;</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;ä½ çš„å® ç‰©æ˜¯ï¼š&quot;</span> &lt;&lt; animal;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä½ çš„å® ç‰©æ˜¯ï¼šdog</span><br></pre></td></tr></table></figure>
<h5 id="è®¤è¯†æšä¸¾ä½œç”¨åŸŸ">è®¤è¯†æšä¸¾ä½œç”¨åŸŸ</h5>
<p><strong>æšä¸¾å†…éƒ¨æ•°æ®å’Œæšä¸¾å…·æœ‰åŒæ ·çš„ä½œç”¨èŒƒå›´ï¼Œä¹Ÿå°±æ˜¯æšä¸¾å¯¹å†…éƒ¨æ•°æ®ä½œç”¨èŒƒå›´æ— é™åˆ¶</strong>ã€‚</p>
<p>å›åˆ°æœ€å¼€å§‹çš„ä¾‹å­ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Color</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    red,</span><br><span class="line">    green,</span><br><span class="line">    blue, </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// ç›´æ¥å°±ä½¿ç”¨äº†red</span></span><br><span class="line">    <span class="comment">// ä¹Ÿå¯ä»¥é€šè¿‡å‰ç¼€Color::red</span></span><br><span class="line">    Color paint = red;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>red</code> å’Œ <code>enum Color</code> ä½œç”¨åŸŸæ˜¯ä¸€è‡´çš„ï¼Œéƒ½æ˜¯å…¨å±€ç±»å‹ã€‚</p>
<p>è¿™ç§è®¾ç½®ï¼Œè°ƒç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯<strong>åœ¨ä¸¤ä¸ªä¸åŒæšä¸¾ç±»å®šä¹‰ç›¸åŒçš„æ•°æ®ï¼Œä¼šä½¿å¾—å‘½ä»¤ç©ºé—´æ±¡æŸ“ï¼Œå¯¼è‡´ç¼–è¯‘é”™è¯¯</strong>ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Color</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    red,</span><br><span class="line">    green,</span><br><span class="line">    blue, <span class="comment">// blue è¡¨ç¤ºé¢œè‰²</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Feeling</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    happy,</span><br><span class="line">    tired,</span><br><span class="line">    blue, <span class="comment">// blueè¡¨ç¤ºå¿ƒæƒ…</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ å†å°è¯•è°ƒç”¨ï¼Œç¼–è¯‘æ— æ³•é€šè¿‡ï¼Œä¸¤ä¸ª<code>blue</code> å†²çªï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Color paint = blue; <span class="comment">//  error: redeclaration of â€˜blueâ€™</span></span><br></pre></td></tr></table></figure>
<p>è™½ç„¶å¯ä»¥é€šè¿‡æ˜¾å¼æŒ‡å®šå‰ç¼€é¿å…é”™è¯¯ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Color paint = Color::blue; </span><br></pre></td></tr></table></figure>
<p>ä½†ç»ˆå½’æ˜¯åŸ‹ä¸‹äº†éšæ‚£ã€‚</p>
<p><strong>æ›´å¥½çš„åšæ³•æ˜¯ä½¿ç”¨å‘½åç©ºé—´<code>namespace</code> é™å®šèŒƒå›´ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥åœ¨ä¸åŒæšä¸¾ç±»å®šä¹‰ç›¸åŒçš„æ•°æ®</strong>ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> color</span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Color</span></span></span><br><span class="line"><span class="class">    &#123;</span></span><br><span class="line">        red,</span><br><span class="line">        green,</span><br><span class="line">        blue,</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> feeling</span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Feeling</span></span></span><br><span class="line"><span class="class">    &#123;</span></span><br><span class="line">        happy,</span><br><span class="line">        tired,</span><br><span class="line">        blue, </span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// ç°åœ¨å¿…é¡»åŠ ä¸Šä½œç”¨åŸŸåŒºåŸŸçš„åç§°</span></span><br><span class="line">    color::Color paint  =  color::blue ;</span><br><span class="line">    feeling::Feeling me = feeling::blue ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="æœ€ä½³å®è·µ">æœ€ä½³å®è·µ</h5>
<p>ä½¿ç”¨æšä¸¾è¯·æ˜¾å¼æŒ‡æ˜æšä¸¾ç±»å‹ï¼Œæ¯”å¦‚<code>color::blue</code> è€Œéç›´æ¥ä½¿ç”¨<code>blue</code>ã€‚</p>
<h4 id="4-2-2-èŒƒå›´æšä¸¾">4.2.2 èŒƒå›´æšä¸¾</h4>
<h5 id="ä¸ºä»€ä¹ˆéœ€è¦èŒƒå›´æšä¸¾ï¼Ÿ">ä¸ºä»€ä¹ˆéœ€è¦èŒƒå›´æšä¸¾ï¼Ÿ</h5>
<p>éèŒƒå›´æšä¸¾çœ‹èµ·æ¥å¾ˆå¥½ï¼Œä½†ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ï¼š</p>
<ul>
<li><strong>éšå¼è½¬æ¢çš„å±å®³</strong>ã€‚éèŒƒå›´æšä¸¾ä¼šéšå¼åœ°å°†æšä¸¾ç±»å‹è½¬æ¢ä¸ºæ•´æ•°ç±»å‹ï¼Œè¿™æœ‰æ—¶å€™ä¼šé€ æˆä¸€äº›æ„æ–™ä¹‹å¤–çš„é”™è¯¯ï¼ˆæ¯”å¦‚ä¸åŒæšä¸¾ç±»å‹è¿›è¡Œæ¯”è¾ƒï¼Œä¸‹ä¸¾ä¾‹è¯´æ˜ï¼‰ï¼›</li>
<li><strong>éå¼ºåˆ¶è¦æ±‚å‰ç¼€</strong>ã€‚è¿™æ˜¾ç„¶å’Œæˆ‘ä»¬åˆšåˆšæåˆ°çš„æšä¸¾æœ€ä½³å®è·µä¸ç¬¦ã€‚</li>
</ul>
<p><strong>èŒƒå›´æšä¸¾</strong>çš„ç‰¹æ€§å¾ˆå¥½åœ°è§£å†³äº†ä¸Šè¿°é—®é¢˜ï¼š</p>
<ul>
<li>èŒƒå›´æšä¸¾æ˜¯<strong>å¼ºç±»å‹çš„</strong>ï¼ˆä¸ä¼šéšå¼è½¬æ¢ä¸ºæ•´æ•°ï¼‰å’Œ<strong>å¼ºä½œç”¨åŸŸçš„</strong>ï¼ˆå¿…é¡»æŒ‡å®šå‰ç¼€ï¼‰ï¼›</li>
<li>å…¶ä½™å’ŒéèŒƒå›´æšä¸¾æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚</li>
</ul>
<h5 id="èŒƒå›´æšä¸¾åˆè¯†">èŒƒå›´æšä¸¾åˆè¯†</h5>
<p>èŒƒå›´æšä¸¾é€šè¿‡<code>enum class</code> å£°æ˜ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="keyword">class</span> <span class="title">Color</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">     red, </span><br><span class="line">     blue,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="keyword">class</span> <span class="title">Fruit</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    banana, </span><br><span class="line">    apple,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å…ˆè®¤è¯†ä¸‹èŒƒå›´æšä¸¾çš„<u>å¼ºä½œç”¨åŸŸ</u>ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Color c = red;  <span class="comment">// errorï¼Œidentifier &quot;red&quot; is undefined</span></span><br></pre></td></tr></table></figure>
<p>å¿…é¡»æ˜¾å¼æŒ‡å®šä½œç”¨èŒƒå›´ï¼Œå¥‘åˆäº†æœ€ä½³å®è·µï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Color c = Color::red; <span class="comment">// ok</span></span><br></pre></td></tr></table></figure>
<p>å†æ¥è®¤è¯†èŒƒå›´æšä¸¾çš„<u>å¼ºç±»å‹</u>ï¼ˆä¸ä¼šéšå¼è½¬æ¢ï¼‰ã€‚</p>
<ol>
<li>
<p>æ— æ³•ç›´æ¥æ‰“å°</p>
<p>å› ä¸ºèŒƒå›´æšä¸¾ä¸ä¼šéšå¼è½¬æ¢ä¸º<code>int</code> ï¼Œ<code>std::cout</code> æ— æ³•ç›´æ¥æ‰“å°ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">std::cout &lt;&lt; Fruit::banana;</span><br></pre></td></tr></table></figure>
<p>é™¤éä½ æ˜¾å¼è¿›è¡Œè½¬æ¢ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">std::cout &lt;&lt; <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(Fruit::banana);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ä¸èƒ½ç›´æ¥æ¯”è¾ƒä¸¤ä¸ªä¸åŒæšä¸¾ç±»å‹</p>
<p>ä¸‹é¢ä»£ç ç¼–è¯‘èƒ½é€šè¿‡å—ï¼Ÿ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Color color = Color::red ; </span><br><span class="line">    Fruit fruit = Fruit::banana ; </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (color == fruit) </span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;colorå’Œfruitç›¸ç­‰\n&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;colorå’Œfruitä¸ç›¸ç­‰\n&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ˜¯æ— èŒƒå›´æšä¸¾ä¸Šè¿°ä»£ç ä¸ä¼šç¼–è¯‘å‡ºé”™ï¼Œç”šè‡³ä¼šæ‰“å°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">colorå’Œfruitç›¸ç­‰</span><br></pre></td></tr></table></figure>
<p>å› ä¸º<code>red</code>å’Œ<code>banana</code> éƒ½è¢«éšå¼è½¬æ¢ä¸º<code>int</code>ç±»å‹ï¼Œå€¼éƒ½ä¸º<code>0</code> ã€‚</p>
<p>ä½†å¦‚æœæ˜¯èŒƒå›´æšä¸¾ï¼Œä¸Šè¿°ä»£ç ä¼šç›´æ¥æŠ¥é”™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compile error: the compiler doesn&#x27;t know how to compare different types Color and Fruit</span><br></pre></td></tr></table></figure>
<p>èŒƒå›´æšä¸¾ä¸ä¼šè½¬æ¢ä»»ä½•å¯ä»¥ä¸å¦ä¸€ç§ç±»å‹è¿›è¡Œæ¯”è¾ƒçš„ç±»å‹ã€‚</p>
<p>ä¸è¿‡ï¼Œ<strong>æ¯”è¾ƒåŒä¸€ç±»å‹æ˜¯okçš„</strong>ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (Color::red == Color::blue) <span class="comment">// ok </span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="æœ€ä½³å®è·µ-2">æœ€ä½³å®è·µ</h5>
<p>è¯·å°½é‡ä½¿ç”¨èŒƒå›´æšä¸¾ï¼Œå®ƒæ›´å®‰å…¨ã€‚</p>
<p>è™½ç„¶åœ¨å®é™…ç¼–ç æˆ‘ä»¬è¿˜æ˜¯å¯èƒ½ä¼šä½¿ç”¨éèŒƒå›´æšä¸¾ï¼Œå› ä¸ºéèŒƒå›´æšä¸¾éšå¼è½¬æ¢å¯é¿å…å¤§é‡æ‰‹åŠ¨<code>static_casting</code> ã€‚ä½†æ˜¯ï¼Œåªæ˜¯å¶å°”çš„éœ€è¦<code>static_casting</code> ä¾¿ä¸èƒ½æ„æˆæ‹’æ¥èŒƒå›´æšä¸¾çš„ç†ç”±ã€‚</p>
<h3 id="4-X-ç±»å‹è½¬æ¢ğŸŒŸ">4.X ç±»å‹è½¬æ¢ğŸŒŸ</h3>
<p><strong>ä»€ä¹ˆæ˜¯ç±»å‹è½¬æ¢</strong>ï¼Ÿ</p>
<p>å°†å€¼ä»ä¸€ç§æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§æ•°æ®ç±»å‹çš„è¿‡ç¨‹ï¼Œç§°ä¸ºç±»å‹è½¬æ¢ã€‚</p>
<p><strong>C++çš„ç±»å‹æœ‰å‡ ç§</strong>ï¼Ÿ</p>
<p>C++çš„ç±»å‹è½¬æ¢åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§ä¸ºéšå¼è½¬æ¢ï¼Œå¦ä¸€ç§ä¸ºæ˜¾å¼è½¬æ¢ï¼š</p>
<ul>
<li><strong>éšå¼è½¬æ¢</strong>ï¼šç¼–è¯‘å™¨<u>è‡ªåŠ¨</u>è¿›è¡Œçš„ç±»å‹è½¬æ¢ï¼Œå°±æ˜¯éšå¼è½¬æ¢ï¼›</li>
<li><strong>æ˜¾å¼è½¬æ¢</strong>ï¼šç¨‹åºå‘˜<u>æ˜¾å¼</u>ä½¿ç”¨<code>_cast</code> ç±»å‹è½¬æ¢ç¬¦è¿›è¡Œç±»å‹è½¬æ¢ï¼Œå°±æ˜¯æ˜¾å¼è½¬æ¢ã€‚</li>
</ul>
<p><strong>C++ ä¸­çš„ç»å¤§å¤šæ•°ç±»å‹è½¬æ¢éƒ½æ˜¯éšå¼ç±»å‹è½¬æ¢</strong>ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å…ˆæ¥æ¥è§¦éšå¼ç±»å‹è½¬æ¢å§ã€‚</p>
<h4 id="4-X-1-éšå¼è½¬æ¢">4.X.1 éšå¼è½¬æ¢</h4>
<p>éšå¼è½¬æ¢å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œ<u>æ ‡å‡†è½¬æ¢</u>å’Œ<u>ç”¨æˆ·è‡ªå®šä¹‰è½¬æ¢</u>ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒä»¬æ˜¯ä»€ä¹ˆã€‚</p>
<h5 id="æ ‡å‡†è½¬æ¢">æ ‡å‡†è½¬æ¢</h5>
<p>æ ‡å‡†è½¬æ¢å°±æ˜¯ç¼–è¯‘å™¨é‡Œå†…ç½®çš„ä¸€äº›ç±»å‹è½¬æ¢è§„åˆ™ï¼š</p>
<ul>
<li>æ•°å€¼æå‡</li>
<li>æ•°å€¼è½¬æ¢</li>
<li>ç®—æœ¯è½¬æ¢</li>
<li>æ•°ç»„é€€åŒ–æˆæŒ‡é’ˆã€å‡½æ•°è½¬æ¢æˆå‡½æ•°æŒ‡é’ˆ</li>
<li>æ•°æ®ç±»å‹æŒ‡é’ˆåˆ°voidæŒ‡é’ˆçš„è½¬æ¢ã€nullptr_tåˆ°æ•°æ®ç±»å‹æŒ‡é’ˆçš„è½¬æ¢</li>
<li>ç‰¹å®šè¯­å¢ƒä¸‹è¦æ±‚çš„è½¬æ¢ï¼Œæ¯”å¦‚ifé‡Œè¦æ±‚boolç±»å‹çš„å€¼ã€æšä¸¾ç±»å‹è½¬æ¢ä¸ºæ•´å‹</li>
<li>â€¦</li>
</ul>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™äº›è½¬æ¢åŸºæœ¬é’ˆå¯¹<u>åŸºæœ¬æ•°æ®ç±»å‹</u>ã€<u>æŒ‡é’ˆ</u>ã€æˆ–<u>æ•°ç»„</u>è¿™ç§å†…ç½®çš„èšåˆç±»å‹çš„ã€‚</p>
<p>å…ˆä»ç¬¬ä¸€ä¸ªæ•°å€¼æå‡è¯´èµ·å§ã€‚</p>
<ul>
<li>
<p><strong>æ•°å€¼æå‡</strong></p>
<p><strong>æ•°å€¼æå‡æ˜¯ä»€ä¹ˆ</strong>ï¼Ÿ</p>
<p>é¡¾åæ€ä¹‰ï¼Œæ•°å€¼æå‡å°±æ˜¯å°†æ›´å°çš„æ•°æ®ç±»å‹ï¼ˆæ¯”å¦‚<code>char</code>ï¼‰ è½¬æ¢ä¸ºæ›´å¤§çš„æ•°æ®ç±»å‹ï¼ˆé€šå¸¸æ˜¯<code>int</code>æˆ–è€…<code>double</code>ï¼‰ã€‚æ˜¾ç„¶è¿™ç§æå‡æ˜¯<u>å®‰å…¨</u>çš„ï¼Œå®ƒä¸ä¼šä¸¢å¤±ç²¾åº¦ã€‚</p>
<p>æ•°å€¼æå‡ä¹Ÿåˆ†ä¸ºä¸¤ä¸ªå­ç±»åˆ«ï¼šæµ®ç‚¹æå‡å’Œæ•´æ•°æå‡ã€‚</p>
<ul>
<li>
<p><strong>æµ®ç‚¹æå‡</strong></p>
<p>æµ®ç‚¹æå‡è§„åˆ™å¾ˆç®€å•ï¼Œå°±æ˜¯<code>float</code> å¯ä»¥éšå¼æå‡ä¸º<code>double</code> ã€‚ä¸€ä¸ªä¾‹å­å°±èƒ½æ˜ç™½ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printDouble</span><span class="params">(<span class="keyword">double</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printDouble</span>(<span class="number">4.0f</span>); <span class="comment">// 4.0fæ˜¯floatè¢«éšå¼æå‡double</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>æ•´å‹æå‡</strong></p>
</li>
</ul>
<blockquote>
<p><code>char</code>ã€<code>bool</code>ã€<code>short</code> ã€<code>int</code>ã€<code>long</code> éƒ½æ˜¯æ•´å‹ã€‚</p>
</blockquote>
<p>æ•´å‹æå‡è¯´ç™½äº†ï¼Œå°±æ˜¯æ¯”<code>int</code> å°çš„æ•°æ®ç±»å‹ï¼Œå°½é‡å¾€<code>int</code> æˆ– <code>unsigned int</code>ä¸Šé ã€‚å®ƒçš„è§„åˆ™å¤§è‡´æ€»ç»“å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ— ç¬¦å·æˆ–è€…æœ‰ç¬¦å·charã€short ä¼˜å…ˆéšå¼è½¬æ¢ä¸ºintï¼Œå¦‚æœintä¸å¤Ÿå®¹çº³ï¼Œåˆ™è½¬æ¢ä¸º unsigned intï¼›</li>
<li>boolä¹Ÿè½¬æ¢ä¸ºintï¼Œfalseå˜æˆ0ï¼Œtrueå˜æˆ1ã€‚</li>
</ol>
<p>ä¸¾ä¸€ä¸ªå°ä¾‹å­ã€‚</p>
  <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printInt</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">short</span> s =  <span class="number">3</span> ;  <span class="comment">// short</span></span><br><span class="line">    <span class="built_in">printInt</span>(s);    </span><br><span class="line">    <span class="built_in">printInt</span>(<span class="string">&#x27;a&#x27;</span>);  <span class="comment">// char</span></span><br><span class="line">    <span class="built_in">printInt</span>(<span class="literal">true</span>); <span class="comment">// bool</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ•°å€¼ä¹‹é—´çš„è½¬æ¢å°±ç»“æŸäº†</strong>ï¼Ÿ</p>
<p>çœ‹åˆ°è¿™å„¿æˆ–è®¸ä½ ä¼šè¯´ä½œè€…æ˜¯ä¸æ˜¯é—æ¼äº†ï¼Œ<code>intâ†’float</code> ä¹‹ç±»çš„æ•´å‹æå‡ä»‹ç»å‘¢ï¼Ÿ</p>
<p>å…¶å®ï¼Œ<code>intâ†’float</code> ã€è¿˜æœ‰å®½ç±»å‹â†’çª„ç±»å‹çš„è½¬æ¢éƒ½è¢«å½’ç±»ä¸º<u>æ•°å€¼è½¬æ¢</u>ã€‚å½“ç„¶è¿™åªæ˜¯å­¦æœ¯ä¸Šçš„åŒºåˆ«ï¼Œä½ ä¸å¿…å¤ªè¿‡çº ç»“è¿™ç‚¹ã€‚</p>
</li>
<li>
<p><strong>æ•°å€¼è½¬æ¢</strong></p>
<p><strong>ä»€ä¹ˆæ˜¯æ•°å€¼è½¬æ¢</strong>ï¼Ÿ</p>
<p>æ•°å€¼æå‡æœªæåˆ°çš„è½¬æ¢ï¼Œéƒ½æ˜¯æ•°å€¼è½¬æ¢ã€‚</p>
<p>å›ç­”è¿™ä¹ˆæ•·è¡ï¼Ÿå¥½å§ï¼Œæˆ‘å…·ä½“ä¸€ç‚¹ã€‚</p>
<p>æ•°å€¼è½¬æ¢å¯åˆ†ä¸ºä»¥ä¸‹äº”ç§è§„åˆ™ï¼š</p>
<ol>
<li>
<p>æ•´å‹å¯è½¬æ¢ä¸ºä»»ä½•å…¶å®ƒæ•´å‹ï¼ˆä¸åŒ…æ‹¬æ•´å‹æå‡ï¼‰</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">short</span> s = <span class="number">3</span>; </span><br><span class="line">  <span class="keyword">long</span> l = <span class="number">3</span>; </span><br><span class="line">  <span class="keyword">char</span> ch = s; </span><br></pre></td></tr></table></figure>
</li>
<li>
<p>æµ®ç‚¹ç±»å‹è½¬æ¢ä¸ºä»»ä½•å…¶ä»–æµ®ç‚¹ç±»å‹ï¼ˆä¸åŒ…æ‹¬æµ®ç‚¹æå‡ï¼‰</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> f = <span class="number">3.0</span>; </span><br><span class="line">  <span class="keyword">long</span> <span class="keyword">double</span> ld = <span class="number">3.0</span>;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>æ•´æ•°ç±»å‹è½¬æ¢ä¸ºä»»ä½•æµ®ç‚¹ç±»å‹</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> d = <span class="number">3</span>;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å°†æµ®ç‚¹ç±»å‹è½¬æ¢ä¸ºä»»ä½•æ•´æ•°ç±»å‹</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">3.5</span>;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å°†æ•´æ•°ç±»å‹æˆ–æµ®ç‚¹ç±»å‹è½¬æ¢ä¸º bool</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> b1 = <span class="number">3.0</span>;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>å¯ä»¥çœ‹åˆ°ï¼š<strong><u>æ•°å€¼è½¬æ¢</u>å’Œ<u>æ•°å€¼æå‡</u>çš„è§„åˆ™ç»¼åˆèµ·æ¥å°±æ˜¯ä¸€å¥è¯ï¼šC++ä¸­åŸºæœ¬ä»»æ„æ•´å‹ä¹‹é—´éƒ½å¯ä»¥è¿›è¡Œéšå¼è½¬æ¢</strong>ã€‚</p>
<p><strong>ä½†æ•°å€¼è½¬æ¢ä¼šå¸¦æ¥ä¸€äº›å±é™©</strong>ã€‚</p>
<p>ç”±äºæ•°å€¼è½¬æ¢å¯ä»¥å°†ï¼šå®½ç±»å‹â†’çª„ç±»å‹ã€æµ®ç‚¹ç±»å‹â†’æ•´æ•°ç±»å‹ï¼Œè¿™ä¼šå¯¼è‡´ç²¾åº¦ä¸¢å¤±ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æµ®ç‚¹ç±»å‹â†’æ•´æ•°ç±»å‹</span></span><br><span class="line">  <span class="keyword">float</span> a = <span class="number">1.5</span>;</span><br><span class="line">  <span class="keyword">int</span> b = a ;  <span class="comment">// a = 1.0 , å°æ•°éƒ¨åˆ†ä¸¢å¤±</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// å®½ç±»å‹â†’çª„ç±»å‹</span></span><br><span class="line">  <span class="keyword">int</span> a = <span class="number">1000000</span>;</span><br><span class="line">  <span class="keyword">char</span> d = a; <span class="comment">// d = 64ï¼ˆ&#x27;@&#x27;ï¼‰ , aè¢«æˆªæ–­</span></span><br></pre></td></tr></table></figure>
<p>å¦ä¸€ç‚¹æ¯”è¾ƒéšè”½ï¼Œ<u>éšå¼è½¬æ¢æ€»æ˜¯è½¬æ¢ä¸ºå³å€¼</u>ï¼ˆæ˜¾å¼è½¬æ¢ä¹Ÿæ˜¯ï¼‰ã€‚</p>
<p>å¬èµ·æ¥å¥½åƒæ²¡ä»€ä¹ˆæ¯›ç—…ï¼Œä½†æ˜¯å’Œå¼•ç”¨ç»“åˆèµ·æ¥å°±åäº‹äº†ï¼Œæˆ‘ä»¬çŸ¥é“å¼•ç”¨åªèƒ½ç”¨å·¦å€¼åˆå§‹åŒ–ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">long</span> &amp;b = a; <span class="comment">// errorï¼Œæ— æ³•ä½¿ç”¨å³å€¼åˆå§‹åŒ–å¼•ç”¨</span></span><br><span class="line">  <span class="keyword">long</span> &amp;b = <span class="keyword">static_cast</span>&lt;<span class="keyword">long</span>&gt;(a); <span class="comment">// error,æ˜¾å¼è½¬æ¢ä¹Ÿæ˜¯å³å€¼</span></span><br></pre></td></tr></table></figure>
<p>è§£å†³åŠæ³•ä¹Ÿå¾ˆç®€å•ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.å’Œå¼•ç”¨ç±»å‹ä¿æŒä¸€è‡´</span></span><br><span class="line">  <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">long</span> tmp = a;</span><br><span class="line">  <span class="keyword">long</span> &amp;b = tmp; </span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 2.ä½¿ç”¨constä¿®é¥°ï¼Œè¿™æ ·å¯ä»¥æ¥å—å³å€¼åˆå§‹åŒ–</span></span><br><span class="line">  <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">const</span> <span class="keyword">long</span> &amp;b = a; </span><br></pre></td></tr></table></figure>
<p>æ‰©å±•åˆ°å‡½æ•°ä¹Ÿæ˜¯ä¸€æ ·ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">const</span> <span class="keyword">long</span>&amp; value)</span></span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="built_in">func</span>(a);</span><br></pre></td></tr></table></figure>
<p><strong>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šæ•™ç¨‹è¯´å°½é‡ç”¨constä¿®é¥°å¼•ç”¨ï¼šè¿™æ ·å¯ä»¥ä½¿å¾—å‡½æ•°å‚æ•°å¯ä»¥éšæ»¡è¶³å¼è½¬æ¢è§„åˆ™</strong>ã€‚</p>
</li>
<li>
<p><strong>ç®—æœ¯è½¬æ¢</strong></p>
<p>ç®—æœ¯è½¬æ¢å°±æ˜¯å½“æ“ä½œæ•°ä¸æ˜¯åŒä¸€ç±»å‹æ—¶ï¼Œä¼šéšå¼è½¬æ¢ä¸ºåŒä¸€ç±»å‹è¿›è¡Œå†è¿›è¡Œæ“ä½œã€‚</p>
<p>ç®—æœ¯è½¬æ¢ä¼˜å…ˆçº§åˆ—è¡¨ï¼š</p>
<ul>
<li>long double  &gt; double &gt; float &gt; unsigned long long &gt; long long &gt; long &gt; unsigned int &gt; int</li>
</ul>
<p>æ³¨æ„åˆ°æœ€ä½ä¼˜å…ˆçº§æ˜¯intã€‚</p>
<p>ç®—æœ¯è½¬æ¢åªæœ‰ä¸¤æ¡è§„åˆ™ï¼š</p>
<ul>
<li>å¦‚æœè‡³å°‘æœ‰ä¸€ä¸ªæ“ä½œæ•°çš„ç±»å‹åœ¨ä¼˜å…ˆçº§åˆ—è¡¨ä¸­ï¼Œåˆ™å°†å…·æœ‰è¾ƒä½ä¼˜å…ˆçº§çš„æ“ä½œæ•°è½¬æ¢ä¸ºå…·æœ‰è¾ƒé«˜ä¼˜å…ˆçº§çš„æ“ä½œæ•°çš„ç±»å‹ï¼›</li>
<li>å¦åˆ™ï¼ˆä¸¤ä¸ªæ“ä½œæ•°çš„ç±»å‹éƒ½ä¸åœ¨åˆ—è¡¨ä¸­ï¼‰ï¼Œä¸¤ä¸ªæ“ä½œæ•°éƒ½è¿›è¡Œç±»å‹æå‡ã€‚</li>
</ul>
<p>ä¸€ä¸ªç®€å•ä¾‹å­ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">double</span> d = <span class="number">3.5</span>;</span><br><span class="line"><span class="built_in"><span class="keyword">typeid</span></span>(i + d).<span class="built_in">name</span>(); <span class="comment">// æœ€ç»ˆç±»å‹ä¸ºdï¼Œdoubleä¼˜å…ˆçº§æ›´é«˜ï¼Œæ‰€ä»¥iæå‡ä¸ºdouble </span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>æŒ‡é’ˆç›¸å…³è½¬æ¢</strong></p>
<p>è¿™äº›æˆ‘ä»¬ä¹‹å‰å…¶å®éƒ½åŸºæœ¬è§è¿‡ï¼š</p>
<ul>
<li>æ•°ç»„é€€åŒ–æˆæŒ‡é’ˆã€å‡½æ•°è½¬æ¢æˆå‡½æ•°æŒ‡é’ˆ</li>
<li>æ•°æ®ç±»å‹æŒ‡é’ˆåˆ°voidæŒ‡é’ˆçš„è½¬æ¢ã€nullptr_tåˆ°æ•°æ®ç±»å‹æŒ‡é’ˆçš„è½¬æ¢</li>
<li>â€¦</li>
</ul>
<p>ä¸¾ä¸ªå°ä¾‹å­åŠ æ·±ä¸‹å°è±¡å°±å¥½ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>* i = <span class="keyword">new</span> <span class="built_in"><span class="keyword">int</span></span>();</span><br><span class="line"><span class="keyword">void</span>* ptr = i;  <span class="comment">// æ‰€ä»¥ä¹‹å‰è¯´voidç±»å‹æ¥å—ä»»ä½•ç±»å‹çš„æŒ‡é’ˆ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span>* pc = <span class="number">0</span>;   <span class="comment">// int è½¬æ¢ä¸º Null æŒ‡é’ˆå†è½¬æ¢ä¸ºchar*æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">char</span>* pc = <span class="literal">nullptr</span>;        <span class="comment">// nullptrè½¬æ¢ä¸ºchar*æŒ‡é’ˆ</span></span><br><span class="line">dog* pd = <span class="keyword">new</span> <span class="built_in">yellowdog</span>(); <span class="comment">// æŒ‡é’ˆç±»å‹è½¬æ¢ï¼Œå­ç±» yellowdog æŒ‡é’ˆè½¬æ¢ä¸ºçˆ¶ç±» dog æŒ‡é’ˆ</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>ç‰¹æ®Šè¯­å¢ƒä¸‹è½¬æ¢</strong></p>
<p>ä»¥ifä¸ºä¾‹ï¼Œifæ¥å—boolç±»å‹ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="number">3</span>)  <span class="comment">// 3è½¬æ¢ä¸ºboolç±»å‹ï¼Œè¿™é‡Œæ˜¯true(é0å€¼éƒ½è½¬æ¢ä¸ºtrue)</span></span><br><span class="line">&#123;</span><br><span class="line">	std::cout&lt;&lt;<span class="string">&quot;fine&quot;</span>&lt;&lt;std::endl; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>boolä¹Ÿæ˜¯æ•´å‹ï¼Œå…¶å®ä¹Ÿå°±æ˜¯å‰é¢è¯´åˆ«çš„ï¼ŒC++ä¸­æ•´å‹å‡ ä¹éƒ½å¯ä»¥è¿›è¡Œéšå¼è½¬æ¢ã€‚</p>
</li>
</ul>
<h5 id="åˆ«è¸©å‘ï¼šcharå’Œintçš„è½¬æ¢ï¼Ÿ">åˆ«è¸©å‘ï¼šcharå’Œintçš„è½¬æ¢ï¼Ÿ</h5>
<p>å‰é¢æˆ‘ä»¬è¯´åˆ°ï¼Œcharå’Œintå¯ä»¥éšå¼è½¬æ¢ã€‚ä½†è¿™å¯èƒ½ä¼šå¸¦æ¥ä¸€äº›æ„å¤–çš„é”™è¯¯ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line"><span class="keyword">int</span> a = c;   <span class="comment">// a=49</span></span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶æ˜¯å°†<code>c</code> çš„ASCIIç <code>49</code>ï¼ˆæ•°å­—çš„ASCIIç ä»<code>48</code>å¼€å§‹ï¼Œå³<code>'0'</code>å¼€å§‹ï¼‰ èµ‹å€¼ç»™å˜é‡<code>a</code>ã€‚</p>
<p>å¦‚æœéœ€è¦è·å–<code>c</code>å­˜å‚¨å€¼<code>'1'</code>ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a1 = c<span class="number">-48</span>;  <span class="comment">// æ–¹æ³•1</span></span><br><span class="line"><span class="keyword">int</span> a2 = c-<span class="string">&#x27;0&#x27;</span>; <span class="comment">// æ–¹æ³•2</span></span><br></pre></td></tr></table></figure>
<h5 id="ç”¨æˆ·è‡ªå®šä¹‰è½¬æ¢ğŸŒŸ">ç”¨æˆ·è‡ªå®šä¹‰è½¬æ¢ğŸŒŸ</h5>
<blockquote>
<p>è¿™éƒ¨åˆ†å†…å®¹æœ‰ç‚¹è¶…å‰ï¼Œé€‚åˆæœ‰ä¸€å®šé¢å¯¹å¯¹è±¡åŸºç¡€çš„åŒå­¦ã€‚</p>
</blockquote>
<p><strong>æ€ä¹ˆè¿›è¡Œç”¨æˆ·å®šä¹‰è½¬æ¢</strong>ï¼Ÿ</p>
<p>ç”¨æˆ·è‡ªå®šä¹‰çš„éšå¼è½¬æ¢æ˜¯éšå¼è½¬æ¢çš„é‡å¤´æˆï¼Œä¸€èˆ¬æŒ‡ä¸¤æ–¹é¢å†…å®¹:</p>
<ol>
<li>
<p><strong>è½¬æ¢æ„é€ å‡½æ•°</strong>ï¼Œåˆ©ç”¨æ¥å—<u>å•ä¸ªå‚æ•°</u> æˆ– <u>ç¬¬ä¸€ä¸ªå‚æ•°å…¶ä½™å‚æ•°éƒ½æä¾›äº†é»˜è®¤å€¼</u> çš„æ„é€ å‡½æ•°ï¼Œå°†<u>å…¶ä»–ç±»å‹å¯¹è±¡â†’è½¬æ¢ä¸ºæœ¬å¯¹è±¡</u>ã€‚</p>
<blockquote>
<p>C++ ä¼šå°†ä»»ä½•æ„é€ å‡½æ•°è§†ä¸ºéšå¼è½¬æ¢è¿ç®—ç¬¦ã€‚</p>
</blockquote>
</li>
<li>
<p><strong>ç±»å‹è½¬æ¢é‡è½½</strong>ï¼Œ <u>é‡è½½æŒ‡å®šç±»å‹</u>ï¼Œå°†<u>æœ¬ç±»çš„å¯¹è±¡â†’è½¬æ¢ä¸ºæŒ‡å®šç±»å‹å¯¹è±¡</u>ã€‚</p>
</li>
</ol>
<p>ä¸¤è€…åˆèµ·æ¥å¯ä»¥æ„æˆä¸€ä¸ªåŒå‘è½¬æ¢å…³ç³»ï¼Œä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">dog</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="comment">// 1.è½¬æ¢æ„é€ å‡½æ•°</span></span><br><span class="line">        <span class="built_in">dog</span>(string name) &#123;m_name = name;&#125; </span><br><span class="line">        <span class="comment">// 2.ç±»å‹è½¬æ¢é‡è½½</span></span><br><span class="line">        <span class="function"><span class="keyword">operator</span> <span class="title">string</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> m_name;&#125; </span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        string m_name;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">s2dog</span><span class="params">(cosnt dog&amp;)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// nothing;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">      string dogname = <span class="string">&quot;dog&quot;</span>;</span><br><span class="line">      <span class="comment">// 1.è½¬æ¢æ„é€ å‡½æ•°</span></span><br><span class="line">      dog d = dogname; <span class="comment">// ok</span></span><br><span class="line">      <span class="built_in">s2dog</span>(<span class="string">&quot;dog&quot;</span>);    <span class="comment">// ok</span></span><br><span class="line">      <span class="comment">// 2.ç±»å‹è½¬æ¢</span></span><br><span class="line">      std::cout &lt;&lt; <span class="string">&quot;my name is &quot;</span> &lt;&lt; <span class="built_in">string</span>(d) &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">my name is dog</span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸€ç§éšå¼è½¬æ¢æ–¹å¼çœ‹èµ·æ¥æœ‰ç‚¹è®©äººè´¹è§£ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dog d = dogname;</span><br></pre></td></tr></table></figure>
<p>å®ƒä¹Ÿæ²¡æœ‰é‡è½½ <code>=</code> ï¼Œæ€ä¹ˆå°±<code>string</code>â†’<code>dog</code>è½¬æ¢äº†ï¼Ÿ</p>
<p>è¿™æ˜¯å› ä¸º<code>dog(string name) &#123;m_name = name;&#125;</code> æœ‰ä¸¤å±‚å«ä¹‰ï¼Œé™¤äº†æ„é€ å‡½æ•°å¤–ï¼Œå®ƒè¿˜å¯ä»¥ä½œä¸ºéšå¼è½¬æ¢å‡½æ•°ï¼Œå°† <code>string</code> å¯¹è±¡è½¬æ¢ä¸º <code>dog</code> å¯¹è±¡ã€‚</p>
<p>å…·ä½“è¿‡ç¨‹è¿˜æ¶‰åŠåˆ°å¤åˆ¶åˆå§‹åŒ–ï¼ˆ<u>5.2.2</u>èŠ‚è¯¦è§£ï¼‰ï¼š</p>
<ol>
<li>è¡¨è¾¾å¼ä»å³åˆ°å·¦ï¼Œæ„é€ å‡½æ•°<code>dog(string)</code>ä½œä¸ºè½¬æ¢æ„é€ å‡½æ•° ï¼Œç¼–è¯‘å™¨å…ˆåˆ›å»º<code>dog</code>ä¸´æ—¶åŒ¿åå¯¹è±¡ï¼Œä½¿å¾—<code>=</code>ä¸¤è¾¹æ“ä½œç±»å‹ä¸€è‡´ï¼›</li>
<li>ç„¶åæ„é€ å‡½æ•°<code>dog(string)</code> ï¼Œåˆå§‹åŒ–åŒ¿åå¯¹è±¡ï¼›</li>
<li>ç¼–è¯‘å™¨åˆ›å»ºå¯¹è±¡<code>d</code> ï¼›</li>
<li>è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°ï¼ŒåŒ¿åå¯¹è±¡ä½œä¸ºå¤åˆ¶æ„é€ å‡½æ•°å‚æ•°ï¼Œåˆå§‹åŒ–å¯¹è±¡<code>d</code> ã€‚</li>
</ol>
<p><strong>ç”¨æˆ·è‡ªå®šä¹‰è½¬æ¢æœ‰ä»€ä¹ˆå±é™©</strong>ï¼Ÿ</p>
<p>éšå¼è½¬æ¢æ€»æ˜¯æˆ–å¤šæˆ–å°‘æœ‰ç‚¹å±é™©ï¼Œç”¨æˆ·è‡ªå®šä¹‰éšå¼è½¬æ¢ä¹Ÿä¸ä¾‹å¤–ã€‚</p>
<ul>
<li>æ¯”å¦‚ï¼Œæˆ‘ä»¬åªæ˜¯æƒ³å£°æ˜ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œä½†æ˜¯ä¼šè‡ªåŠ¨è¢«è¯†åˆ«ä¸ºè½¬æ¢æ„é€ å‡½æ•°â€”â€”å°†<code>string</code> â†’<code>dog</code>ä¹Ÿè®¸å¹¶ä¸æ˜¯æˆ‘ä»¬çš„æœ¬æ„ ã€‚</li>
<li>é€šå¸¸ç¼–ç éœ€é¿å…åŒå‘éšå¼è½¬æ¢ï¼Œæˆ‘ä»¬å¼€å¤´çš„ä¾‹å­æ˜¯ä¸å¥½çš„ç¼–ç¨‹å®è·µã€‚</li>
</ul>
<p>å¦‚æœä¸æƒ³æ„é€ å‡½æ•°è¿›è¡Œéšå¼è½¬æ¢ï¼Œå¯ä»¥ç”¨ <code> explicit</code> è¿›è¡Œå£°æ˜ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">explicit</span> <span class="title">dog</span><span class="params">(string)</span> </span>&#123;m_name = name;&#125;</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶è¿›è¡Œéšå¼è½¬æ¢ä¼šå‡ºé”™ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">string dogname = <span class="string">&quot;dog&quot;</span>;  <span class="comment">// error</span></span><br></pre></td></tr></table></figure>
<p>åªèƒ½è¿›è¡Œæ˜¾ç¤ºè½¬æ¢ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">string dogname = <span class="keyword">static_cast</span>&lt;dog&gt;(<span class="string">&quot;dog&quot;</span>);</span><br></pre></td></tr></table></figure>
<p><strong>ç”¨æˆ·è‡ªå®šä¹‰è½¬æ¢æœ‰ä»€ä¹ˆå¥½å¤„</strong>ï¼Ÿ</p>
<p>éšå¼è½¬æ¢å¹¶ä¸æ˜¯ä¸€æ— æ˜¯å¤„ï¼Œå®ƒä»ç„¶æœ‰å­˜åœ¨çš„æ„ä¹‰ã€‚</p>
<p>ä¸‹é¢å£°æ˜ä¸€ä¸ª<code>Rational</code> æœ‰ç†æ•°ç±»ï¼Œå¤„ç†æ•°å­—ç±»å‹ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rational</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>: </span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">	<span class="keyword">int</span> den;</span><br><span class="line">    <span class="comment">// 1.æ„é€ å‡½æ•°éšå¼è½¬æ¢</span></span><br><span class="line">	<span class="built_in">Rational</span>(<span class="keyword">int</span> numerator = <span class="number">0</span>, <span class="keyword">int</span> denominator = <span class="number">1</span>)</span><br><span class="line">		: <span class="built_in">num</span>(numberator), <span class="built_in">den</span>(denominator) &#123;&#125;</span><br><span class="line">    <span class="comment">// 2.é‡è½½è¿ç®—ç¬¦*</span></span><br><span class="line">    Rational <span class="keyword">operator</span>*(<span class="keyword">const</span> Rational&amp; lhs, <span class="keyword">const</span> Rational&amp; rhs) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Rational</span>(lhs.num*rhs.num, lhs.den*rhs.den);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Rational r1 = <span class="number">23</span>;</span><br><span class="line">    Rational r2 = r1 * <span class="number">2</span>;</span><br><span class="line">    Rational r3 = <span class="number">3</span> * r1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¸Šé¢ä»£ç å®šä¹‰äº†ä¸€ä¸ªæœ‰ç†æ•°ç±» <code>Rational</code>ï¼Œå®ƒçš„æ„é€ å‡½æ•°æ¥å— 2 ä¸ªé»˜è®¤å‚æ•°ï¼Œåˆ†åˆ«ä»£è¡¨åˆ†å­å’Œåˆ†æ¯ï¼Œç»™è¯¥æ„é€ å‡½æ•°ä¼ é€’ä¸€ä¸ªå‚æ•°æ—¶ï¼Œ<code>Rational</code> å…·æœ‰éšå¼è½¬æ¢çš„ç‰¹æ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥å°†æ•°å­—èµ‹å€¼ç»™ <code>Rational</code> å¯¹è±¡ï¼Œå¦‚ï¼š<code>Rational r1 = 23;</code> ã€‚</li>
<li>ä¸ºäº†é¿å…åŒå‘è½¬æ¢ï¼Œè¿™é‡Œå¹¶æ²¡æœ‰å®šä¹‰å°† <code>Rational</code> è½¬æ¢ä¸º <code>int</code> çš„è½¬æ¢å‡½æ•°ï¼Œè€Œå½“æˆ‘ä»¬æƒ³å®ç° <code>Rational</code> å¯¹è±¡å’Œ <code>int</code> ä¹‹é—´è‡ªç”±çš„ç®—æœ¯è¿ç®—æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰å…¨å±€çš„æ“ä½œç¬¦é‡è½½ï¼Œå¦‚ä¸Šé¢çš„ <code>operator*</code> å®šä¹‰äº†æœ‰ç†æ•°çš„ä¹˜æ³•äº‘ç®—ç¬¦ã€‚</li>
</ul>
<h5 id="æœ€ä½³å®è·µ-3">æœ€ä½³å®è·µ</h5>
<p>ç±»å‹è½¬æ¢æ˜¯å±é™©çš„æ“ä½œï¼Œä½¿ç”¨æ›´é•¿çš„æ“ä½œç¬¦ï¼ˆåæ–‡å°†æåˆ°çš„æ˜¾å¼è½¬æ¢ï¼‰æé†’åŒäº‹å’Œå°†æ¥çš„è‡ªå·±æ³¨æ„å®‰å…¨ã€‚</p>
<h4 id="4-X-2-æ˜¾å¼è½¬æ¢">4.X.2 æ˜¾å¼è½¬æ¢</h4>
<p>æ˜¾å¼è½¬æ¢ä¸»è¦æœ‰ä¸¤ä¸ªä½œç”¨ï¼š</p>
<ol>
<li>å®ŒæˆC++éšå¼è½¬æ¢æ— æ³•å®Œæˆçš„å·¥ä½œï¼Œæ¯”å¦‚èŒƒå›´æšä¸¾ä¸­å°†<code>eunm</code> ç±»å‹â†’<code>int</code> ï¼›</li>
<li>å°½å¯èƒ½çš„æ›¿ä»£éšå¼è½¬æ¢ï¼Œåœ¨ç¨‹åºæ˜¾å¼çš„å£°æ˜è¿™æ˜¯ä¸ªè½¬æ¢æ“ä½œâ€”â€”è¿™å¾ˆä¸“ä¸šã€‚</li>
</ol>
<p>C++/Cæ€»æ˜¯éš¾ä»¥åˆ†å¼€çš„ï¼Œå…ˆä»Cä¸­æ˜¾å¼è½¬æ¢è¯´èµ·å§ã€‚</p>
<h5 id="Cé£æ ¼æ˜¾å¼è½¬æ¢">Cé£æ ¼æ˜¾å¼è½¬æ¢</h5>
<p>åœ¨æ ‡å‡† C ç¼–ç¨‹ä¸­ï¼Œè½¬æ¢æ˜¯é€šè¿‡ <code>()</code> è¿ç®—ç¬¦å®Œæˆçš„ï¼Œç±»å‹çš„åç§°è¦è½¬æ¢çš„å€¼æ”¾åœ¨æ‹¬å·å†…ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> x = <span class="number">1.5</span>;</span><br><span class="line"><span class="keyword">int</span> y = (<span class="keyword">double</span>)x;</span><br></pre></td></tr></table></figure>
<p>Cé£æ ¼çš„è½¬æ¢æ ¼å¼çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œä½†å…¶å®æœ‰ä¸å°‘ç¼ºç‚¹ï¼š</p>
<ol>
<li><u>è½¬æ¢å¤ªè¿‡éšæ„ï¼Œå¯ä»¥åœ¨ä»»æ„ç±»å‹ä¹‹é—´è½¬æ¢</u>ã€‚å¯ä»¥æŠŠä¸€ä¸ªæŒ‡å‘constå¯¹è±¡çš„æŒ‡é’ˆè½¬æ¢æˆæŒ‡å‘éconstå¯¹è±¡çš„æŒ‡é’ˆï¼ŒæŠŠä¸€ä¸ªæŒ‡å‘åŸºç±»å¯¹è±¡çš„æŒ‡é’ˆè½¬æ¢æˆä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡çš„æŒ‡é’ˆã€‚è¿™äº›è½¬æ¢ä¹‹é—´çš„å·®è·æ˜¯éå¸¸å·¨å¤§çš„ï¼Œä½†æ˜¯ä¼ ç»Ÿçš„Cè¯­è¨€é£æ ¼çš„ç±»å‹è½¬æ¢æ²¡æœ‰åŒºåˆ†è¿™äº›ã€‚</li>
<li><u>Cé£æ ¼çš„è½¬æ¢æ²¡æœ‰ç»Ÿä¸€çš„å…³é”®å­—å’Œæ ‡ç¤ºç¬¦</u>ã€‚å¯¹äºå¤§å‹ç³»ç»Ÿï¼Œåšä»£ç æ’æŸ¥æ—¶å®¹æ˜“é—æ¼å’Œå¿½ç•¥ã€‚</li>
</ol>
<p>ä¸ºæ­¤ï¼ŒC++ å¼•å…¥äº†<code>_cast</code>å¼ºåˆ¶è½¬æ¢è¿ç®—ç¬¦ã€‚</p>
<h5 id="C-æ˜¾å¼è½¬æ¢">C++æ˜¾å¼è½¬æ¢</h5>
<p>C++è½¬æ¢é£æ ¼å®Œç¾çš„è§£å†³äº†Cé£æ ¼ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>å¯¹ç±»å‹è½¬æ¢åšäº†ç»†åˆ†ï¼Œæä¾›äº†å››ç§ä¸åŒç±»å‹è½¬æ¢ï¼Œä»¥æ”¯æŒä¸åŒéœ€æ±‚çš„è½¬æ¢ï¼›</li>
<li>ç±»å‹è½¬æ¢æœ‰äº†ç»Ÿä¸€çš„æ ‡ç¤ºç¬¦ï¼Œåˆ©äºä»£ç æ’æŸ¥å’Œå®¡æŸ¥ã€‚</li>
</ol>
<p>å››ç§ä¸åŒç±»å‹çš„è½¬æ¢åˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>
<p><code>static_cast</code>ï¼Œå‘½åä¸Šç†è§£æ˜¯é™æ€ç±»å‹è½¬æ¢ï¼Œå¦‚intè½¬æ¢â†’charï¼Œè½¬æ¢å¤±è´¥ä¸è¿”å›NULLã€‚</p>
</li>
<li>
<p><code>dynamic_cast</code>ï¼Œå‘½åä¸Šç†è§£æ˜¯åŠ¨æ€ç±»å‹è½¬æ¢ï¼Œå¦‚å­ç±»å’Œçˆ¶ç±»ä¹‹é—´çš„å¤šæ€ç±»å‹è½¬æ¢ï¼Œè½¬æ¢å¤±è´¥è¿”å›<u>NULL</u>ã€‚</p>
<blockquote>
<p>âš ï¸ æ‰€ä»¥ä¸Šè¡Œè½¬æ¢ï¼ˆå­ç±»â†’çˆ¶ç±»ï¼‰è¿™ç§å®‰å…¨è½¬æ¢ç”¨static_castæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ä¸‹è¡Œè½¬æ¢ï¼ˆçˆ¶ç±»â†’å­ç±»ï¼‰è¿™ç§ä¸å®‰å…¨çš„è½¬æ¢ä½¿ç”¨dynamic_castï¼Œå¤±è´¥ä¼šè¿”å›NULLï¼Œä¼šè¿è¡Œæ—¶æ£€æŸ¥ã€‚</p>
</blockquote>
</li>
<li>
<p><code>const_cast</code>ï¼Œå»é™¤constå±æ€§ï¼Œå¦‚å¸¸é‡æŒ‡é’ˆ/å¼•ç”¨è½¬æ¢â†’éå¸¸é‡æŒ‡é’ˆ/å¼•ç”¨ã€‚</p>
</li>
<li>
<p><code>reinterpret_cast</code>ï¼Œä»…ä»…é‡æ–°è§£é‡Šç±»å‹ï¼Œæ²¡æœ‰è¿›è¡ŒäºŒè¿›åˆ¶çš„è½¬æ¢ã€‚</p>
</li>
</ul>
<h5 id="static-cast">static_cast</h5>
<p><strong>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨static_cast</strong>ï¼Ÿ</p>
<ul>
<li><strong>åŸºæœ¬æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢</strong>ï¼Œå¦‚æŠŠintè½¬æ¢ä¸ºcharï¼Œå¸¦æ¥å®‰å…¨æ€§é—®é¢˜ç”±ç¨‹åºå‘˜æ¥ä¿è¯ï¼›</li>
<li><strong>æŠŠç©ºæŒ‡é’ˆè½¬æ¢æˆç›®æ ‡ç±»å‹çš„ç©ºæŒ‡é’ˆ</strong>ï¼›</li>
<li><strong>æŠŠä»»ä½•ç±»å‹çš„è¡¨è¾¾å¼è½¬ä¸ºvoidç±»å‹</strong>ï¼›</li>
<li>ï¼ˆä¸æ¨èï¼‰ç±»å±‚æ¬¡ç»“æ„ä¸­<u>åŸºç±»å’Œæ´¾ç”Ÿç±»ä¹‹é—´æŒ‡é’ˆæˆ–å¼•ç”¨</u>çš„è½¬æ¢ï¼šä¸Šè¡Œè½¬æ¢ï¼ˆå­ç±»â†’çˆ¶ç±»ï¼‰æ˜¯å®‰å…¨çš„ï¼›ä¸‹è¡Œè½¬æ¢ï¼ˆçˆ¶ç±»â†’å­ç±»ï¼‰ç”±äºæ²¡æœ‰åŠ¨æ€ç±»å‹æ£€æŸ¥ï¼Œæ‰€ä»¥æ˜¯ä¸å®‰å…¨çš„ã€‚</li>
</ul>
<p><strong>éšå¼è½¬æ¢éƒ½å»ºè®®ä½¿ç”¨static_castè¿›è¡Œæ ‡æ˜å’Œæ›¿æ¢</strong>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸‹é¢éšå¼è½¬æ¢éƒ½å¯æ›¿æ¢ä¸ºæ˜¾å¼çš„static_castè½¬æ¢ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n = <span class="number">6</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> d = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span>&gt;(n); <span class="comment">// åŸºæœ¬ç±»å‹è½¬æ¢</span></span><br><span class="line"><span class="keyword">int</span> *pn = &amp;n;</span><br><span class="line"><span class="keyword">double</span> *d = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(&amp;n) <span class="comment">// æ— å…³ç±»å‹æŒ‡é’ˆè½¬æ¢ï¼Œç¼–è¯‘é”™è¯¯ï¼Œåº”è¯¥ä½¿ç”¨reinterpret_cast</span></span><br><span class="line"><span class="keyword">void</span> *p = <span class="keyword">static_cast</span>&lt;<span class="keyword">void</span> *&gt;(pn); <span class="comment">// ä»»æ„ç±»å‹è½¬æ¢æˆvoidç±»å‹</span></span><br></pre></td></tr></table></figure>
<h5 id="dynamic-cast">dynamic_cast</h5>
<p><strong>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨dynamic_cast</strong>ï¼Ÿ</p>
<p>åªæœ‰åœ¨<u>æ´¾ç”Ÿç±»ä¹‹é—´</u>è½¬æ¢æ—¶æ‰ä½¿ç”¨dynamic_castï¼Œ<u>type-idå¿…é¡»æ˜¯ç±»æŒ‡é’ˆï¼Œç±»å¼•ç”¨æˆ–è€…<code>void*</code></u>ã€‚</p>
<ul>
<li><strong>ä½¿ç”¨æ—¶åŸºç±»å¿…é¡»è¦æœ‰è™šå‡½æ•°</strong>ï¼Œå› ä¸ºdynamic_castæ˜¯è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ï¼Œéœ€è¦è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯ï¼Œè€Œè¿™ä¸ªä¿¡æ¯æ˜¯å­˜å‚¨åœ¨ç±»çš„è™šå‡½æ•°è¡¨ä¸­ï¼Œåªæœ‰ä¸€ä¸ªç±»å®šä¹‰äº†è™šå‡½æ•°æ‰ä¼šæœ‰è™šå‡½æ•°è¡¨ï¼ˆå¦‚æœä¸€ä¸ªç±»æ²¡æœ‰è™šå‡½æ•°ï¼Œé‚£ä¹ˆä¸€èˆ¬æ„ä¹‰ä¸Šï¼Œè¿™ä¸ªç±»çš„è®¾è®¡è€…ä¹Ÿä¸æƒ³å®ƒæˆä¸ºä¸€ä¸ªåŸºç±»ï¼‰ã€‚</li>
</ul>
<p><strong>å’Œstatic_castå¯¹æ¯”æœ‰ä»€ä¹ˆåŒºåˆ«</strong>ï¼Ÿ</p>
<ul>
<li>ä¸‹è¡Œè½¬æ¢ï¼Œdynamic_castæ˜¯å®‰å…¨çš„ï¼ˆå½“ç±»å‹å¤±è´¥æ—¶ï¼Œè½¬æ¢è¿‡æ¥çš„æ˜¯<u>ç©ºæŒ‡é’ˆ</u>ï¼‰ï¼Œè€Œstatic_castæ˜¯ä¸å®‰å…¨çš„ï¼ˆå½“ç±»å‹ä¸ä¸€è‡´æ—¶ï¼Œ<u>è½¬æ¢è¿‡æ¥çš„æ˜¯é”™è¯¯æ„ä¹‰çš„æŒ‡é’ˆ</u>ï¼Œå¯èƒ½é€ æˆè¸©å†…å­˜ã€éæ³•è®¿é—®ç­‰å„ç§é—®é¢˜ï¼‰ã€‚</li>
<li>dynamic_castè¿˜å¯ä»¥è¿›è¡Œäº¤å‰è½¬æ¢ã€‚</li>
</ul>
<p>ä¸€ä¸ªç®€å•ç¤ºä¾‹ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseClass</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">      <span class="keyword">int</span> m_iNum;</span><br><span class="line">      <span class="comment">// åŸºç±»å¿…é¡»æœ‰è™šå‡½æ•°ï¼Œä¿æŒå¤šæ€æ€§æ‰èƒ½ä½¿ç”¨dynamic_cast</span></span><br><span class="line">      <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">foo</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DerivedClass</span>:</span> <span class="keyword">public</span> BaseClass </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">      <span class="keyword">char</span> *m_szName[<span class="number">100</span>];</span><br><span class="line">      <span class="function"><span class="keyword">void</span> <span class="title">bar</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">&#125;;</span><br><span class="line">ã€€ã€€</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    BaseClass* pb = <span class="keyword">new</span> <span class="built_in">DerivedClass</span>();</span><br><span class="line">    <span class="comment">// å­ç±»-&gt;çˆ¶ç±»ï¼Œé™æ€ç±»å‹è½¬æ¢ï¼Œæ­£ç¡®ä½†ä¸æ¨è</span></span><br><span class="line">    DerivedClass *pd1 = <span class="keyword">static_cast</span>&lt;DerivedClass*&gt;(pb);</span><br><span class="line">    <span class="comment">// å­ç±»-&gt;çˆ¶ç±»ï¼ŒåŠ¨æ€ç±»å‹è½¬æ¢ï¼Œæ­£ç¡®</span></span><br><span class="line">    DerivedClass *pd2 = <span class="keyword">dynamic_cast</span>&lt;DerivedClass*&gt;(pb);</span><br><span class="line"></span><br><span class="line">    BaseClass* pb2 = <span class="keyword">new</span> <span class="built_in">BaseClass</span>();</span><br><span class="line">    <span class="comment">// çˆ¶ç±»-&gt;å­ç±»ï¼Œé™æ€ç±»å‹è½¬æ¢ï¼Œå±é™©ï¼è®¿é—®å­ç±»m_szNameæˆå‘˜è¶Šç•Œ</span></span><br><span class="line">    DerivedClass *pd21 = <span class="keyword">static_cast</span>&lt;DerivedClass*&gt;(pb2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// çˆ¶ç±»-&gt;å­ç±»ï¼ŒåŠ¨æ€ç±»å‹è½¬æ¢ï¼Œå®‰å…¨çš„ã€‚ç»“æœæ˜¯NULL</span></span><br><span class="line">    DerivedClass *pd22 = <span class="keyword">dynamic_cast</span>&lt;DerivedClass*&gt;(pb2);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="const-cast">const_cast</h5>
<p>cosnt_castæ˜¯å››ç§ç±»å‹è½¬æ¢ç¬¦ä¸­å”¯ä¸€å¯ä»¥å¯¹å¸¸é‡è¿›è¡Œæ“ä½œçš„è½¬æ¢ç¬¦ï¼Œ<u>ç”¨æ¥å»é™¤å¸¸é‡æ€§</u>ï¼Œç¨‹åºå‘˜å¯¹è¿™ä¸ªæ“ä½œè´Ÿè´£ã€‚</p>
<ul>
<li>å¸¸é‡æŒ‡é’ˆè½¬æ¢ä¸ºéå¸¸é‡æŒ‡é’ˆï¼Œå¹¶ä¸”ä»ç„¶æŒ‡å‘åŸæ¥çš„å¯¹è±¡</li>
<li>å¸¸é‡å¼•ç”¨è¢«è½¬æ¢ä¸ºéå¸¸é‡å¼•ç”¨ï¼Œå¹¶ä¸”ä»ç„¶æŒ‡å‘åŸæ¥çš„å¯¹è±¡</li>
</ul>
<p>æ³¨æ„è½¬æ¢ç±»å‹åªèƒ½æ˜¯æŒ‡é’ˆæˆ–å¼•ç”¨ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SA</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">ã€€ã€€<span class="keyword">int</span> i;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> SA ra;</span><br><span class="line">    ra.i = <span class="number">10</span>; <span class="comment">// errorï¼Œç›´æ¥ä¿®æ”¹constç±»å‹</span></span><br><span class="line">    SA &amp;rb = <span class="keyword">const_cast</span>&lt;SA&amp;&gt;(ra);</span><br><span class="line">    rb.i = <span class="number">10</span>; <span class="comment">// okï¼Œå»é™¤äº†å¸¸é‡æ€§</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="reinterpret-cast">reinterpret_cast</h5>
<p><strong>éå¸¸å±é™©çš„æ“ä½œç¬¦ï¼Œè°¨æ…ä½¿ç”¨</strong>ã€‚</p>
<ul>
<li>reinterpret_castå¯ä»¥åœ¨æŒ‡é’ˆå’Œå¼•ç”¨é‡Œè¿›è¡Œè‚†æ— å¿Œæƒ®çš„è½¬æ¢ï¼›</li>
<li>reinterpret_castå¯ä»¥å°†æ•´å‹è½¬æ¢ä¸ºæŒ‡é’ˆï¼Œä¹Ÿå¯ä»¥æŠŠæŒ‡é’ˆè½¬æ¢ä¸ºæ•°ç»„ï¼›</li>
<li>reinterpret_castæ˜¯ä»åº•å±‚å¯¹æ•°æ®è¿›è¡Œé‡æ–°è§£é‡Šï¼Œä¾èµ–å…·ä½“çš„å¹³å°ï¼Œå¯ç§»æ¤æ€§å·®ã€‚</li>
</ul>
<p>ä¸€èˆ¬ç”¨æ¥ä¸åŒç±»å‹çš„æŒ‡é’ˆæˆ–å¼•ç”¨ä¹‹é—´è½¬æ¢ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span>* p_a = &amp;a;</span><br><span class="line"><span class="keyword">bool</span>* p_c = <span class="keyword">reinterpret_cast</span>&lt;<span class="keyword">bool</span>*&gt;(p_a);</span><br><span class="line">std::cout &lt;&lt; *p_c&lt;&lt; <span class="string">&quot;\n&quot;</span>; <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h5 id="æœ€ä½³å®è·µ-4">æœ€ä½³å®è·µ</h5>
<ul>
<li>
<p><strong>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ˜¾å¼è½¬æ¢</strong>ï¼Ÿ</p>
<p>åœ¨æ‰€æœ‰éœ€è¦è½¬æ¢çš„åœ°æ–¹éƒ½åº”è¯¥å°½é‡ä½¿ç”¨æ˜¾å¼è½¬æ¢ã€‚</p>
</li>
<li>
<p><strong>å››ç§æ˜¾å¼è½¬æ¢è¯¥æ€ä¹ˆé€‰æ‹©</strong>ï¼Ÿ</p>
<p>âš ï¸ é™¤äº†static_castå¯ç”¨äºéæŒ‡é’ˆã€å¼•ç”¨ç±»å‹ï¼Œ<strong>å…¶å®ƒè½¬æ¢ç¬¦éƒ½å¿…é¡»æ˜¯æŒ‡é’ˆæˆ–å¼•ç”¨</strong>ã€‚</p>
<ul>
<li>static_castï¼šåŸºæœ¬ç±»å‹è½¬æ¢ã€ç±»ä¸‹è¡Œè½¬æ¢ã€ç©ºæŒ‡é’ˆå’Œå…¶å®ƒæŒ‡é’ˆçš„è½¬æ¢ï¼›</li>
<li>reinterpret_castï¼šä¸åŒç±»å‹çš„æŒ‡é’ˆç±»å‹è½¬æ¢ï¼›</li>
<li>const_castï¼šå°†å¸¸é‡æŒ‡é’ˆ/å¼•ç”¨è½¬æ¢ä¸ºéå¸¸é‡æŒ‡é’ˆ/å¼•ç”¨ï¼›</li>
<li>daynamic_castï¼šå¤šæ€ç±»ä¹‹é—´çš„ç±»å‹è½¬æ¢ã€‚</li>
</ul>
</li>
</ul>
<h4 id="4-X-3-ç±»å‹è½¬æ¢è¡¥å……ï¼šstring">4.X.3 ç±»å‹è½¬æ¢è¡¥å……ï¼šstring</h4>
<p>è¿™é‡Œä¸»è¦æ€»ç»“ä¸‹<u>ä¸Šé¢æ²¡æåˆ°ï¼Œå¹³æ—¶åˆç»å¸¸ç”¨åˆ°çš„</u>è½¬æ¢ï¼š</p>
<ol>
<li>stringå’Œcharç­‰åŸºæœ¬ç±»å‹çš„è½¬æ¢ï¼›</li>
<li>stringå’Œchar[]ä¹‹é—´è½¬æ¢ï¼›</li>
<li>stringå’Œå…¶å®ƒç±»å‹æ•°ç»„ï¼ˆæ¯”å¦‚int[]ï¼‰ä¹‹é—´çš„è½¬æ¢ã€‚</li>
</ol>
<p>1å’Œ2åœ¨<u>1.8.3</u> &amp; <u>1.8.4</u> èŠ‚éƒ½å·²ä»‹ç»è¿‡ï¼Œä¸ºäº†å®Œæ•´æ€§è¿™é‡Œå†æ¬¡è¿›è¡Œç®€å•æ€»ç»“ã€‚</p>
<h5 id="stringâ†”åŸºæœ¬ç±»å‹">stringâ†”åŸºæœ¬ç±»å‹</h5>
<blockquote>
<p>stringä¸æ˜¯å†…ç½®ç±»å‹ï¼Œä½¿ç”¨static_castæ˜¯ä¸è¡Œçš„ï¼Œæ¯”å¦‚intâ†”stringã€‚</p>
</blockquote>
<p>stringâ†”åŸºæœ¬ç±»å‹æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ol>
<li>ä½¿ç”¨è¾“å…¥ã€è¾“å‡ºæµä½œä¸ºåª’ä»‹å®ç°ï¼›</li>
<li>ä½¿ç”¨C++11<code>std::string</code>å†…ç½®çš„ç›¸å…³å‡½æ•°å®ç°ã€‚</li>
</ol>
<p>ä¸ºäº†é€šç”¨æ€§ï¼Œæˆ‘ä»¬å…ˆä»‹ç» <code>std::istringstream</code>å’Œ<code>std::ostringstream</code>  ä½œä¸ºåª’ä»‹å¦‚ä½•å®ç°è½¬æ¢ã€‚</p>
<ul>
<li><code>std::istringstream</code> ï¼Œå³è¾“å…¥æµï¼šæ„é€ å‡½æ•°<u>æ¥å—æ•°æ®çš„è¾“å…¥</u>ï¼Œç„¶åä½¿ç”¨<code>&gt;&gt;</code> æå–æµä¸­æ•°æ®ï¼›</li>
<li><code>std::ostringstream</code> ï¼Œå³è¾“å‡ºæµï¼šä½¿ç”¨<code>&lt;&lt;</code> æ¥å—æ•°æ®çš„è¾“å…¥ï¼Œä½¿ç”¨æˆå‘˜æ–¹æ³•å¦‚<code>str()</code> æå–æµä¸­æ•°æ®ã€‚</li>
</ul>
<p>ä¸‹é¢æ˜¯å…·ä½“å®ä¾‹ã€‚</p>
<ul>
<li>
<p><strong>stringâ†’åŸºæœ¬ç±»å‹</strong></p>
<p>åŸºæœ¬æ€è·¯ï¼šç”¨stringå¯¹è±¡åˆå§‹åŒ–<u>è¾“å…¥</u>æµ â†’ è¾“å…¥æµå†™å…¥<code>&gt;&gt;</code>å…¶å®ƒç±»å‹ä¸­ï¼ˆstringæ­¤æ—¶ä¼šè¢«è‡ªåŠ¨è½¬æ¢ï¼‰ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;           </span><br><span class="line">    std::string str = <span class="string">&quot;233&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span> a;</span><br><span class="line">    <span class="function">std::istringstream <span class="title">iStream</span><span class="params">(str)</span></span>;</span><br><span class="line">    iStream&gt;&gt;a;   <span class="comment">// è¾“å‡ºæµè‡ªåŠ¨è½¬æ¢</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>stringâ†åŸºæœ¬ç±»å‹</strong></p>
<p>åŸºæœ¬æ€è·¯ï¼šç”¨<code>&lt;&lt;</code>åˆå§‹åŒ–<u>è¾“å‡º</u>æµ â†’ è¾“å‡ºæµå¯¹è±¡è°ƒç”¨<code>str()</code>æ–¹æ³•ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> b = <span class="number">233</span>;</span><br><span class="line">std::ostringstream oStream;</span><br><span class="line">oStream&lt;&lt;b;</span><br><span class="line">oStream.<span class="built_in">str</span>();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>å¥½æ¶ˆæ¯ï¼ŒC++11ç»™å¹¿å¤§ç¨‹åºå‘˜å¸¦æ¥äº†ç¦éŸ³ï¼Œæä¾›äº†å¤§é‡å·²ç»å®šä¹‰å¥½çš„æ–¹æ³•</strong>ã€‚</p>
<blockquote>
<p>æ›´å¤šä»‹ç»ï¼Œå¯å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/lmb1612977696/article/details/78273629">c++ stringå’Œå…¶ä»–ç±»å‹äº’è½¬</a></p>
</blockquote>
<p>ä½†æ³¨æ„ï¼Œcharâ†”stringçš„è½¬æ¢æ–¹æ³•æœªå®ç°ï¼Œæˆ‘ä»¬å¯ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å®ç°è½¬æ¢ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">std::string str = c;  <span class="comment">// char â†’ string</span></span><br><span class="line"></span><br><span class="line">c = str[<span class="number">0</span>];  <span class="comment">// string â†’ char</span></span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢å¯¹å¸¸ç”¨çš„è½¬æ¢æ–¹æ³•è¿›è¡Œä»‹ç»ã€‚</p>
<ul>
<li>
<p><strong>stringâ†’åŸºæœ¬ç±»å‹</strong></p>
<p>å¸¸ç”¨æ–¹æ³•åŸå‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// stringâ†’int</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">stoi</span><span class="params">( <span class="keyword">const</span> std::string&amp; str, std::<span class="keyword">size_t</span>* pos = <span class="number">0</span>, <span class="keyword">int</span> base = <span class="number">10</span> )</span></span>;</span><br><span class="line"><span class="comment">// stringâ†’long</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">stol</span><span class="params">( <span class="keyword">const</span> std::string&amp; str, std::<span class="keyword">size_t</span>* pos = <span class="number">0</span>, <span class="keyword">int</span> base = <span class="number">10</span> )</span></span>;</span><br><span class="line"><span class="comment">// stringâ†’float</span></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">stof</span><span class="params">( <span class="keyword">const</span> std::string&amp; str, std::<span class="keyword">size_t</span>* pos = <span class="number">0</span> )</span></span>;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å®ä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   std::string str = <span class="string">&quot;123&quot;</span>;</span><br><span class="line">   <span class="keyword">int</span> a = std::<span class="built_in">stoi</span>(str);</span><br><span class="line">   <span class="keyword">int</span> <span class="keyword">float</span> = std::<span class="built_in">stof</span>(str);</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>stringâ†åŸºæœ¬ç±»å‹</strong></p>
<p>å¸¸ç”¨æ–¹æ³•åŸå‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°é‡è½½</span></span><br><span class="line"><span class="function">std::string <span class="title">to_string</span><span class="params">( <span class="keyword">int</span> value )</span></span>;</span><br><span class="line"><span class="function">std::string <span class="title">to_string</span><span class="params">( <span class="keyword">long</span> value )</span></span>;</span><br><span class="line"><span class="function">std::string <span class="title">to_string</span><span class="params">( <span class="keyword">float</span> value )</span></span>;</span><br><span class="line"><span class="function">std::string <span class="title">to_string</span><span class="params">( <span class="keyword">double</span> value )</span></span>;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å®ä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">int</span> a = <span class="number">1</span>;</span><br><span class="line">   std::string str1 = std::<span class="built_in">to_string</span>(a);</span><br><span class="line">   <span class="keyword">float</span> b = <span class="number">1.2</span>;</span><br><span class="line">   std::string str1 = std::<span class="built_in">to_string</span>(b);</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="stringâ†”char">stringâ†”char[]</h5>
<p>stringå’Œchar[]æ•°ç»„ä¹‹é—´çš„è½¬æ¢æ¯”è¾ƒç®€å•ï¼Œå› ä¸ºstringå†…ç½®äº†ç›¸å…³æ–¹æ³•ã€‚</p>
<ul>
<li>
<p><strong>char[]â† string</strong></p>
<p>å¦‚æœæ˜¯å­—ç¬¦ä¸²å¸¸é‡ï¼ŒC++å¯ä»¥éšå¼è½¬æ¢ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c_arr[] = <span class="string">&quot;royhuang&quot;</span>;  <span class="comment">// &quot;royhuang&quot;æ˜¯stringç±»å‹çš„å­—ç¬¦ä¸²å¸¸é‡ï¼Œå¯ä»¥éšå¼è½¬æ¢</span></span><br><span class="line">  <span class="keyword">char</span>* p_c_arr = <span class="string">&quot;royhuang&quot;</span>; <span class="comment">// è¿™é‡Œæ²¡å‘ç”Ÿéšå¼è½¬æ¢ï¼Œä½†p_c_arræŒ‡å‘äº†å­—ç¬¦ä¸²å¸¸é‡</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line">  å¯¹äºéå­—ç¬¦ä¸²å¸¸é‡ï¼Œ`std::string`åŒæ ·æä¾›äº†`c_str()` å’Œ `data()` ç­‰æ–¹æ³•ï¼Œä¸è¿‡è¦æ³¨æ„ï¼š</span><br><span class="line">  </span><br><span class="line">  - è¿”å›ç±»å‹åªèƒ½æ˜¯`const char*` ï¼Œä¹Ÿå°±æ˜¯å¿…é¡»ä¸ºå¸¸é‡ï¼Œä¸”æ˜¯æŒ‡é’ˆï¼Œ</span><br><span class="line">  </span><br><span class="line">  ```cpp</span><br><span class="line">std::string str = &quot;royhuang&quot;;</span><br><span class="line">  </span><br><span class="line">const char* c_arr1 = str.c_str();</span><br><span class="line">  const char* c_arr2 = str.data();</span><br><span class="line">  // const char c_arr3[] = str.data();  // éæ³•</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p><strong>char[] â†’ string</strong></p>
<p>stringæ„é€ å‡½æ•°æ¥å—å­—ç¬¦ä¸²æ•°ç»„ï¼š<code>string::string(const char* szCString)</code> ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c_arr[] = <span class="string">&quot;royhuang&quot;</span>;  </span><br><span class="line"></span><br><span class="line">std::string str&#123; c_arr &#125;;  <span class="comment">// æ„é€ å‡½æ•°</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ä½†æ˜¯å¦‚æœæ¶‰åŠåˆ°å­—ç¬¦ä¸²åˆ†éš”ç¬¦ï¼Œå°±æ¯”è¾ƒéº»çƒ¦ç‚¹ï¼Œå‚è€ƒä¸‹æ–‡å¤„ç†ã€‚</p>
<h5 id="stringâ†’å…¶å®ƒç±»å‹æ•°ç»„">stringâ†’å…¶å®ƒç±»å‹æ•°ç»„</h5>
<p><strong>å¦‚æœæ˜¯åˆ†å‰²æ¯ä¸€ä¸ªå­—ç¬¦ä¸ºæ•°ç»„å…ƒç´ ï¼Œå¯ä»¥è½¬æ¢ä¸ºï¼šstringâ†’char[]â†’å…¶å®ƒç±»å‹æ•°ç»„</strong>ã€‚</p>
<p>ä¸‹é¢å±•ç¤ºäº†ï¼šstringâ†’int[] ï¼Œè¿™é‡Œä½¿ç”¨äº†å®¹å™¨vectorã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::string str = <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">    std::vector&lt;<span class="keyword">int</span>&gt; i_arr;</span><br><span class="line">    i_arr.<span class="built_in">reserve</span>(<span class="number">10</span>); <span class="comment">// tipsï¼šé¢„å…ˆåˆ†é…ä¸€äº›ç©ºé—´</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 1.å…ˆè½¬æ¢ä¸ºcharæ•°ç»„</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span>* c_arr = str3.<span class="built_in">c_str</span>();</span><br><span class="line">    <span class="comment">// 2.charæ•°ç»„å†è½¬æ¢ä¸ºå…¶å®ƒç±»å‹æ•°ç»„</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">char</span> c:str3)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// æ³¨æ„æ˜¯c-&#x27;0&#x27;ï¼Œä¸æ˜¯static_cast&lt;int&gt;(c)</span></span><br><span class="line">        <span class="comment">// c-&#x27;0&#x27;ç®—æœ¯ç±»å‹æå‡ä¸ºint</span></span><br><span class="line">        i_arr.<span class="built_in">push_back</span>(c-<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>stringâ†å…¶å®ƒç±»å‹æ•°ç»„ï¼Œæ²¡å•¥æ„ä¹‰ä¸€èˆ¬å¾ˆå°‘éœ€è¦</strong>ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[] = &#123;<span class="number">45</span>,<span class="number">45</span>,<span class="number">67</span>,<span class="number">144</span>&#125;;</span><br></pre></td></tr></table></figure>
<p>è½¬æ¢ä¸º<code>454567144</code> æœ‰å•¥ç”¨å‘¢ï¼Ÿä¸€èˆ¬ä¸éœ€è¦è¿™ä¹ˆåšã€‚æ›´å¤šçš„åè€Œæ˜¯æ€ä¹ˆå°†ä¸€ä¸ªintç±»å‹è½¬æ¢stringã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">2</span>;</span><br><span class="line">string str = std::<span class="built_in">to_string</span>(i);</span><br></pre></td></tr></table></figure>
<p><strong>å…¶å®ä¸Šé¢ä»‹ç»éƒ½æ˜¯å¾ˆç‰¹æ®Šçš„stringâ†’æ•°ç»„æƒ…å†µï¼šåˆ†å‰²æ¯ä¸€ä¸ªå­—ç¬¦ä¸ºæ•°ç»„å…ƒç´ ã€‚ä½†å¾€å¾€æˆ‘ä»¬éœ€è¦å¤„ç†çš„æ˜¯å¦‚ä½•æŒ‰æŒ‡å®šè§„åˆ™åˆ†å‰²<u>å­ä¸²</u>ä¸ºæ•°ç»„å…ƒç´ </strong>ï¼š</p>
<p>æ¯”å¦‚ï¼Œå¦‚ä½•å°†ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">string str = <span class="string">&quot;12,45,56&quot;</span> ;</span><br></pre></td></tr></table></figure>
<p>è½¬æ¢ä¸ºï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> arr[] = &#123;<span class="number">12</span>,<span class="number">45</span>,<span class="number">56</span>&#125;;</span><br></pre></td></tr></table></figure>
<p>æœ€å¸¸è§çš„ä¾¿æ˜¯<u>æŒ‰æŒ‡å®šåˆ†éš”ç¬¦æ¥åˆ†å‰²å­—ç¬¦ä¸²</u>ä¸ºæ–°æ•°ç»„å…ƒç´ ã€‚</p>
<h5 id="stringæŒ‡å®šåˆ†å‰²â†’æ•°ç»„">stringæŒ‡å®šåˆ†å‰²â†’æ•°ç»„</h5>
<p>å¯¹äºæŒ‡å®šåˆ†éš”ç¬¦æ¥åˆ†å‰²å­—ç¬¦ä¸²ï¼Œå†è½¬æ¢ä¸ºæ•°ç»„ã€‚ä¸€èˆ¬è€Œè¨€æœ‰å¦‚ä¸‹æ€è·¯ï¼š</p>
<ol>
<li>é€šè¿‡stringæˆå‘˜å‡½æ•°ï¼šfind+substrå‡½æ•°ï¼›</li>
<li>é€šè¿‡Cè¯­è¨€ä¸­åˆ†å‰²å‡½æ•°ï¼šstrtokå‡½æ•°ï¼›</li>
<li>é€šè¿‡stringstreamå®ç°ã€‚</li>
</ol>
<p>è¿™é‡Œä¸»è¦ä»‹ç»ç¬¬1ç§ï¼Œå®Œæ•´çš„ä»‹ç»å¯å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/5876a9f49413">C++å­—ç¬¦ä¸²åˆ†å‰²æ–¹æ³•æ€»ç»“</a> ã€‚</p>
<ul>
<li>findå‡½æ•°åŸå‹ï¼š <code>size_t find (const string&amp; str, size_t pos = 0) const;</code>ï¼›</li>
<li>substrå‡½æ•°åŸå‹ï¼š <code>string substr (size_t pos = 0, size_t len = npos) const;</code> ã€‚</li>
</ul>
<p><strong>ä»¥stringâ†’int[]ä¸ºä¾‹</strong> ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">      std::string str = <span class="string">&quot;12,45,56&quot;</span> ;</span><br><span class="line">      std::vector&lt;<span class="keyword">int</span>&gt; arr;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">const</span> std::string pattern = <span class="string">&quot;,&quot;</span>;</span><br><span class="line">      str += pattern;   <span class="comment">// æ–¹ä¾¿å¤„ç†æœ€åä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">      <span class="keyword">size_t</span>  pre_pos = <span class="number">0</span>; </span><br><span class="line">      <span class="keyword">size_t</span>  pos = str.<span class="built_in">find</span>(pattern);</span><br><span class="line">      <span class="keyword">while</span> (pos != str.npos) <span class="comment">// å¦‚æœæ²¡æ‰¾åˆ°åˆ†éš”ç¬¦åˆ™ç»ˆæ­¢</span></span><br><span class="line">      &#123;</span><br><span class="line">          string temp = str.<span class="built_in">substr</span>(pre_pos,pos);</span><br><span class="line">          arr.<span class="built_in">push_back</span>(std::<span class="built_in">stoi</span>(temp));</span><br><span class="line">          <span class="comment">// ä¿ç•™å‰©ä¸‹çš„å­—ç¬¦ä¸²ä½œä¸ºæ–°ä¸²</span></span><br><span class="line">          str = str.<span class="built_in">substr</span>(pos+<span class="number">1</span>,str.<span class="built_in">length</span>());</span><br><span class="line">          <span class="comment">// æŸ¥æ‰¾æ–°å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªåˆ†éš”ç¬¦çš„ä½ç½®</span></span><br><span class="line">          pos = str.<span class="built_in">find</span>(pattern); </span><br><span class="line">      &#125; </span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="leetcodeå®æˆ˜">leetcodeå®æˆ˜</h5>
<p>ä»¥ç»å…¸é¢˜å‹ä¸ºä¾‹ï¼Œå°†ä¸‹é¢è½¬æ¢ä¸ºå¤šç»´æ•°ç»„ï¼Œç¬¬ä¸€è¡Œè¾“å…¥çš„æ˜¯é•¿åº¦ã€‚</p>
<blockquote>
<p>3</p>
<p>11  12  13</p>
<p>14  15   16</p>
<p>17   18  19</p>
</blockquote>
<p>å®Œæ•´å®ç°ä»£ç å¦‚ä¸‹ï¼šå¯è§å…³é”®æ˜¯å¦‚ä½•å®ç°åˆ†å‰²å­—ç¬¦ä¸²çš„å‡½æ•°ï¼ˆé¢è¯•æ—¶è¿™ç§å¸¸ç”¨å‡½æ•°æœ€å¥½ç›´æ¥èƒŒä¸‹ï¼‰ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">strSplit</span><span class="params">(<span class="keyword">const</span> std::string src_str, vector&lt;<span class="keyword">int</span>&gt;&amp; vec, <span class="keyword">const</span> string pattern)</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    std::string str = src_str;</span><br><span class="line">    str += pattern;   <span class="comment">// æ–¹ä¾¿å¤„ç†æœ€åä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">size_t</span>  pre_pos = <span class="number">0</span>; </span><br><span class="line">    <span class="keyword">size_t</span>  pos = str.<span class="built_in">find</span>(pattern);</span><br><span class="line">    <span class="keyword">while</span> (pos != str.npos) <span class="comment">// å¦‚æœæ²¡æ‰¾åˆ°åˆ†éš”ç¬¦åˆ™ç»ˆæ­¢</span></span><br><span class="line">    &#123;</span><br><span class="line">        string temp = str.<span class="built_in">substr</span>(pre_pos,pos);</span><br><span class="line">        vec.<span class="built_in">push_back</span>(std::<span class="built_in">stoi</span>(temp));</span><br><span class="line">        <span class="comment">// ä¿ç•™å‰©ä¸‹çš„å­—ç¬¦ä¸²ä½œä¸ºæ–°ä¸²</span></span><br><span class="line">        str = str.<span class="built_in">substr</span>(pos+<span class="number">1</span>,str.<span class="built_in">length</span>());</span><br><span class="line">        <span class="comment">// æŸ¥æ‰¾æ–°å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªåˆ†éš”ç¬¦çš„ä½ç½®</span></span><br><span class="line">        pos = str.<span class="built_in">find</span>(pattern); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">      <span class="keyword">int</span> N = <span class="number">0</span>;</span><br><span class="line">      <span class="comment">// std::getline(std::cin,N); // getlineä¸èƒ½æ¥å—ç±»å‹intçš„å‚æ•°</span></span><br><span class="line">      std::cin&gt;&gt;N;</span><br><span class="line">      std::cin.<span class="built_in">ignore</span>(); <span class="comment">// è¯»å–åé¢çš„æ¢è¡Œç¬¦ï¼Œgetlineä¸éœ€è¦å¤„ç†è¿™ä¸ªé—®é¢˜</span></span><br><span class="line">      </span><br><span class="line">      vector&lt;vector&lt;<span class="keyword">int</span>&gt;&gt; array ; <span class="comment">// vectoræ¯”å†…ç½®æ•°ç»„å¥½ç”¨</span></span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span> ; i&lt;N ; i++)</span><br><span class="line">      &#123;</span><br><span class="line">           std::string cur_line;</span><br><span class="line">           std::<span class="built_in">getline</span>(cin,cur_line);</span><br><span class="line">           vector&lt;<span class="keyword">int</span>&gt; vec_tmp ;</span><br><span class="line">           <span class="built_in">strSplit</span>(cur_line,vec_tmp,<span class="string">&quot; &quot;</span>);</span><br><span class="line">           array.<span class="built_in">push_back</span>(vec_tmp);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="æœ€ä½³å®è·µ-5">æœ€ä½³å®è·µ</h5>
<p>ä¸æ¶‰åŠåˆ°æ•°ç»„ï¼š</p>
<ul>
<li>
<p><strong>å¦‚æœæ˜¯åŸºæœ¬ç±»å‹ä¹‹é—´çš„äº’è½¬</strong>ï¼Œéšå¼è½¬æ¢è™½ç„¶ä¹Ÿå¯ä»¥å®ç°ï¼Œä½†æœ€å¥½ä½¿ç”¨<code>static_cast</code>æ˜¾å¼è½¬æ¢ï¼›</p>
<p>ä¸è¿‡éœ€è¦æ³¨æ„charâ†”intä¹‹é—´çš„è½¬æ¢ï¼Œä¹Ÿè®¸ä½ å¹¶ä¸éœ€è¦charç±»å‹çš„ASCIIå€¼ã€‚</p>
</li>
<li>
<p><strong>å¦‚æœæ˜¯æŒ‡é’ˆã€å¼•ç”¨ã€å¤šæ€ã€å¸¸é‡è½¬éå¸¸é‡ä¹‹é—´çš„è½¬æ¢</strong>ï¼Œè¯·ä½¿ç”¨æ˜¾ç¤ºè½¬æ¢ï¼›</p>
</li>
<li>
<p><strong>å¦‚æœstringå’ŒåŸºæœ¬ç±»å‹è½¬æ¢</strong>ï¼Œä½¿ç”¨<code>std::string</code> å†…ç½®çš„å‡½æ•°åº“æ•ˆç‡æœ€é«˜ã€‚</p>
</li>
</ul>
<p>æ¶‰åŠåˆ°æ•°ç»„ï¼š</p>
<ul>
<li><strong>å¦‚æœæ˜¯stringâ†”char[]ï¼Œä¸æ¶‰åŠåˆ°åˆ†å‰²å­ä¸²</strong>ï¼Œä½¿ç”¨<code>std::string</code> å†…ç½®å‡½æ•°å¯ä»¥å¾ˆæ–¹ä¾¿è¿›è¡Œè½¬æ¢ï¼›</li>
<li><strong>å¦‚æœæ˜¯stringâ†’å…¶å®ƒç±»å‹æ•°ç»„ï¼ˆå•å‘ï¼Œåå‘æ²¡å¤šå¤§æ„ä¹‰ï¼‰ï¼Œä¸æ¶‰åŠåˆ°åˆ†å‰²å­ä¸²</strong> ï¼ŒæŒ‰stringâ†’char[]â†’å…¶å®ƒç±»å‹æ•°ç»„è½¬æ¢å³å¯ï¼›</li>
<li><strong>å¦‚æœæ˜¯stringâ†’å…¶å®ƒç±»å‹æ•°ç»„ï¼ˆå•å‘ï¼‰ï¼Œæ¶‰åŠåˆ°åˆ†å‰²å­ä¸²</strong> ï¼š
<ul>
<li>å…ˆå€ŸåŠ©findå’Œsubstrå‡½æ•°åˆ‡å‰²å‡ºå­ä¸²æ•°ç»„ï¼ˆstring[]ï¼‰ï¼›</li>
<li>å†å°†æ¯ä¸ªå­ä¸²è½¬æ¢ä¸ºå…¶å®ƒç±»å‹ï¼ˆå†…ç½®å‡½æ•°å®ç°ï¼Œå¦‚stoiï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p>æœ€åï¼Œè¯·å°½é‡é¿å…ä½¿ç”¨éšå¼è½¬æ¢ã€‚</p>
<h2 id="æ›´æ–°è®°å½•">æ›´æ–°è®°å½•</h2>
<div class="timeline">
<div class="timenode"><div class="meta"><p><p>2022-01-22 ï¼šæ›´æ–°ç¬”è®°</p>
</p></div><div class="body"><ol><li>ç¬¬ä¸€æ¬¡æ›´æ–°</li></ol></div></div>
</div>
<h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h2>
<div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">C++ä¸­å·²ç»æœ‰é¢å‘å¯¹è±¡çš„æ¦‚å¿µï¼Œé‚£structè¿˜æœ‰å•¥å­˜åœ¨çš„æ„å›¾ï¼šhttps://www.zhihu.com/question/23174488<a href="#fnref:1" rev="footnote"> â†©</a></span></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">2.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">C++ä¸­å››ç§å¼ºåˆ¶ç±»å‹è½¬æ¢åŒºåˆ«è¯¦è§£ï¼šhttps://blog.csdn.net/chen134225/article/details/81305049<a href="#fnref:2" rev="footnote"> â†©</a></span></li><li id="fn:3"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">3.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">æ²¡æœ‰å­¦ä¸ä¼šçš„C++ï¼šç”¨æˆ·è‡ªå®šä¹‰çš„éšå¼ç±»å‹è½¬æ¢ ï¼šhttps://juejin.cn/post/6844903798100459533<a href="#fnref:3" rev="footnote"> â†©</a></span></li></ol></div></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">Wanghui Huang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://hwh.zone/p/6587/">https://hwh.zone/p/6587/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://hwh.zone" target="_blank">royhuang's blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C/">C++</a><a class="post-meta__tags" href="/tags/%E6%95%99%E7%A8%8B/">æ•™ç¨‹</a><a class="post-meta__tags" href="/tags/C-%E5%9F%BA%E7%A1%80/">C++åŸºç¡€</a><a class="post-meta__tags" href="/tags/%E7%BB%93%E6%9E%84%E4%BD%93/">ç»“æ„ä½“</a><a class="post-meta__tags" href="/tags/%E6%9E%9A%E4%B8%BE/">æšä¸¾</a><a class="post-meta__tags" href="/tags/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/">ç±»å‹è½¬æ¢</a></div><div class="post_share"><div class="social-share" data-image="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> æ‰“èµ</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/wechatPay.png" target="_blank"><img class="post-qr-code-img" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/wechatPay.png" alt="å¾®ä¿¡"/></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/alipay.png" target="_blank"><img class="post-qr-code-img" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/alipay.png" alt="æ”¯ä»˜å®"/></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/p/26224/"><img class="prev-cover" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨</div></div></a></div><div class="next-post pull-right"><a href="/p/17506/"><img class="next-cover" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/p/18652/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¸€ï¼‰ï¼šç¯å¢ƒæ­å»ºï¼ˆä¸Šï¼‰VSCodeè¿œç¨‹å¼€å‘"><img class="cover" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/image-20211211214212828.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-05</div><div class="title">C++ä»é›¶å¼€å§‹ï¼ˆä¸€ï¼‰ï¼šç¯å¢ƒæ­å»ºï¼ˆä¸Šï¼‰VSCodeè¿œç¨‹å¼€å‘</div></div></a></div><div><a href="/p/60158/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸‹ï¼‰ç»§æ‰¿å’Œè™šå‡½æ•°"><img class="cover" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-08</div><div class="title">C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸‹ï¼‰ç»§æ‰¿å’Œè™šå‡½æ•°</div></div></a></div><div><a href="/p/2834/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¸€ï¼‰ï¼šç¯å¢ƒæ­å»ºï¼ˆä¸‹ï¼‰g++/Makefile/CMakeå¿«é€Ÿå…¥é—¨"><img class="cover" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/image-20211211215040434.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-05</div><div class="title">C++ä»é›¶å¼€å§‹ï¼ˆä¸€ï¼‰ï¼šç¯å¢ƒæ­å»ºï¼ˆä¸‹ï¼‰g++/Makefile/CMakeå¿«é€Ÿå…¥é—¨</div></div></a></div><div><a href="/p/43924/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸­ï¼‰è¿ç®—ç¬¦é‡è½½"><img class="cover" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-27</div><div class="title">C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸­ï¼‰è¿ç®—ç¬¦é‡è½½</div></div></a></div><div><a href="/p/26224/" title="C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨"><img class="cover" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-16</div><div class="title">C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨</div></div></a></div><div><a href="/p/51595/" title="C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸‹ï¼‰å‡½æ•°"><img class="cover" src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/about-bg.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-09</div><div class="title">C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸‹ï¼‰å‡½æ•°</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://blog-imgs-1256686095.cos.ap-guangzhou.myqcloud.com/cat.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Wanghui Huang</div><div class="author-info__description">tech & life</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">27</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">38</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">9</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Wanghui-Huang"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Wanghui-Huang" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:hwh199601@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>å…¬å‘Š</span></div><div class="announcement_content">royhuang's studio</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B%E5%8F%8A%E8%BD%AC%E6%8D%A2"><span class="toc-text">å››ã€å¤åˆç±»å‹åŠè½¬æ¢</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text">4.1 ç»“æ„ä½“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BB%8EC%E8%B0%88%E8%B5%B7"><span class="toc-text">4.1.1 ä»Cè°ˆèµ·</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-2-C-%E4%B8%ADstruct"><span class="toc-text">4.1.2 C++ä¸­struct</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-3-%E7%BB%93%E6%9E%84%E4%BD%93%E5%A4%A7%E5%B0%8F%E5%92%8C%E6%AF%94%E8%BE%83"><span class="toc-text">4.1.3 ç»“æ„ä½“å¤§å°å’Œæ¯”è¾ƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#sizeof-%E8%AE%A1%E7%AE%97%E7%BB%93%E6%9E%84%E4%BD%93%E5%A4%A7%E5%B0%8F"><span class="toc-text">sizeof è®¡ç®—ç»“æ„ä½“å¤§å°</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%EF%BC%9Asizeof%E8%AE%A1%E7%AE%97%E7%B1%BB%E5%AF%B9%E8%B1%A1%E5%A4%A7%E5%B0%8F"><span class="toc-text">æ‰©å±•ï¼šsizeofè®¡ç®—ç±»å¯¹è±¡å¤§å°</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A9%BA%E7%B1%BB-%E7%BB%93%E6%9E%84%E4%BD%93%E5%A4%A7%E5%B0%8F"><span class="toc-text">ç©ºç±»&#x2F;ç»“æ„ä½“å¤§å°</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%AF%94%E8%BE%83"><span class="toc-text">ç»“æ„ä½“æ¯”è¾ƒ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-4-%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88C-%E8%BF%98%E4%BF%9D%E7%95%99struct%EF%BC%9F"><span class="toc-text">4.1.4 æ‰©å±•é˜…è¯»ï¼šä¸ºä»€ä¹ˆC++è¿˜ä¿ç•™structï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E6%9E%9A%E4%B8%BE"><span class="toc-text">4.2 æšä¸¾</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-1-%E6%9E%9A%E4%B8%BE%E5%88%9D%E8%AF%86"><span class="toc-text">4.2.1 æšä¸¾åˆè¯†</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE%E6%98%AF%E6%95%B4%E6%95%B0%E7%AC%A6%E5%8F%B7%E5%B8%B8%E9%87%8F"><span class="toc-text">æšä¸¾æ˜¯æ•´æ•°ç¬¦å·å¸¸é‡</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BC%98%E9%9B%85%E6%89%93%E5%8D%B0%E6%9E%9A%E4%B8%BE%E6%95%B0"><span class="toc-text">ä¼˜é›…æ‰“å°æšä¸¾æ•°</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86%E6%9E%9A%E4%B8%BE%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">è®¤è¯†æšä¸¾ä½œç”¨åŸŸ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-text">æœ€ä½³å®è·µ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-2-%E8%8C%83%E5%9B%B4%E6%9E%9A%E4%B8%BE"><span class="toc-text">4.2.2 èŒƒå›´æšä¸¾</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E8%8C%83%E5%9B%B4%E6%9E%9A%E4%B8%BE%EF%BC%9F"><span class="toc-text">ä¸ºä»€ä¹ˆéœ€è¦èŒƒå›´æšä¸¾ï¼Ÿ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8C%83%E5%9B%B4%E6%9E%9A%E4%B8%BE%E5%88%9D%E8%AF%86"><span class="toc-text">èŒƒå›´æšä¸¾åˆè¯†</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5-2"><span class="toc-text">æœ€ä½³å®è·µ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-X-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%F0%9F%8C%9F"><span class="toc-text">4.X ç±»å‹è½¬æ¢ğŸŒŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-X-1-%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2"><span class="toc-text">4.X.1 éšå¼è½¬æ¢</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E8%BD%AC%E6%8D%A2"><span class="toc-text">æ ‡å‡†è½¬æ¢</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%AB%E8%B8%A9%E5%9D%91%EF%BC%9Achar%E5%92%8Cint%E7%9A%84%E8%BD%AC%E6%8D%A2%EF%BC%9F"><span class="toc-text">åˆ«è¸©å‘ï¼šcharå’Œintçš„è½¬æ¢ï¼Ÿ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BD%AC%E6%8D%A2%F0%9F%8C%9F"><span class="toc-text">ç”¨æˆ·è‡ªå®šä¹‰è½¬æ¢ğŸŒŸ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5-3"><span class="toc-text">æœ€ä½³å®è·µ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-X-2-%E6%98%BE%E5%BC%8F%E8%BD%AC%E6%8D%A2"><span class="toc-text">4.X.2 æ˜¾å¼è½¬æ¢</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#C%E9%A3%8E%E6%A0%BC%E6%98%BE%E5%BC%8F%E8%BD%AC%E6%8D%A2"><span class="toc-text">Cé£æ ¼æ˜¾å¼è½¬æ¢</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#C-%E6%98%BE%E5%BC%8F%E8%BD%AC%E6%8D%A2"><span class="toc-text">C++æ˜¾å¼è½¬æ¢</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#static-cast"><span class="toc-text">static_cast</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#dynamic-cast"><span class="toc-text">dynamic_cast</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#const-cast"><span class="toc-text">const_cast</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#reinterpret-cast"><span class="toc-text">reinterpret_cast</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5-4"><span class="toc-text">æœ€ä½³å®è·µ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-X-3-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E8%A1%A5%E5%85%85%EF%BC%9Astring"><span class="toc-text">4.X.3 ç±»å‹è½¬æ¢è¡¥å……ï¼šstring</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#string%E2%86%94%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B"><span class="toc-text">stringâ†”åŸºæœ¬ç±»å‹</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#string%E2%86%94char"><span class="toc-text">stringâ†”char[]</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#string%E2%86%92%E5%85%B6%E5%AE%83%E7%B1%BB%E5%9E%8B%E6%95%B0%E7%BB%84"><span class="toc-text">stringâ†’å…¶å®ƒç±»å‹æ•°ç»„</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#string%E6%8C%87%E5%AE%9A%E5%88%86%E5%89%B2%E2%86%92%E6%95%B0%E7%BB%84"><span class="toc-text">stringæŒ‡å®šåˆ†å‰²â†’æ•°ç»„</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#leetcode%E5%AE%9E%E6%88%98"><span class="toc-text">leetcodeå®æˆ˜</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5-5"><span class="toc-text">æœ€ä½³å®è·µ</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E8%AE%B0%E5%BD%95"><span class="toc-text">æ›´æ–°è®°å½•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-text">å‚è€ƒèµ„æ–™</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/p/60158/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸‹ï¼‰ç»§æ‰¿å’Œè™šå‡½æ•°">C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸‹ï¼‰ç»§æ‰¿å’Œè™šå‡½æ•°</a><time datetime="2022-02-08T08:24:59.978Z" title="å‘è¡¨äº 2022-02-08 16:24:59">2022-02-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/p/43924/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸­ï¼‰è¿ç®—ç¬¦é‡è½½">C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸­ï¼‰è¿ç®—ç¬¦é‡è½½</a><time datetime="2022-01-27T06:47:34.826Z" title="å‘è¡¨äº 2022-01-27 14:47:34">2022-01-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/p/17506/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨">C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨</a><time datetime="2022-01-24T07:37:07.955Z" title="å‘è¡¨äº 2022-01-24 15:37:07">2022-01-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/p/6587/" title="C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆå¢ï¼‰å¤åˆç±»å‹åŠè½¬æ¢">C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆå¢ï¼‰å¤åˆç±»å‹åŠè½¬æ¢</a><time datetime="2022-01-16T13:04:18.006Z" title="å‘è¡¨äº 2022-01-16 21:04:18">2022-01-16</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By Wanghui Huang</div><div class="footer_custom_text">Support By <a target="_blank" rel="noopener" href="https://cloud.tencent.com/" style="text-decoration:underline; color:#476679;"> Tencent Cloud </a> |  <a target="_blank" rel="noopener" href="https://hexo.io/" style="text-decoration:underline; color:#476679;">Hexo</a> | <a target="_blank" rel="noopener" href="https://butterfly.js.org/" style="text-decoration:underline; color:#476679;">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="æ”¾å¤§å­—ä½“"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="ç¼©å°å­—ä½“"><i class="fas fa-minus"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(()=>{
  const $countDom = document.getElementById('twikoo-count')
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'blog-comments-5g2cfsved8c0de34',
      region: 'ap-shanghai'
    }, null))
  }

  const getCount = () => {
    twikoo.getCommentsCount({
      envId: 'blog-comments-5g2cfsved8c0de34',
      region: 'ap-shanghai',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      $countDom.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const loadTwikoo = (bool = false) => {
    if (typeof twikoo === 'object') {
      init()
      bool && $countDom && setTimeout(getCount,0)
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(()=> {
        init()
        bool && $countDom && setTimeout(getCount,0)
      })
    }
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo(true)
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script src="https://cdn.jsdelivr.net/npm/hexo-widget-tree@0.2.2/js/index.js"></script><div id="widget-tree">
      <h1 id="tree-toc-title" style="text-align:center;margin:0;line-hight:1.5"> <a href="https://hwh.zone/categories/">ç›® å½• </a> </h1>
      <h5 id="tree-toc-subtitle" style="text-align:center;margin:0;line-hight:1.5"> <a href="https://hwh.zone/">royhuang's blog</a> </h5>
      <ul>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/C/">
          C++
        </a>
      <ul class="tree-list-children">
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/C/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/">
          ä»é›¶å¼€å§‹
        </a>
      <ul class="tree-list-children">
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/C/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/C-%E5%9F%BA%E7%A1%80/">
          C++åŸºç¡€
        </a>
      <ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/p/18652/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¸€ï¼‰ï¼šç¯å¢ƒæ­å»ºï¼ˆä¸Šï¼‰VSCodeè¿œç¨‹å¼€å‘"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆä¸€ï¼‰ï¼šç¯å¢ƒæ­å»ºï¼ˆä¸Šï¼‰VSCodeè¿œç¨‹å¼€å‘</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/60158/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸‹ï¼‰ç»§æ‰¿å’Œè™šå‡½æ•°"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸‹ï¼‰ç»§æ‰¿å’Œè™šå‡½æ•°</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/2834/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¸€ï¼‰ï¼šç¯å¢ƒæ­å»ºï¼ˆä¸‹ï¼‰g++/Makefile/CMakeå¿«é€Ÿå…¥é—¨"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆä¸€ï¼‰ï¼šç¯å¢ƒæ­å»ºï¼ˆä¸‹ï¼‰g++/Makefile/CMakeå¿«é€Ÿå…¥é—¨</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/43924/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸­ï¼‰è¿ç®—ç¬¦é‡è½½"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸­ï¼‰è¿ç®—ç¬¦é‡è½½</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/6587/" title="C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆå¢ï¼‰å¤åˆç±»å‹åŠè½¬æ¢"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆå¢ï¼‰å¤åˆç±»å‹åŠè½¬æ¢</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/26224/" title="C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/51595/" title="C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸‹ï¼‰å‡½æ•°"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸‹ï¼‰å‡½æ•°</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/24237/" title="C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸­ï¼‰æŒ‡é’ˆå’Œå¼•ç”¨"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆäºŒï¼‰ï¼šåŠ¡å®åŸºç¡€ï¼ˆä¸­ï¼‰æŒ‡é’ˆå’Œå¼•ç”¨</a></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/C/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/C-%E8%BF%9B%E9%98%B6/">
          C++è¿›é˜¶
        </a>
      <ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/p/17506/" title="C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨"><i class="post-icon gg-file-document"></i>C++ä»é›¶å¼€å§‹ï¼ˆä¸‰ï¼‰ï¼šé¢å¯¹å¯¹è±¡ï¼ˆä¸Šï¼‰å¿«é€Ÿå…¥é—¨</a></li></ul></li></ul></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/%E5%BB%BA%E7%AB%99/">
          å»ºç«™
        </a>
      <ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/p/56326/" title="Hexo+Github Pageså¿«é€Ÿæ‰“é€ å±äºè‡ªå·±çš„ç½‘ç«™"><i class="post-icon gg-file-document"></i>Hexo+Github Pageså¿«é€Ÿæ‰“é€ å±äºè‡ªå·±çš„ç½‘ç«™</a></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/Git/">
          Git
        </a>
      <ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/p/43848/" title="GitåŸºç¡€ç¬”è®°ï¼ˆåˆæ­¥æ•´ç†ï¼‰"><i class="post-icon gg-file-document"></i>GitåŸºç¡€ç¬”è®°ï¼ˆåˆæ­¥æ•´ç†ï¼‰</a></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/%E6%A0%A1%E6%8B%9B%E7%AC%94%E8%AE%B0/">
          æ ¡æ‹›ç¬”è®°
        </a>
      <ul class="tree-list-children">
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/%E6%A0%A1%E6%8B%9B%E7%AC%94%E8%AE%B0/JAVA/">
          JAVA
        </a>
      <ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/p/42516/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_JVM"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_JVM</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/8959/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_å¤šçº¿ç¨‹"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_å¤šçº¿ç¨‹</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/51787/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_Javaå…¥é—¨"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_Javaå…¥é—¨</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/7257/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_é¢å¯¹å¯¹è±¡"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_é¢å¯¹å¯¹è±¡</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/45493/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_é”"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_é”</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/21069/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_é›†åˆ"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¸€ï¼‰_Java_é›†åˆ</a></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/%E6%A0%A1%E6%8B%9B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">
          è®¡ç®—æœºåŸºç¡€
        </a>
      <ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/p/61434/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¸ƒï¼‰_è®¡ç®—æœºåŸºç¡€_æ•°æ®ç»“æ„"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¸ƒï¼‰_è®¡ç®—æœºåŸºç¡€_æ•°æ®ç»“æ„</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/44980/" title="æ ¡æ‹›ç¬”è®°ï¼ˆäºŒï¼‰_è®¡ç®—æœºåŸºç¡€_Linux&Git"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆäºŒï¼‰_è®¡ç®—æœºåŸºç¡€_Linux&Git</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/5582/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¹ï¼‰_è®¡ç®—æœºåŸºç¡€_ç›¸å…³è¡¥å……"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¹ï¼‰_è®¡ç®—æœºåŸºç¡€_ç›¸å…³è¡¥å……</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/46361/" title="æ ¡æ‹›ç¬”è®°ï¼ˆä¸‰ï¼‰_è®¡ç®—æœºåŸºç¡€_è®¡ç®—æœºç½‘ç»œ"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆä¸‰ï¼‰_è®¡ç®—æœºåŸºç¡€_è®¡ç®—æœºç½‘ç»œ</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/31667/" title="æ ¡æ‹›ç¬”è®°ï¼ˆå…«ï¼‰_è®¡ç®—æœºåŸºç¡€_åœºæ™¯&æ™ºåŠ›é¢˜"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆå…«ï¼‰_è®¡ç®—æœºåŸºç¡€_åœºæ™¯&æ™ºåŠ›é¢˜</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/56848/" title="æ ¡æ‹›ç¬”è®°ï¼ˆäº”ï¼‰_è®¡ç®—æœºåŸºç¡€_MySQL"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆäº”ï¼‰_è®¡ç®—æœºåŸºç¡€_MySQL</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/31215/" title="æ ¡æ‹›ç¬”è®°ï¼ˆå…­ï¼‰_è®¡ç®—æœºåŸºç¡€_Redis"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆå…­ï¼‰_è®¡ç®—æœºåŸºç¡€_Redis</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/p/15646/" title="æ ¡æ‹›ç¬”è®°ï¼ˆå››ï¼‰_è®¡ç®—æœºåŸºç¡€_æ“ä½œç³»ç»Ÿ"><i class="post-icon gg-file-document"></i>æ ¡æ‹›ç¬”è®°ï¼ˆå››ï¼‰_è®¡ç®—æœºåŸºç¡€_æ“ä½œç³»ç»Ÿ</a></li></ul></li></ul></li></ul>
        <div id="widget-tree-button">
          <i class="gg-chevron-right"></i>
        </div>
      </div><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --></body></html>